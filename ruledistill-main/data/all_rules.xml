<Rulebook domain="finqa_reasoning">
<Rule id="01" phase="generation" confidence="1" source="log_01" type="Arithmetic Hallucination">

        <Trigger>Libor change and corresponding interest expense change are provided, but the model fails to calculate the interest expense for a given year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when a percentage change in a financial metric (e.g., Libor) and its corresponding change in another metric (e.g., annual interest expense) are given, the model calculates the original value of the second metric using the provided change and percentage change, even if the original value is not explicitly mentioned.</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="Arithmetic_Hallucination">

        <Trigger>Scenario involves comparing equity awards compensation expense with the value of equity granted during the year, where specific numerical values are provided for the number of shares granted and their weighted average grant date fair value, and the model is required to determine if the equity awards in which prescribed performance milestones were achieved exceed the equity award compensation expense.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating expenses related to equity awards, ensure that all relevant factors such as the number of shares granted, their fair value, and the specific conditions under which performance milestones are considered achieved are accurately considered and calculated. KNOWLEDGE INJECTION: Verify that the calculation correctly reflects the relationship between the equity awards where performance milestones have been achieved and the total equity award compensation expense for the period, avoiding incorrect comparisons or omissions of critical data points.</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="Arithmetic Hallucination">

        <Trigger>When calculating total operating expenses and a percentage of total operating expenses is given for a specific expense category</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for total operating expenses involves dividing the given expense by its percentage of total operating expenses, then multiply by 100 to get the total, rather than directly using the given expense as the total or a fraction of it without proper scaling</Action>

    </Rule>
<Rule id="02" phase="generation" confidence="1" source="log_02" type="Program Logic Failure">

        <Trigger>When a specific expense and its percentage of total operating expenses are provided, but the model fails to recognize the need for a scaling factor to calculate the total operating expenses</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that percentages given for expenses imply a relationship to the total and require adjusting calculations to reflect the whole based on the part and its percentage, applying the formula: Total = (Specific Expense * 100) / Percentage</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="ArithmeticHallucination">

        <Trigger>Percentage calculation involving total cash and investments, and available-for-sale investments, where the model's response contains an unnecessary level of precision (e.g., more than two decimal places) when compared to the ground truth which typically expects a rounded percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Round calculated percentages to the nearest whole number or as contextually appropriate to match the expected format of the ground truth, unless explicitly stated otherwise in the problem context.</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates for financial metrics such as loans held-for-sale, where the model's response does not match the expected numerical answer due to incorrect arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating growth rates, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, and verify that all numerical values are correctly extracted from the context before performing the calculation.</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="Arithmetic_Hallucination">

        <Trigger>Percent calculation involving specific financial figures, such as labor-related deemed claims and total reorganization items net, where precise arithmetic operations are required.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that during percentage calculations, the model performs precise arithmetic operations, considering all decimal places and rounding only at the final step to avoid truncation errors. KNOWLEDGE INJECTION: Verify that the formula for percentage calculation is correctly applied as (part/whole) * 100, without introducing errors due to premature rounding or incorrect significant figure handling.</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="ArithmeticError">

        <Trigger>Percent change calculations involving two different time periods or financial values, especially when comparing revenues or profits between years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percent change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the values used for the calculation are correctly extracted from the given context, considering all components that contribute to the change in net revenue.</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="Arithmetic Hallucination">

        <Trigger>Calculation of proportions or percentages of a total, especially in cases where multiple segments or categories are involved and the total backlog or a similar aggregate measure is given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of portions or percentages of a total is based on the correct identification and summation of relevant segments or categories, and that the total used as the denominator is accurately defined and calculated for the context of the question.</Action>

    </Rule>
<Rule id="02" phase="generation" confidence="1" source="log_02" type="Program Logic Failure">

        <Trigger>Inaccurate representation of the relationship between segment-specific data and overall totals, particularly when determining the proportion of a segment to the total.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the logic used to calculate proportions or percentages correctly accounts for the relationship between specific segments and the overall total, ensuring that the calculations reflect the actual proportions as defined by the context of the data provided.</Action>

    </Rule>
<Rule id="03" phase="generation" confidence="1" source="log_03" type="Incorrect Context Retrieval">

        <Trigger>Misinterpretation of the context in which totals and segments are defined, especially when the question explicitly asks for the proportion related to a specific segment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context of the question is correctly understood, and that the relevant data (such as funded, unfunded, and total backlog amounts for the specified segment and the overall totals) are accurately retrieved and applied in the calculation to avoid confusion between different segments or totals.</Action>

    </Rule>
<Rule id="01" phase="generation" confidence="1" source="log_01" type="Arithmetic Hallucination">

        <Trigger>Calculation of total amount lost from bond authorization to withdrawal, involving multiple bond authorizations and withdrawals</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total amount lost is calculated by summing the differences between the authorized amount and the drawn amount for each bond, rather than relying on incorrect assumptions or hallucinated values</Action>

    </Rule>
<Rule id="02" phase="generation" confidence="1" source="log_02" type="Program Logic Failure">

        <Trigger>Inconsistent or incomplete application of financial formulas, such as calculating total losses or gains from bond transactions</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that all relevant financial formulas are correctly applied, and that the calculations account for all authorized and withdrawn amounts, to prevent logic failures and ensure accurate results</Action>

    </Rule>
<Rule id="03" phase="generation" confidence="1" source="log_03" type="Incorrect Context Retrieval">

        <Trigger>Misinterpretation or misapplication of context-specific information, such as bond terms, authorized amounts, and drawn amounts, in calculating total losses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all context-specific information is accurately retrieved and applied to the calculation, and that the model distinguishes between different bonds, terms, and amounts to prevent incorrect context retrieval and ensure accurate calculations</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating average effect of dilutive securities over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for the specified years are included in the calculation and that the average is computed correctly by summing the individual effects and then dividing by the total number of years, avoiding any premature rounding or incorrect assumptions about the data.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving two different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change formula is correctly applied as ((New Value - Old Value) / Old Value) * 100, considering the order and sign of the values to avoid incorrect signs in the result.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Whenever the question asks for the total of multiple fee categories (e.g., management, leasing, construction, and development) across a specific time period, and the context provides the respective fee amounts for each category.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant fee amounts are accurately summed without omitting any category to calculate the total fees earned during the specified time period.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percent growth calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percent change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage, while maintaining appropriate precision throughout the calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of cumulative total shareholder return involves percentage change and multiplication of annual returns</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for cumulative total return is correctly applied by calculating the percentage change for each year, adding 1 to each year's return, and then multiplying these values together to obtain the total cumulative return, avoiding any incorrect simplifications or omissions of steps in the calculation process</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Comparison of cumulative total shareholder return to the average shareholder return of a benchmark index, such as the S&P 500, requires accurate calculation of both values</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation methodology for both the company's cumulative total shareholder return and the benchmark index's return is consistent and correctly applied, ensuring that all necessary steps, including calculating percentage changes and compounding returns, are accurately performed to produce a valid comparison</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Understanding the context of the question, including the specific time frame and the entities involved, is crucial for providing a relevant and accurate response</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the question's context, including any specified time frames, entities, and the type of return being asked about, is carefully considered and correctly applied in the calculation to provide a response that directly addresses the query, avoiding any confusion or misinterpretation of the information provided</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value from a previous year to the next</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, taking into account the direction of change (increase or decrease) to avoid sign errors</Action>

    </Rule>
<Rule id="17" phase="generation" confidence="1" source="log_17" type="Arithmetic Hallucination and Incorrect Context Retrieval">

        <Trigger>When calculating averages or totals of financial obligations or payments over multiple periods, and the context provides specific payments due by period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant periods and their corresponding payments are considered and correctly summed before calculating the average, and verify that the calculation accurately reflects the total number of periods and payments included in the context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of interest payment from bond issuance, where the model provides an answer that doesn't align with the given interest rate and principal amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the calculation of interest payments from bonds accurately reflects the product of the principal amount, interest rate, and time period, considering the compounding frequency (e.g., semi-annually) as specified in the bond terms.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Question asks for frequency or proportion of events exceeding a certain threshold, and the model responds with an absolute count instead of a relative measure or percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When the question inquires about the frequency of events in terms of how often they occur in relation to a total (e.g., days in a year, instances of a phenomenon), ensure that the response is normalized to represent the proportion or percentage of the total, rather than providing an absolute count of occurrences.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticError">
        <Trigger>Calculation of averages from a series of numbers.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always sum all relevant values before calculating averages to ensure accuracy.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparing financial performance between two entities over multiple years to determine outperformance</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for both entities are correctly extracted and compared using a year-by-year percentage change or absolute value comparison to accurately determine if one entity outperformed the other</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Determining outperformance based on financial data without considering the context of the question</Trigger>

        <Action>KNOWLEDGE INJECTION: Understand the context of the question, which in this case requires comparing the growth or decline of two financial metrics (e.g., stock prices or indices) over time to ascertain if one has outperformed the other, and apply the appropriate comparison methodology</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to correctly retrieve or apply relevant financial data for the specified time frame</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the financial data retrieved matches the time frame and entities specified in the question, and apply the comparison to determine outperformance based on this accurate and relevant data</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Mathematical range calculation for financial metrics, such as redeemable noncontrolling interests and call options with affiliates, across multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the mathematical range is calculated by finding the difference between the maximum and minimum values of the given metric across all years, rather than simply subtracting the minimum from the maximum value without considering all data points</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages of financial values, ensure that the unit of measurement is consistent across all values and that the final calculation does not introduce incorrect scaling factors.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify the unit of measurement for each value being averaged and ensure that the final result is presented in the appropriate unit without unnecessary scaling or conversion that might alter the true average value.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Unit_Inconsistency">

        <Trigger>Encountering multiple financial values with the same unit of measurement (e.g., millions) that need to be averaged.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that when averaging values with the same unit of measurement, the result should also be in the same unit, without applying additional conversions unless explicitly required by the context or question being asked.</Action>

    </Rule>
<Rule id="24" phase="generation" confidence="1" source="log_24" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving time-series data, particularly when comparing quantities over two different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed as ((New Value - Old Value) / Old Value) * 100 to maintain consistency and accuracy in financial analysis, especially when assessing changes in outstanding RSUs or similar financial metrics over time</Action>

    </Rule>
<Rule id="1" phase="calculation" confidence="1" source="inventory_valuation" type="ArithmeticHallucination">
        <Trigger>Percentage increase calculation involving inventory valuation adjustments</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all inventory valuation adjustments are accurately accounted for and that percentage increases are calculated based on the correct original values, using the formula: ((New Value - Original Value) / Original Value) * 100, to prevent miscalculations.</Action>
    </Rule>
<Rule id="1" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative total return for multiple periods, involving comparison between different financial instruments or indexes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for each period are accurately retrieved and correctly applied to the formula for cumulative total return, avoiding any arithmetic hallucination by verifying each step of the calculation against the given data.</Action>

    </Rule>
<Rule id="2" phase="comparison" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Comparison of financial performance metrics, such as cumulative total return, between different entities or indexes over a specified period.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation methodology for cumulative total return is correctly applied, considering the base period and ensuring that the percentage change is calculated as a percentage of the original value, not as an absolute difference. Double-check the formula application to avoid logic errors.</Action>

    </Rule>
<Rule id="3" phase="interpretation" confidence="1" source="error_analysis" type="Context_Misinterpretation">

        <Trigger>Interpretation of the question context, particularly focusing on the requirement for calculating the difference in cumulative total return between two financial entities or indexes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context of the question is correctly understood, identifying the specific financial metrics required (in this case, cumulative total return), the entities or indexes involved, and the time frame for the calculation, to provide an accurate and relevant response.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Calculation of percentages involving lease payments and rent expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant lease payments, including minimum lease payments and rent expenses, are accurately calculated and summed before determining percentages of total operating leases due, considering terms greater than 12 months.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving year-over-year comparisons of numerical values, such as staff numbers or financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the precise formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and round the result to the appropriate decimal place only after the calculation is complete, avoiding premature rounding that could introduce errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change involving a decrease in value, where the initial value is being subtracted from the final value to determine the difference.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change, ensure that the difference is calculated as (final value - initial value), and then this difference is divided by the absolute value of the initial value, considering the sign of the result to correctly determine if the change is positive or negative, thus avoiding errors in reporting increases or decreases.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticError">

        <Trigger>Percent change calculations involving multiple years or time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percent change is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that the old and new values are correctly identified based on the context of the question</Action>

    </Rule>
<Rule id="31" phase="generation" confidence="1" source="log_31" type="ArithmeticHallucinationAndProgramLogicFailure">
        <Trigger>Calculation of percentage outperformance between two financial instruments over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate the total percentage change for each instrument separately over the entire period, then find the difference between these two total percentage changes to determine outperformance. KNOWLEDGE INJECTION: Ensure understanding of compound annual growth rate (CAGR) or total return calculations when comparing long-term performances.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of accumulated depreciation or amortization involving multiple years and prior accumulated amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant annual amortization expenses are added together, and then subtract any less accumulated amortization from prior years to calculate the total accumulated amortization at the end of the specified year</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating the cost of acquisition excluding goodwill and intangible assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of the purchase price allocation, excluding goodwill and intangible assets, are correctly subtracted from the total purchase price to determine the cost not attributed to these categories</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Incorrectly identifying the components of the purchase price allocation</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the purchase price allocation is accurately broken down into its constituent parts, including but not limited to goodwill, intangible assets, and other components, to facilitate correct calculation of the cost not attributed to goodwill and intangible assets</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Failure to consider all relevant financial data provided in the context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always review the entire context for any working capital settlements or adjustments that may affect the calculation of the purchase price and subsequently the allocation of costs not attributed to goodwill and intangible assets</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the amounts for the respective periods being compared, to avoid arithmetic errors and hallucinations.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing handling of zero or negative values in financial calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement checks for division by zero and handle negative values appropriately in financial calculations, such as percent change, to prevent logic failures and ensure robustness.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving multiple years or financial periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percent change by using the formula: ((New Value - Old Value) / Old Value) * 100, and round the result to the appropriate number of decimal places as required by the context or precision standards of financial reporting</Action>

    </Rule>
<Rule id="36" phase="generation" confidence="1" source="log_36" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net margin for a specific quarter</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that operating income is correctly calculated as a percentage of sales and service revenues for the respective quarter, by dividing the operating income of that quarter by the sales and service revenues of the same quarter and then multiplying by 100.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating averages or sums over a specified period, and the model provides an answer that does not match the correct calculation based on provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct numbers relevant to the query period (in this case, 2006-2009) are identified and used in calculations, avoiding the inclusion of irrelevant data or data outside the specified timeframe.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>When the model incorrectly applies arithmetic operations or averages numbers that are not all relevant to the calculation at hand.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that all numbers used in a calculation are pertinent to the question being asked, and apply the correct mathematical operations to these numbers to derive the answer, ensuring that the logic of the calculation aligns with the query's requirements.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the question specifies a particular timeframe or context for the calculation, but the model's response indicates the use of data outside this timeframe or incorrect application of context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately identifies and isolates the relevant data for the specified timeframe or context, excluding any information that falls outside these boundaries to prevent contamination of the calculation with irrelevant data.</Action>

    </Rule>
<Rule id="38" phase="generation" confidence="1" source="log_38" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentual improvements involving multiple factors such as net productivity and overall higher volumes, where the initial and final values are provided along with a contextual description of the improvement.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage improvements, the formula (New Value - Old Value) / Old Value * 100 is applied accurately, considering all provided factors and their impacts on the calculation, and then rounding the result appropriately to avoid precision errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Percentage increase calculations involving multiple time periods or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increases, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied accurately, with precise handling of decimal points and significant figures to avoid rounding errors.</Action>

    </Rule>
<Rule id="40" phase="generation" confidence="1" source="log_40" type="ArithmeticHallucination">
        <Trigger>Questions asking for changes over time in financial valuations, containing keywords like "decrease" or "increase" without explicit specification of absolute or percentage change.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always determine whether the question requires an absolute change or a percentage change in financial values. If the question implies a comparison over time without specifying the type of change, default to calculating both absolute and percentage changes to cover all bases, unless explicitly directed otherwise by the context or question wording.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparison of numerical values between two entities to determine the percentage difference, where the model responds with an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the difference between two numerical values to determine the percentage increase, ensure to subtract the smaller value from the larger value and then divide by the smaller value, finally multiplying by 100 to obtain the percentage difference.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparison of numerical values in financial plans, particularly when determining whether one quantity exceeds another, such as shares issued versus shares remaining.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing quantities to determine if one is greater than, less than, or equal to another, ensure that the comparison is logically consistent with the context provided, focusing on the relationship between the quantities rather than just their numerical values. KNOWLEDGE INJECTION: Understand that a "yes" answer implies that the first quantity is indeed greater than the second, which aligns with the logical comparison intended by the question, not the numerical comparison alone.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Presence of multiple non-consecutive years in a tax controversy context, potentially involving multiple jurisdictions or auditing entities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all mentioned years are individually identified and counted, ignoring any duplicated years or non-relevant information, to accurately determine the total number of years involved in tax controversies.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving changes in financial metrics over time, such as net change in receivables from one year to another</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the net change in a financial metric from one period to another, ensure that the correct values for both periods are identified and that the calculation is performed as a subtraction of the earlier period's value from the later period's value, taking into account the context of whether an increase or decrease is being calculated.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Situations where a model provides a response that suggests a misunderstanding of the direction of change (e.g., increase vs. decrease) in financial metrics</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculated change in a financial metric aligns with the logical expectation of an increase or decrease based on the context provided, and adjust the calculation or interpretation accordingly to reflect a correct understanding of the change's direction.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total sales for specific customer segments or time periods, and applying multiple percentage adjustments sequentially.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Apply percentage adjustments in the correct order, ensuring that each adjustment is made to the correct base value (e.g., original total or previously adjusted total), and avoid compounding adjustments incorrectly by adding 1 to the percentage before applying it in multiplication, unless the adjustment is explicitly defined as a cumulative or compound change.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the change in a financial metric between two periods and the model response is a single value from the context without performing the necessary subtraction.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always subtract the later year's value from the earlier year's value when calculating the change in a financial metric between two periods, ensuring to consider the context's requirement for calculating differences rather than just retrieving a value.</Action>

    </Rule>
<Rule id="47" phase="generation" confidence="1" source="log_47" type="ArithmeticHallucination">
        <Trigger>Calculation of growth rates or percentages in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for calculating growth rates, ensuring the new and old values are accurately identified and used in the formula \( \text{Growth Rate} = \left( \frac{\text{New Value} - \text{Old Value}}{\text{Old Value}} \right) \times 100 \), to avoid miscalculations.</Action>
    </Rule>
<Rule id="48" phase="generation" confidence="1" source="log_48" type="ArithmeticError">

        <Trigger>Percentage change calculation involving a decrease in value, where the model incorrectly applies the percentage change formula or misinterprets the direction of change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula is applied correctly as ((New Value - Old Value) / Old Value) * 100, and verify that the direction of change (increase or decrease) is correctly interpreted based on the sign of the result.</Action>

    </Rule>
<Rule id="49" phase="generation" confidence="1" source="log_49" type="Arithmetic Hallucination">

        <Trigger> Presence of multiple contributing factors to a financial metric (e.g., sales growth due to different reasons such as price changes, foreign currency translation) and a question asking for the metric's value without one of these factors.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating a financial metric without one of its contributing factors, subtract the specific factor's impact from the total, rather than ignoring it or incorrectly assuming its contribution is zero. KNOWLEDGE INJECTION: Identify all factors contributing to the metric in question and apply the correct mathematical operations to isolate the effect of the factor to be excluded.</Action>

    </Rule>
<Rule id="50" phase="generation" confidence="1" source="log_50" type="ContextRetrievalError">

        <Trigger>When a question asks for data from a specific year that is not explicitly mentioned in the provided context, but the context does provide data for other years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model checks for implicit relationships between different data points across various years, and if necessary, extrapolates or interpolates to find the required information based on given data trends and patterns, rather than simply stating that data for the specific year is not provided.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the net change in financial metrics over a period, such as comparing balances from one year to the next.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the direction of change (increase or decrease) is accurately determined by subtracting the initial value from the final value, and verify that the sign of the result correctly represents the nature of the change (positive for increase, negative for decrease).</Action>

    </Rule>
<Rule id="1" phase="postprocessing" confidence="1" source="log_analysis" type="ProgramLogicFailure">
        <Trigger>Encountering a question that asks for a ratio or comparison, especially in the context of financial liabilities or losses, and the model responds with a decimal value.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always check if the question context implies a need for percentage formatting. If the model calculates a ratio, ensure it is converted to a percentage by multiplying by 100, and clearly labeled as a percentage in the final response.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Calculating growth rates or percentages, especially when dealing with previous and current values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by subtracting the previous value from the current value, then dividing by the previous value, and finally multiplying by 100 to obtain the percentage change, while being mindful of rounding to the appropriate decimal place to avoid precision errors.</Action>

    </Rule>
<Rule id="54" phase="generation" confidence="1" source="log_54" type="Arithmetic Calculation Error">
        <Trigger>Calculation of averages from multiple data points over a range of years</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all data points are accurately summed and then divided by the total number of data points to calculate averages, applying the correct mathematical formula for mean calculation.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of fluctuation in credit spread over time, given the impact of basis point increases on financial values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the fluctuation of a financial metric (e.g., credit spread) over two periods, the differences in the metric's impact (e.g., dollar value per basis point) between those periods are correctly calculated and represented as a percentage or absolute change, taking into account the specific formula or methodology relevant to the financial context.</Action>

    </Rule>
<Rule id="56" phase="generation" confidence="1" source="log_56" type="ArithmeticPrecisionError">
        <Trigger>Calculation of growth rates or percentages, especially in financial metrics such as amortization expenses.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, particularly those involving percentages or growth rates, are performed with precise calculation methods, avoiding premature rounding until final results are obtained.</Action>
    </Rule>
<Rule id="57" phase="postprocessing" confidence="1" source="log_finqa" type="FormattingError">
        <Trigger>Questions asking for financial metrics that are typically expressed as percentages, such as margins or rates.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that answers to questions involving financial metrics are correctly formatted with the appropriate unit, including percentages when applicable.</Action>
    </Rule>
<Rule id="58" phase="generation" confidence="1" source="log_58" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of accumulated comprehensive income, especially when determining the proportion from a specific year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by correctly calculating the difference in accumulated other comprehensive income between the end of the specific year and the beginning of the same year, then divide by the total accumulated other comprehensive income at the end of the specific year to find the correct percentage.</Action>

    </Rule>
<Rule id="59" phase="generation" confidence="1" source="log_59" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rates involving multiple time periods or values, particularly when determining percentage changes between different years or financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that the correct values for the old and new periods are used in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="60" phase="generation" confidence="1" source="log_60" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving negative numbers or financing activities</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / |Old Value|) * 100, considering the absolute value of the old value to avoid incorrect signs in the result, especially with negative values such as those often found in net cash used in financing activities.</Action>

    </Rule>
<Rule id="60" phase="generation" confidence="1" source="log_60" type="Arithmetic Hallucination">

        <Trigger>Calculating implied total value based on increased ownership percentage and price paid</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the implied total value is calculated by dividing the price paid by the percentage of ownership increase, then multiplying by 100 to get the total value, considering any adjustments or contingencies mentioned in the context</Action>

    </Rule>
<Rule id="61" phase="generation" confidence="1" source="log_61" type="ArithmeticHallucination">

        <Trigger>Calculation of growth rates involving multiple financial metrics and adjustments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of change (income, gains, contributions, asset increases, and dividends) are accurately accounted for and correctly applied to the base value when calculating percentage changes or growth rates in financial statements, using the formula: ((New Value - Old Value) / Old Value) * 100, and verify the precision of the result to avoid rounding errors.</Action>

    </Rule>
<Rule id="63" phase="generation" confidence="1" source="log_63" type="Arithmetic Hallucination">

        <Trigger>Comparison of growth rates between different segments or products across years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating growth rates for comparison, ensure to apply the formula for percentage change correctly: ((New Value - Old Value) / Old Value) * 100, and consider all relevant factors and segments to avoid incomplete or misleading calculations</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of tax rate on cumulative-effect adjustments for other-than-temporary impairments on investment securities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the tax rate calculation is based on the correct formula and input values, verifying that all adjustments are properly accounted for and that the calculation accurately reflects the relationship between the gross cumulative-effect adjustment and the tax amount.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Inconsistent application of tax rates to cumulative-effect adjustments</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify the tax rate applicable to the specific type of adjustment (e.g., other-than-temporary impairments) and ensure that the model applies the correct tax rate consistently across similar cases, considering the guidance and regulations relevant to the financial context.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Misinterpretation of guidance on other-than-temporary impairments and its impact on tax calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure thorough understanding and accurate retrieval of relevant financial guidance and regulations, applying them correctly to the calculation of tax rates on cumulative-effect adjustments to avoid misconstruing the implications of such guidance on financial outcomes.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates involving negative changes or decreases in financial metrics such as net sales.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, especially decreases, the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, and consider the signs of the values to accurately reflect the direction of change.</Action>

    </Rule>
<Rule id="66" phase="generation" confidence="1" source="log_66" type="Arithmetic_Hallucination">

        <Trigger>Calculation of basic earnings per share or related metrics, such as the number of shares available for the basic earnings per share, where the model provides an answer that does not match the ground truth, suggesting an error in arithmetic operations or data retrieval.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all financial calculations, especially those involving ratios like earnings per share, are performed with precise attention to the formula, correctly identifying the numerator (e.g., income from continuing operations available to common stockholders) and the denominator (e.g., number of shares), and that these values are accurately retrieved from the provided context to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two years is required, and the model response is zero or an unrealistically low value, indicating a potential arithmetic error or failure to apply the correct formula.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always apply the percent change formula correctly by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to get the percentage change, ensuring that all values are correctly retrieved from the context and that the arithmetic operations are accurately performed.</Action>

    </Rule>
<Rule id="68" phase="generation" confidence="1" source="log_68" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios involving future periods compared to a base year, and the model provides an answer of 0 or a significantly incorrect value, indicating a failure to properly consider or calculate the values for the future periods or the comparison year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant time periods' values are correctly identified and applied in the calculation, including properly summing or averaging values for the future periods if necessary, and then correctly formulating the ratio with the base year's value.</Action>

    </Rule>
<Rule id="69" phase="generation" confidence="1" source="log_69" type="Arithmetic_Hallucination">

        <Trigger>When calculating the proportion of oil production from unproved reserves, and the model provides an incorrect numerical estimate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the proportion from unproved reserves is derived by subtracting the percentage of proved reserves from 100%, then applying this percentage to the total production to find the quantity from unproved reserves.</Action>

    </Rule>
<Rule id="70" phase="generation" confidence="1" source="log_70" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, and the result is rounded to the appropriate decimal place as per the context requirements</Action>

    </Rule>
<Rule id="71" phase="generation" confidence="1" source="log_71" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change attributed to a specific component of revenue, where the model incorrectly assumes the component's change is the sole contributor to the overall revenue change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage attributed to a specific component of revenue, ensure to accurately isolate the component's contribution by subtracting its change from the total revenue change, and then dividing by the total revenue change, before multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that all components of revenue are considered and their changes are correctly calculated to avoid misattribution of revenue growth.</Action>

    </Rule>
<Rule id="1" phase="evaluation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating the highest return for the first year of an investment when given multiple data points for different entities, such as hum, S&P 500, and peer group, across various years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify the specific entity and year for which the return is being calculated and ensure that the return is calculated as ((ending value - starting value) / starting value) * 100 for that entity and year, using only the relevant data points.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving data for the wrong entity or year when calculating the return for a specific investment or entity in a given context.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the context is correctly retrieved by identifying the specific entity (e.g., hum, S&P 500, peer group) and the relevant years mentioned in the question, and use only that entity's data for the calculation.</Action>

    </Rule>
<Rule id="3" phase="evaluation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Failing to apply the correct formula for calculating returns when given initial and final values for an investment over a specific period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the return calculation formula is correctly applied as ((final value - initial value) / initial value) * 100 for the specified period and entity, to avoid miscalculations due to incorrect formula usage.</Action>

    </Rule>
<Rule id="73" phase="generation" confidence="1" source="log_73" type="ArithmeticHallucination">
        <Trigger>Calculation of cash flow based on balance changes over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations of flow (e.g., cash flow) based on changes in stock (e.g., balance) over two periods correctly subtract the earlier period's value from the later period's value to determine the net change.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_percent_change" type="ArithmeticError">
        <Trigger>Calculating percent change between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the percent change formula as ((New Value - Old Value) / Old Value) * 100, ensuring the correct identification and use of new and old values.</Action>
    </Rule>
<Rule id="75" phase="generation" confidence="1" source="log_75" type="ArithmeticHallucination">
        <Trigger>Calculation of par value for redeemed units</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the par value calculation for redeemed units accurately reflects the total number of units redeemed, considering the provided par value per unit or given totals, and apply the correct arithmetic operations to derive the total par value redeemed.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change due to a specific factor in revenue between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation due to a specific factor (e.g., fuel recovery) is performed by dividing the change in that factor by the total change in revenue, then multiplying by 100. KNOWLEDGE INJECTION: Recognize that if the change in the specific factor exceeds the total change in revenue, the calculated percentage may exceed 100%, indicating that other factors contributed negatively to the total change.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ProgramLogicFailure">

        <Trigger>Comparing average daily var by risk category for impact of interest rates and equity prices</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing the impact of two financial factors, ensure that the comparison is based on the correct metric (e.g., average daily value) and the values are for the same time period, and consider the context of the question to provide a qualitative answer (e.g., "yes" or "no") rather than a quantitative calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios involving multiple entities or components, such as warehouse space to switching centers, and the model provides an answer that seems logically inconsistent with the context provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total sizes of all relevant entities (e.g., warehouses, switching centers) are correctly summed and then used to calculate the ratio, avoiding the assumption that only a single entity's size is relevant if multiple are mentioned.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>When the model is tasked with finding a ratio between two types of facilities or spaces and it incorrectly applies operations or fails to account for all facilities of each type mentioned in the context.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation involves the total area of all facilities of one type divided by the total area of all facilities of the other type, ensuring that the model understands the scope of the comparison and applies the correct mathematical operation.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the question asks for a comparison between different kinds of spaces or facilities and the model responds with an answer that does not logically follow from the information given about those spaces or facilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the model correctly identifies and retrieves all relevant information about the sizes and numbers of each type of facility mentioned in the question context before performing any calculations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating averages or totals from a series of numbers provided in the context, especially in financial or numerical data, and the model's response does not logically align with the expected mathematical outcome.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values mentioned are correctly summed or averaged according to the question's requirements, and verify that the calculation aligns with basic arithmetic principles before providing the final answer.</Action>

    </Rule>
<Rule id="80" phase="generation" confidence="1" source="log_80" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years of financial data, where the model's response is close to but not exactly equal to the correct answer</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using precise arithmetic operations, rounding only at the final step to avoid intermediate rounding errors, and verify that the formula used is (New Value - Old Value) / Old Value * 100</Action>

    </Rule>
<Rule id="81" phase="generation" confidence="1" source="log_81" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving year-over-year comparisons of financial balances</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations to avoid rounding errors, and verify that the calculation is applied to the correct values extracted from the context.</Action>

    </Rule>
<Rule id="82" phase="generation" confidence="1" source="log_82" type="Arithmetic_Hallucination">

        <Trigger>When calculating the ratio of two financial values, especially in the context of comparing adjustments or changes across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of ratios involving financial adjustments or changes across periods is performed by dividing the absolute value of the earlier period by the absolute value of the later period, or as logically appropriate based on the context of the comparison (e.g., earlier year adjustment divided by later year adjustment), and verify the correct order of operations and the handling of negative numbers if applicable.</Action>

    </Rule>
<Rule id="83" phase="generation" confidence="1" source="log_83" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the values used are from the correct time periods and categories, such as contribution expenses in this context.</Action>

    </Rule>
<Rule id="84" phase="generation" confidence="1" source="log_84" type="ArithmeticHallucination">

        <Trigger>Comparison between accumulated benefit obligation and projected benefit obligation</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating differences between financial obligations, ensure to subtract the correct values and consider the context of the question to determine the order of subtraction, i.e., always subtract the base value from the comparison value.</Action>

    </Rule>
<Rule id="85" phase="generation" confidence="1" source="log_85" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or data points</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify the order of operations to avoid arithmetic errors, especially when dealing with negative changes or decreases.</Action>

    </Rule>
<Rule id="86" phase="generation" confidence="1" source="log_86" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total aggregate contractual obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total aggregate contractual obligations, all components of the total are considered and accurately represented in the calculation to avoid arithmetic hallucination, and verify if the calculated percentage needs rounding to the nearest whole number or to a specific decimal place as per the context requirements.</Action>

    </Rule>
<Rule id="87" phase="generation" confidence="1" source="log_87" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total consolidated revenues for specific segments or categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and multiplication operations when calculating percentages, by correctly dividing the segment revenue by the total consolidated revenue and then multiplying by 100 to obtain the percentage, avoiding rounding errors and verifying the precision of the calculation.</Action>

    </Rule>
<Rule id="88" phase="generation" confidence="1" source="log_88" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change of a specific expense category in relation to the total expense increase, where the model provides an incorrect percentage value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a specific expense category's change in relation to the total expense increase, the difference in the specific category is correctly calculated and then divided by the total expense increase, before multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that all components of the calculation, including the specific expense category's values for the two years in question and the total expense values for those years, are accurately retrieved and used in the calculation.</Action>

    </Rule>
<Rule id="89" phase="generation" confidence="1" source="log_89" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving a comparison between two distinct time periods or values, where the correct operation involves subtraction to find the difference and then potentially dividing by an original value or understanding the context of percentage point changes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage point changes between two values, the correct formula is applied, which involves subtracting the later value from the earlier value to find the difference, and then understanding the context to determine if further operations (like division or simply reporting the difference as is for percentage points) are necessary to accurately represent the change.</Action>

    </Rule>
<Rule id="90" phase="generation" confidence="1" source="log_90" type="Arithmetic Hallucination">

        <Trigger>Calculation of annual compensation expense over a vesting period for stock grants</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total fair value of the grants is divided by the average vesting period to obtain the annual compensation expense, considering the recognition of the expense on an accelerated basis over the vesting period</Action>

    </Rule>
<Rule id="91" phase="generation" confidence="1" source="log_91" type="Arithmetic Hallucination">

        <Trigger>When calculating average assets for self-sponsored conduits, ensure all relevant conduit assets are considered and correctly aggregated.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of averages involves summing all applicable assets and then dividing by the total number of conduits, rather than relying on potentially misleading or incomplete information.</Action>

    </Rule>
<Rule id="92" phase="generation" confidence="1" source="log_92" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total company net operating loss carry forwards and the model response is significantly divergent from the expected numerical range (e.g., near zero when the context suggests a non-negligible percentage), indicating a possible failure in arithmetic operations or data retrieval.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points, including the specific amounts of net operating loss carry forwards and the total company's federal net operating loss, are correctly retrieved and applied in the percentage calculation. KNOWLEDGE INJECTION: Verify that the formula for calculating percentages (part/whole * 100) is correctly applied to the retrieved data.</Action>

    </Rule>
<Rule id="92" phase="generation" confidence="1" source="log_92" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of cash provided by operations from specific financial facilities or activities, where the model's response deviates from the correct percentage due to inaccurate arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of components within a financial metric, such as cash provided by operations, the model accurately identifies and sums all relevant components before applying the percentage calculation, and double-checks the arithmetic to prevent hallucination or miscalculation of the proportional contribution of each component.</Action>

    </Rule>
<Rule id="94" phase="generation" confidence="1" source="log_94" type="Arithmetic_Hallucination">

        <Trigger>Percentual decrease calculations involving multiple financial indices or stocks over specific time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentual decreases for each financial entity are calculated separately using the formula ((Final Value - Initial Value) / Initial Value) * 100, and then find the difference between these calculated percentages to determine the estimated variation</Action>

    </Rule>
<Rule id="94" phase="generation" confidence="1" source="log_94" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ratios involving unrecognized compensation expenses associated with different financial instruments or plans, where multiple values are provided with their respective recognition periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios involving unrecognized compensation expenses, sum all relevant expenses associated with each type of financial instrument or plan before performing the division, and consider the context to accurately identify the numerator and denominator for the ratio calculation.</Action>

    </Rule>
<Rule id="96" phase="calculation" confidence="1" source="log_96" type="ProgramLogicFailure">
        <Trigger>Calculation of percent change over time, especially in financial metrics such as debt to capital.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations involving percent changes are performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the arithmetic operations are executed accurately without rounding errors.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When the question asks for a percentage or proportion of a total amount, and the context provides both the total amount and the specific amount for a particular expenditure or category.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response calculates the percentage or proportion by dividing the specific amount by the total amount and then multiplying by 100, rather than simply reporting the specific amount.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating the difference between two financial values, such as total net of cash collateral, across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the decrease or increase between two financial values involves subtracting the later year's value from the earlier year's value, and verify the arithmetic operation to avoid calculation errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Current assets acquisition calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of current assets, including but not limited to cash, accounts receivable, inventory, and other current assets, are accurately summed to obtain the total value of current assets acquired.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages based on given numerical values, especially when the difference between the two values is small.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding only at the final step of calculation, and verify that the calculation follows the correct formula for percentage change, which is ((New Value - Old Value) / Old Value) * 100.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Estimation of effective tax rates for share-based compensation expenses involves calculation of ratios between income tax benefits and the corresponding expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and rounding in calculations involving ratios of financial metrics, such as tax benefits to expenses, to prevent minor discrepancies in the final percentage values.</Action>

    </Rule>
<Rule id="102" phase="generation" confidence="1" source="log_102" type="Arithmetic Hallucination and Context Misinterpretation">

        <Trigger>When calculating percentages of total noncancelable future lease commitments due in a specific year, and the model has access to fiscal year data but not specific due dates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model distinguishes between fiscal year data and specific due dates for lease commitments. KNOWLEDGE INJECTION: Require the model to recognize when specific due dates are not provided and to avoid assuming fiscal year data directly represents lease payments due in that year without clear indication.</Action>

    </Rule>
<Rule id="103" phase="generation" confidence="1" source="log_103" type="Arithmetic Hallucination">

        <Trigger>Calculation of remaining compensation expense per share for unvested awards, where total unrecognized compensation expense and weighted-average period are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total unrecognized compensation expense is divided by the total number of unvested shares and then divided by the weighted-average period, considering the weighted-average grant-date fair value to calculate the remaining compensation expense per share.</Action>

    </Rule>
<Rule id="104" phase="generation" confidence="1" source="log_104" type="Arithmetic Hallucination">

        <Trigger>Calculating growth rates between two specific dates or periods involving share prices, especially when comparing peak values from a quarter to a later specific date.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage growth rates, the formula correctly identifies the initial and final values and applies the percentage change formula accurately: ((Final Value - Initial Value) / Initial Value) * 100. KNOWLEDGE INJECTION: Verify that the initial value used is indeed the highest (or lowest, depending on the context) value from the specified period, and the final value is correctly identified from the given date or context.</Action>

    </Rule>
<Rule id="105" phase="generation" confidence="1" source="log_105" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage change by using the formula: ((New Value - Old Value) / Old Value) * 100, and verify the arithmetic operations to avoid precision errors</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage of change in revenue due to a specific factor, such as volume or weather, and incorrect application of formulas.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of change due to a specific factor, the correct formula is applied: (factor's change / total change) * 100, without incorrectly multiplying or dividing by the factor's change itself.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation follows the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the old value is non-zero to avoid division by zero errors.</Action>

    </Rule>
<Rule id="108" phase="generation" confidence="1" source="log_108" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving time-series data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage changes between different time periods to ensure accuracy.</Action>
    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of estimated purchase price that is goodwill, where model response does not match the correct arithmetic operation involving goodwill and estimated purchase price.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of the estimated purchase price that is goodwill, the formula (goodwill / estimated purchase price) * 100 is applied correctly, considering all components of the purchase price and their relation to goodwill.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the signs of the values are correctly interpreted to avoid miscalculations.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="error_log_101" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change over time, especially in financial metrics like interest rates.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as (NewValue - OldValue) / OldValue * 100, applying this formula universally across all relevant financial metrics and time-series data.</Action>
    </Rule>
<Rule id="112" phase="generation" confidence="1" source="log_112" type="Arithmetic_Hallucination">

        <Trigger>Stock option exercise activity and treasury stock shares are mentioned in the context, requiring a calculation of the percentage of common stocks issued.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant shares issued from treasury stock in connection with stock option exercise activity are accurately divided by the total number of common stock shares available to obtain the correct percentage, considering the context of stock option activity and treasury stock.</Action>

    </Rule>
<Rule id="113" phase="generation" confidence="1" source="log_113" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentages involving interest, penalties, and gross unrecognized tax benefits, where the model's response deviates from the correct arithmetic operation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving components of a total (such as interest and penalties within gross unrecognized tax benefits), the model accurately sums the components and then calculates the percentage based on the total, rather than hallucinating or incorrectly applying arithmetic operations.</Action>

    </Rule>
<Rule id="114" phase="generation" confidence="1" source="log_114" type="Arithmetic_Hallucination">

        <Trigger>When calculating a portion of total future minimum payments due within a specific timeframe, the model provides an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations involving portions or fractions of total amounts are expressed as percentages or ratios, rather than absolute values, when the question context implies a relative measurement.</Action>

    </Rule>
<Rule id="115" phase="generation" confidence="1" source="log_115" type="Arithmetic Hallucination">

        <Trigger>Calculation of the difference between statutory and effective tax rates for financial analysis, especially when comparing rates across different years or operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the difference between two percentages (such as statutory tax rate and effective tax rate), subtract the smaller percentage from the larger one, regardless of their positions or the context provided, and verify the calculation steps to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="116" phase="generation" confidence="1" source="log_116" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two periods, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify the order of values to avoid inversion of the new and old values, which could lead to incorrect signs or magnitude of the percentage change.</Action>

    </Rule>
<Rule id="117" phase="generation" confidence="1" source="log_117" type="ArithmeticAndContextualError">
        <Trigger>Calculation of balance changes over time, including determining the direction of change (increase/decrease) and proper unit representation.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate balance changes by subtracting the initial balance from the final balance, then determine if the result indicates an increase or decrease based on the sign of the result (positive for increase, negative for decrease), and ensure the answer includes the direction of change and the correct units (e.g., "thousand" for values in thousands).</Action>
    </Rule>
<Rule id="118" phase="generation" confidence="1" source="log_118" type="Arithmetic Hallucination">

        <Trigger>Calculating averages of debt maturities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total debt maturities are correctly summed and then divided by the number of years in the specified period to calculate the average, avoiding any incorrect assumptions about the distribution of debt maturities</Action>

    </Rule>
<Rule id="119" phase="generation" confidence="1" source="log_119" type="ArithmeticHallucinationError">

        <Trigger>Calculation of year-over-year changes in financial metrics, such as average annual rent per square foot, where the model provides an answer without explicit arithmetic steps shown in its reasoning process.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of year-over-year changes involves explicit subtraction of the previous year's value from the current year's value, using the formula: (Current Year's Value - Previous Year's Value), to verify the model's response.</Action>

    </Rule>
<Rule id="120" phase="generation" confidence="1" source="log_120" type="ProgramLogicFailure">

        <Trigger>Instances where the model's response matches the correct answer but lacks transparent reasoning steps, making it difficult to assess the model's logic or identify potential flaws in its calculation process.</Trigger>

        <Action>KNOWLEDGE INJECTION: Mandate the model to provide step-by-step arithmetic operations for any calculation involving changes over time, ensuring transparency and facilitating the identification of errors or logical inconsistencies in its reasoning.</Action>

    </Rule>
<Rule id="120" phase="generation" confidence="1" source="log_120" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving the allowance for borrowed funds and other funds used during construction</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages, ensure that the result is rounded to the appropriate decimal place as specified by the context or standard financial conventions, and verify that the calculation accurately reflects the relationship between the parts and the whole, avoiding unnecessary precision that may not be relevant to the financial context</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Calculating the percentage of total number of shares purchased as part of publicly announced plans or programs</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct total number of shares purchased is used as the denominator when calculating the percentage of shares purchased as part of publicly announced plans or programs, and verify that all relevant values are extracted from the correct context period</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="ProgramLogicFailure">

        <Trigger>Inconsistent calculation of percentages based on given data</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula used to calculate the percentage is correct and consistently applied across all relevant data points, considering the total number of shares purchased as part of publicly announced plans or programs in relation to the total number of shares purchased within the specified period</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="IncorrectContextRetrieval">

        <Trigger>Identifying the relevant time period for calculating the percentage of shares purchased as part of publicly announced plans or programs</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the data used for calculation corresponds to the correct time period specified in the question, and distinguish between different periods (e.g., the period from 11/26/06 to 12/31/06 versus the total period) when retrieving context</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination Error">

        <Trigger>Percentage change calculations between two time periods involving decimal numbers</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the decimal places are handled accurately to avoid precision errors.</Action>

    </Rule>
<Rule id="123" phase="generation" confidence="1" source="log_123" type="Arithmetic_Hallucination">

        <Trigger>Multiple addends are mentioned in different categories (e.g., federal, state, foreign) that need to be summed to calculate a total value, such as net operating loss carryforwards.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant addends across different categories are accurately identified and summed to calculate the total value, avoiding arithmetic errors by carefully considering each component's contribution to the overall total.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change, ensure to use the formula ((New Value - Old Value) / Old Value) * 100, and verify that the old value is not zero to avoid division by zero errors, and apply the correct order of operations.</Action>

    </Rule>
<Rule id="125" phase="generation" confidence="1" source="log_125" type="Arithmetic Hallucination">

        <Trigger>Calculation of total cash returned to shareholders involves adding or subtracting multiple components such as dividends and share repurchases, where some components may have the same value or may be irrelevant to the specific year in question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that only relevant financial components for the specified year are included in the calculation, and verify that each component's value is correctly applied as either a positive or negative factor according to its financial definition before summing them up to find the total cash returned to shareholders.</Action>

    </Rule>
<Rule id="126" phase="generation" confidence="1" source="log_126" type="Program Logic Failure">

        <Trigger> Presence of irrelevant or redundant financial data points that do not pertain to the calculation for the specified year, which could lead to incorrect inclusion in the calculation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Filter financial data to only include entries relevant to the year in question and the specific components of cash return (e.g., dividends and share repurchases) before performing calculations to avoid incorrect inclusions.</Action>

    </Rule>
<Rule id="127" phase="generation" confidence="1" source="log_127" type="Incorrect Context Retrieval">

        <Trigger>Failure to correctly identify and apply the financial values relevant to the year specified in the question, potentially due to misunderstanding the context or misinterpreting the financial data provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the context (year) of the question matches the data being used for calculation and ensure that financial terms and their implications (positive or negative) are correctly understood and applied in the calculation of total cash returned to shareholders.</Action>

    </Rule>
<Rule id="126" phase="generation" confidence="1" source="log_126" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving multiple values with different units or contexts, such as net proceeds and floating rates due in different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving multiple components, each component is properly weighted according to its context (e.g., time period, category) and summed appropriately before applying the percentage formula. KNOWLEDGE INJECTION: Verify that the numerator of the percentage formula accurately represents the portion of the total (denominator) being considered.</Action>

    </Rule>
<Rule id="127" phase="generation" confidence="1" source="log_127" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving comparative financial performance over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage changes are calculated as ((NewValue - OldValue) / OldValue) * 100, and differences between such changes are determined by subtracting one percentage change from the other, maintaining consistency in the calculation methodology</Action>
    </Rule>
<Rule id="128" phase="generation" confidence="1" source="log_128" type="ArithmeticPrecisionError">
        <Trigger>Calculations involving percentage changes or ratios</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations are performed with high precision, and apply rounding only to the final result to prevent accumulation of rounding errors.</Action>
    </Rule>
<Rule id="129" phase="generation" confidence="1" source="log_129" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation of a component in a total balance</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a component in a total, the formula (component value / total value) * 100 is applied correctly, and the result is clearly marked as a percentage to avoid confusion with absolute values.</Action>

    </Rule>
<Rule id="130" phase="generation" confidence="1" source="log_130" type="Arithmetic Hallucination">

        <Trigger>Calculating total mainline operating expenses from a given percentage of expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating total expenses from a given percentage, the model verifies that the percentage is applied correctly to the total, using the formula: total_expenses = (given_expense * 100) / percentage_of_total_expenses, to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="130" phase="generation" confidence="1" source="log_130" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total net revenues for a specific segment, ensure that the correct arithmetic operations are applied to the given numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the percentage calculation is performed by dividing the specific revenue by the total net revenue and then multiplying by 100, to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="1" phase="evaluation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparison of returns between two financial entities over a specific period, where the model calculates a percentage return but fails to correctly determine which entity outperformed the other.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing percentage returns, ensure that the calculation directly addresses the question asked (e.g., which entity had a greater return) rather than just calculating a return value. KNOWLEDGE INJECTION: Apply the formula correctly to determine outperformance: (End Value - Start Value) / Start Value for each entity, and then compare these ratios to determine which entity had a greater return.</Action>

    </Rule>
<Rule id="133" phase="generation" confidence="1" source="log_133" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving initial and final balance values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the correct formula: ((final_value - initial_value) / initial_value) * 100, and maintain the sign of the result to accurately reflect increases or decreases</Action>

    </Rule>
<Rule id="134" phase="generation" confidence="1" source="log_134" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving multiple categories of fully-insured and total commercial medical plans</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant subcategories are accurately summed and divided to calculate the overall percentage, using the formula: (sum of fully-insured in all categories / sum of total commercial medical in all categories) * 100, and verify the precision of the result to avoid rounding errors</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucinationAndLogicFailure">
        <Trigger>Calculating percentage change over time, especially in financial contexts involving sales data.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct percentage change formula, and KNOWLEDGE INJECTION: Verify the direction of change (growth or decline) based on the calculated value.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculations involving comparisons of financial metrics, such as additions versus deductions, across different periods or contexts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing financial metrics like additions and deductions, the model calculates the percentage difference correctly by dividing the difference between the two metrics by the base metric (deductions in this case) and then multiplying by 100 to get the percentage increase, rather than just providing a absolute difference or incorrect calculation.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Situations where the model needs to interpret the context of "how much bigger" one financial figure is compared to another, indicating a need for a relative comparison rather than an absolute difference.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that questions asking for comparative sizes (e.g., "how bigger") between financial figures require calculating the relative difference or percentage increase rather than just subtracting one value from another. This involves identifying the correct operation (division and multiplication by 100 for percentages) and applying it to the relevant financial metrics mentioned in the context.</Action>

    </Rule>
<Rule id="137" phase="generation" confidence="1" source="log_137" type="Arithmetic Hallucination">

        <Trigger>Calculation of the proportion of hard assets within acquired softer assets, involving the division of a specific asset value by the total fair value of assets acquired.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When determining the percentage of a specific asset type within a total, ensure that the calculation involves dividing the value of the specific asset type by the total value of all assets acquired, and then multiplying by 100 to obtain the percentage, avoiding incorrect arithmetic operations or direct value substitutions.</Action>

    </Rule>
<Rule id="138" phase="generation" confidence="1" source="log_138" type="arithmetic_hallucination">
        <Trigger>Calculation of percentage change between two values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the percentage change formula as ((New Value - Old Value) / Old Value) * 100, ensuring the correct order of operations and attention to the sign of the result to accurately reflect increase or decrease.</Action>
    </Rule>
<Rule id="139" phase="generation" confidence="1" source="log_139" type="Arithmetic_Hallucination">

        <Trigger>When calculating combined balances or totals for a specific period, and the input data provides separate values for each year within that period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided annual values are correctly summed to obtain the combined total for the specified period, without omitting any year's data or introducing unrelated values.</Action>

    </Rule>
<Rule id="140" phase="generation" confidence="1" source="log_140" type="Arithmetic Hallucination">

        <Trigger>Anticipated percentage increase calculation in financial forecasting, especially when involving fuel expenses or other operational costs, and the model provides an answer that doesn't align with the provided data or logical calculation steps.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage increases based on given financial data (such as fuel expenses), the formula (New Value - Old Value) / Old Value * 100 is correctly applied, taking into account the specific financial metrics provided (e.g., fuel consumption, price per gallon, total expenses). KNOWLEDGE INJECTION: Verify that the calculation methodology accounts for the sensitivity of expense changes to price fluctuations as described in the problem context, without directly copying numbers from the context into the rule.</Action>

    </Rule>
<Rule id="141" phase="generation" confidence="1" source="log_141" type="ProgramLogicFailure">
        <Trigger>Calculations involving percentages of total assets or net assets</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations of percentages from financial data accurately reflect the relationship between total assets, net assets, and any specified subsets thereof, by correctly applying relevant formulas and considering all provided financial figures.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating averages of financial data, such as intangible assets, across multiple years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data points are correctly summed and then divided by the number of periods to calculate the average, avoiding reliance on unstated assumptions or omitting provided data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the effect of inventory changes on cash flow from operations, and the model provides an incorrect numerical response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the change in inventories correctly subtracts the beginning inventory from the ending inventory, and apply the correct sign (positive or negative) based on whether the change is an increase or decrease, to accurately reflect the impact on cash flow from operations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculating percentage changes in financial metrics, such as free cash flow, between different years.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure to correctly identify the base year and the comparison year when calculating percentage changes. KNOWLEDGE INJECTION: Verify that the formula for percentage change ((New Value - Old Value) / Old Value * 100) is applied correctly, taking into account the direction of change (increase or decrease) and that the context of the comparison is accurately interpreted from the question.</Action>
    </Rule>
<Rule id="145" phase="generation" confidence="1" source="log_145" type="Arithmetic Hallucination">

        <Trigger>Calculation of income tax benefit rate based on stock compensation, where the model response does not match the expected numerical outcome.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the income tax benefit rate calculation incorporates all relevant stock-based compensation figures from the given timeframe, applying the correct mathematical formula to derive the benefit rate, and verify that the final result accurately reflects the proportional relationship between the compensation and the benefit.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of a portion of total cash obligations due within a specific timeframe</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion due within a specific timeframe (e.g., the next 12 months) involves dividing the amount due in that timeframe by the total cash obligations, not the reverse. KNOWLEDGE INJECTION: Understand the context that the portion due is typically a fraction of the total and apply the correct arithmetic operation to avoid inversion of the division.</Action>

    </Rule>
<Rule id="147" phase="generation" confidence="1" source="log_147" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the values used are the correct ones for the specified time periods, with proper consideration of the context provided.</Action>

    </Rule>
<Rule id="148" phase="generation" confidence="1" source="log_148" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving financial data, especially when comparing values across different time periods.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations are performed using precise values and appropriate rounding at the final step, avoiding intermediate rounding that could propagate errors. KNOWLEDGE INJECTION: Review the formula for percentage change, which is ((New Value - Old Value) / Old Value) * 100, and verify that the model applies it correctly with accurate decimal handling.</Action>
    </Rule>
<Rule id="148" phase="generation" confidence="1" source="log_148" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving time-series data, especially when comparing financial metrics between two distinct periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic errors and provide accurate financial assessments.</Action>

    </Rule>
<Rule id="150" phase="valuation" confidence="1" source="log_150" type="ArithmeticHallucinationError">

        <Trigger>When calculating the fair value of a stock from a transaction involving multiple components such as cash, shares, and fees, and the model provides an incorrect numerical answer without directly referencing any of the transaction's specifics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when extracting the fair value of stock from a complex transaction, the model only considers the specific valuation or pricing information directly related to the stock itself, excluding other transaction components such as cash payments or fees unless explicitly instructed to incorporate these elements into the valuation formula.</Action>

    </Rule>
<Rule id="151" phase="generation" confidence="1" source="log_151" type="ProgramLogicFailure">
        <Trigger>Percentage or proportion calculation of a specific expense out of a total expense in financial contexts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate proportions by dividing the specific expense by the total expense and then multiplying by 100 to get the percentage, when the question explicitly asks for a percentage or a fraction of a total amount.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="average_calculation_log" type="ArithmeticError">
        <Trigger>Calculation of averages from a series of financial data points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all values are summed and divided by the correct number of values when calculating averages</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage point changes in financial ratios, such as cash-to-debt ratio, across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage point changes, ensure that the difference in percentages is calculated directly without converting the percentages to decimal form, and verify that the result is presented as a numerical value without percentage sign unless explicitly required by the context.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_error_log" type="ArithmeticHallucination">
        <Trigger>Questions asking for "increase" or "change" in financial values over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes in financial balances over time, ensure to determine if the question requires an absolute change (dollar amount) or a relative change (percentage), and apply the appropriate formula accordingly.</Action>
    </Rule>
<Rule id="155" phase="generation" confidence="1" source="log_155" type="ArithmeticHallucination">

        <Trigger>Percent change calculation involving multiple factors such as market change, net inflows/outflows, and FX impact</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all factors, including market change, net inflows/outflows, and FX impact, are accurately accounted for and summed before calculating the percent change, using the formula: ((Ending Value - Beginning Value) / Beginning Value) * 100, and verify that the calculation is performed in the correct order of operations</Action>

    </Rule>
<Rule id="156" phase="generation" confidence="1" source="log_156" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of a specific component within a total, such as stock-based compensation consisting of stock options, and the model response is significantly off or returns an unrealistic value (e.g., 0%) without performing the necessary arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components, such as the total stock-based compensation and the portion thereof (e.g., stock options), are identified and correctly used in the calculation. KNOWLEDGE INJECTION: Always verify that the calculation follows the basic principles of percentage calculation, which involves dividing the part by the whole and then multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating ratios involving floating rates or financial metrics across different periods, and the model's response does not match the expected result based on provided context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the numerator and denominator in ratio calculations are correctly identified and that the calculation is performed based on the provided numerical values for each period, avoiding any form of arithmetic hallucination or assumption beyond given data.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_log_002" type="Program_Logic_Failure">

        <Trigger>Upon encountering a question that requires comparing financial metrics (like floating rates) across different time frames (e.g., December 2015 vs. December 2016), and the model incorrectly applies or fails to apply the necessary mathematical operations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the mathematical operations required for comparisons (e.g., division for ratios) and applies these operations correctly using the provided financial data for each period, without omitting any critical steps or assuming unseen data.</Action>

    </Rule>
<Rule id="158" phase="generation" confidence="1" source="log_158" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages from a series of monetary values provided for different years in a financial context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values are summed and then divided by the total number of years to calculate the average, without omitting any values or incorrectly applying arithmetic operations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="finqa_log" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations follow the formula: ((New Value - Old Value) / Old Value) * 100, to maintain precision in financial analysis.</Action>
    </Rule>
<Rule id="160" phase="generation" confidence="1" source="log_160" type="ArithmeticHallucination">
        <Trigger>Estimation of fair value for a specific date based on trend data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations for estimating fair values on specific dates are based on logically applied trends from given data points, considering the direction and magnitude of changes over time.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="tax_rate_calculation" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two time periods, particularly when determining the decrease in a financial metric such as effective tax rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the change in a percentage from one period to another, ensure the subtraction is performed as (Later Period Value - Earlier Period Value), and apply the appropriate sign based on whether the change is an increase or decrease, maintaining consistency in the direction of change (decrease should yield a negative result if the earlier value is larger).</Action>

    </Rule>
<Rule id="162" phase="generation" confidence="1" source="log_162" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total exposure net of all collateral based on given rating equivalents, and the model provides a response that does not accurately reflect the proportional relationship between the specific rating equivalent exposure and the total exposure.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages of total exposure net of all collateral for specific rating equivalents involves dividing the exposure amount for that rating equivalent by the total exposure amount and then multiplying by 100, to obtain the accurate percentage representation. KNOWLEDGE INJECTION: Verify that the model correctly identifies and applies the relevant exposure amounts and total exposure figures from the provided context to avoid arithmetic hallucination or logic failure.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of the beginning balance of accrual for fraud losses that is paid in cash, and the model's response is an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the percentage of the beginning balance paid in cash by dividing the cash payment by the beginning balance and multiplying by 100, rather than providing an absolute value.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>When the model fails to account for the context of accrual for fraud losses and provides an incorrect calculation for the cash payment portion.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the context of accrual for fraud losses and applies the correct formula to calculate the percentage of the beginning balance paid in cash, considering all relevant factors such as payments and beginning balances.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of percentages or ratios from total values, especially in financial or lease commitment contexts.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations, particularly those involving percentages or proportions, maintain sufficient decimal precision until the final step to avoid rounding errors, then round as required for the specific financial context.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving multiple asset categories or sensitivity amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total sensitivity amounts, all relevant asset categories are accurately summed and the correct proportion is determined by dividing the specific category's value by the total value, then multiplying by 100 to obtain the percentage</Action>

    </Rule>
<Rule id="166" phase="generation" confidence="1" source="log_166" type="ArithmeticHallucination">
        <Trigger>Calculation of financial metrics such as working capital turnover</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that financial ratios are calculated using the correct and relevant formulas, with precise division of the respective financial figures (e.g., Revenue divided by Working Capital for working capital turnover), and verify the units and values used in the calculation</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of cumulative total shareholder return involving multiple time periods and comparison between different stock indices</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values are normalized to a common starting point before calculating percentage changes, and verify that the formula for cumulative total shareholder return is correctly applied across all time periods, including accurate handling of negative and positive changes to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Comparison of percentage cumulative total shareholder return between different entities, such as a company's common stock and a broad market index</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the logic for calculating percentage changes over multiple periods correctly accounts for the effects of compounding and that the comparison between different entities (e.g., a specific stock vs. a market index) is done using the same methodology and time frame to ensure accurate and relevant comparisons</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Retrieval of historical stock prices or index values for calculating cumulative total shareholder return, especially when multiple years are involved</Trigger>

        <Action>CRITICAL FORMATTING RULE: Validate that all relevant historical data points are correctly retrieved and matched to their respective dates and entities, ensuring that the calculation is based on accurate and complete information, and that the context (e.g., specific stock vs. market index) is correctly understood and applied in the calculation</Action>

    </Rule>
<Rule id="168" phase="generation" confidence="1" source="log_168" type="ArithmeticHallucination">
        <Trigger>Calculation of cumulative total return on a stock over multiple periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for cumulative return is applied correctly, taking into account the compounding effect of annual returns by multiplying the (1 + return) for each period, not merely summing the returns.</Action>
    </Rule>
<Rule id="169" phase="generation" confidence="1" source="log_error_analysis" type="FormattingError">
        <Trigger>Questions asking for numerical values without explicit percentage signs in the context.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the answer is formatted according to the question's requirements, omitting unnecessary percentage signs unless explicitly implied by the question's context.</Action>
    </Rule>
<Rule id="170" phase="generation" confidence="1" source="log_170" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages from given reserve values, particularly when determining loss percentages based on unpaid loss and loss expense reserves.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in the context of financial reserves, the formula (part/whole) * 100 is applied correctly, taking into account the precise definitions and values of the parts and the whole, and double-checking the arithmetic operations to prevent miscalculations.</Action>

    </Rule>
<Rule id="170" phase="generation" confidence="1" source="log_170" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percent change, ensure that the direction of change (increase or decrease) is correctly accounted for by using the formula: ((New Value - Old Value) / Old Value) * 100, and apply the correct sign based on the direction of change</Action>

    </Rule>
<Rule id="172" phase="generation" confidence="1" source="log_172" type="Arithmetic_Hallucination">

        <Trigger>Transition adjustments or balance changes mentioned in the context that require calculating net change</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant adjustments, including initial and final balances, are accurately accounted for when calculating net changes, and verify that the calculation correctly reflects the difference between the final and initial states</Action>

    </Rule>
<Rule id="173" phase="generation" confidence="1" source="log_173" type="Arithmetic_Hallucination">

        <Trigger>Calculating the portion of total long term debt due in a specific timeframe, where the model's response is significantly different from the correct answer, indicating a possible misunderstanding of the debt schedule or maturities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When determining the percentage of long-term debt due within a specified period, ensure to accurately calculate the ratio of current maturities to total scheduled maturities, considering all relevant debt schedules and maturity dates provided in the context.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="ScalingError">
        <Trigger>Presence of scaling units (e.g., thousands, millions) in the question context.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always verify and apply the correct scaling factor or unit mentioned in the problem statement to the calculated answer before finalizing the response.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage growth calculations that require a clear distinction between numeric values and percentages</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations include the percentage symbol (%) in the final answer to avoid ambiguity between numeric values and percentages</Action>

    </Rule>
<Rule id="176" phase="generation" confidence="1" source="log_176" type="Arithmetic_Hallucination">

        <Trigger>Calculating average contributions over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values mentioned for different years are summed and then divided by the total number of years to calculate the average, without excluding any intermediate steps or omitting any year's contribution.</Action>

    </Rule>
<Rule id="177" phase="generation" confidence="1" source="log_177" type="Arithmetic_Hallucination">

        <Trigger>Calculating average values from a series of financial data points, especially when dealing with monetary units such as dollars or billions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all financial values are converted to the same unit of measurement (e.g., millions, billions) before calculating averages, and verify that the arithmetic operations are correctly sequenced and executed, avoiding any rounding errors that might significantly impact the result.</Action>

    </Rule>
<Rule id="178" phase="generation" confidence="1" source="log_178" type="Program_Logic_Failure">

        <Trigger>Questions asking for average values over multiple years, where data for each year is provided separately.</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating averages from time-series data, confirm that the model sums all relevant data points and then divides by the number of data points, applying the formula for mean calculation correctly: Average = (Sum of all values) / (Number of values).</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">
        <Trigger>Calculation of change in financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always subtract the initial value from the final value to determine the direction and magnitude of change correctly, ensuring that a positive result indicates an increase and a negative result indicates a decrease.</Action>
    </Rule>
<Rule id="179" phase="generation" confidence="1" source="log_179" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage increase between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage increase between two values, ensure to use the formula ((New Value - Old Value) / Old Value) * 100, to accurately determine the percentage change, rather than relying on incorrect arithmetic operations or mental math</Action>

    </Rule>
<Rule id="180" phase="generation" confidence="1" source="log_180" type="Arithmetic_Hallucination">

        <Trigger>Calculating the difference between statutory and effective tax rates for any given year, where the model provides a numeric response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the subtraction of the effective tax rate from the statutory tax rate is performed correctly, taking into account the potential for a negative result, which indicates the effective rate is higher than the statutory rate. KNOWLEDGE INJECTION: Verify that the calculation considers the context of tax rates correctly and applies the appropriate arithmetic operation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticError">
        <Trigger>Calculation of changes in financial metrics, such as decreases or increases in rental payments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values are correctly identified and that the appropriate arithmetic operation is applied to calculate the change.</Action>
    </Rule>
<Rule id="182" phase="generation" confidence="1" source="log_182" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages in financial contexts, especially when comparing two time periods or values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that growth rates are calculated as ((New Value - Old Value) / Old Value) * 100 to obtain the percentage change, rather than simply subtracting or adding values without proper contextualization.</Action>

    </Rule>
<Rule id="183" phase="generation" confidence="1" source="log_183" type="IncorrectContextRetrieval">
        <Trigger>Percent change calculations involving previous and current year data, where the direction of change (increase or decrease) needs to be accurately determined.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations correctly account for the direction of change by verifying if the new value is greater than (increase) or less than (decrease) the old value, and apply the formula ((New Value - Old Value) / Old Value) * 100 accordingly, maintaining consistency with financial reasoning principles.</Action>
    </Rule>
<Rule id="184" phase="generation" confidence="1" source="log_184" type="ArithmeticHallucination">

        <Trigger>When calculating changes in financial metrics, such as unrecognized tax benefits, and the model provides an answer that is opposite in sign to the expected change based on the given context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the direction of change (increase or decrease) is correctly applied when computing differences between initial and final values of financial metrics, ensuring that the sign of the result accurately reflects whether the metric has increased or decreased.</Action>

    </Rule>
<Rule id="185" phase="generation" confidence="1" source="log_185" type="Arithmetic Hallucination">

        <Trigger>Calculation of the difference in effective borrowing rates due to the use of swaps, where the model provides an answer without properly considering the context of the question or the given data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the difference in effective borrowing rates, ensure that the model subtracts the effective average borrowing rate after swaps for the given year from the weighted average coupon of long-term borrowings for the same year, and verify that this calculation aligns with the question's requirements, considering the impact of swaps on borrowing rates.</Action>

    </Rule>
<Rule id="186" phase="generation" confidence="1" source="log_186" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of a specific asset category among total assets, the model provides an incorrect response due to miscalculation or incorrect summation of asset values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all asset categories are properly summed to determine the total assets before calculating the percentage of any specific asset category. KNOWLEDGE INJECTION: Verify that the formula for percentage calculation is correctly applied as (specific asset category value / total assets value) * 100.</Action>

    </Rule>
<Rule id="187" phase="generation" confidence="1" source="log_187" type="Arithmetic Hallucination">

        <Trigger>Amortization rate calculations involving average useful life of intangible assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating amortization rates, ensure that the result is rounded to the appropriate number of decimal places to match the expected output format, and verify that the formula used is correctly dividing the annual amortization by the asset's useful life, taking into consideration the context provided.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of assets deductible for taxes, and the model responds with an incorrect absolute value (e.g., 0) that does not correlate with the provided financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all asset types with estimated amortization periods are considered deductible for tax purposes, and calculate the total deductible amount as a percentage of the total assets acquired, excluding non-deductible assets like goodwill.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>When the model fails to distinguish between deductible and non-deductible assets (e.g., goodwill) in the context of tax calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always separate assets into deductible (e.g., intangible assets with amortization periods) and non-deductible categories (e.g., goodwill) before performing tax-related calculations to ensure accurate assessments of tax deductibility.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the model neglects to consider the amortization periods of different asset types as a critical factor in determining their deductibility for tax purposes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant financial data, including amortization periods of intangible assets and the categorization of assets (e.g., customer-related, contract-based, technology, and fixed assets), are correctly retrieved and applied in the calculation of tax-deductible percentages.</Action>

    </Rule>
<Rule id="189" phase="generation" confidence="1" source="log_189" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation in financial data, particularly when given initial and final balances over a specific period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change is calculated using the formula ((final balance - initial balance) / initial balance) * 100, applying it consistently across all relevant financial metrics and timeframes to avoid incorrect computations</Action>

    </Rule>
<Rule id="190" phase="generation" confidence="1" source="log_190" type="Arithmetic Hallucination">

        <Trigger>Questions asking for total values of a specific metric (e.g., net undeveloped acres) across different categories or regions, where multiple values are provided for different sub-categories or regions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating total values from sub-category or regional data, ensure that all relevant sub-category or regional values are summed, without omitting any, to obtain the correct total value.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Questions involving calculation of total cash received from shares purchased, where the model provides an answer without explicitly calculating the product of the number of shares and the weighted average price per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model multiplies the correct number of shares purchased by the corresponding weighted average price per share and sums these products when calculating total cash received from share purchases, using the formula: Total Cash = (Number of Shares * Weighted Average Price per Share).</Action>

    </Rule>
<Rule id="192" phase="generation" confidence="1" source="log_192" type="Arithmetic Hallucination">

        <Trigger>Quarterly comparison of financial metrics, such as mortgage repurchase claims, across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct difference is calculated by subtracting the earlier quarter's value from the later quarter's value, considering the context of originations and the specified time frame, to prevent incorrect arithmetic operations</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage growth involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage growth, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, avoiding arithmetic hallucination by accurately retrieving and using relevant numerical values from the context.</Action>

    </Rule>
<Rule id="194" phase="generation" confidence="1" source="log_194" type="Arithmetic Hallucination">

        <Trigger>When calculating aggregate values such as average capacity from a set of distinct models with their respective capacities and counts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the average is based on a weighted sum of the capacities, where the weights are the proportions of each model in the total fleet, rather than a simple average of the capacities.</Action>

    </Rule>
<Rule id="195" phase="generation" confidence="1" source="log_195" type="Program Logic Failure">

        <Trigger>Upon encountering a scenario requiring the computation of an overall metric from multiple sub-components, each with its own quantitative attributes and frequencies.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the program logic accounts for all sub-components and accurately applies the necessary mathematical operations (e.g., multiplication, division) to derive the correct overall metric, considering the distribution and quantity of each sub-component.</Action>

    </Rule>
<Rule id="195" phase="generation" confidence="1" source="log_195" type="ProgramLogicFailure">
        <Trigger>Questions asking for increases or decreases in financial metrics over time without specifying the type of change.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always clarify whether the question seeks an absolute change or a percentage change before calculating the difference, to ensure the response matches the query's requirement.</Action>
    </Rule>
<Rule id="196" phase="generation" confidence="1" source="log_196" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving multiple categories of data, such as leased, owned, and total space, where the model's response does not accurately reflect the proportional relationship between the parts and the whole.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total floor space by business segment, the model accurately sums the relevant parts (e.g., leased space) and divides by the total space, then multiplies by 100 to obtain the correct percentage, avoiding arithmetic hallucination by double-checking the mathematical operations involved in the calculation.</Action>

    </Rule>
<Rule id="197" phase="generation" confidence="1" source="log_197" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving monetary values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage change by using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed with precise arithmetic operations to avoid rounding errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the effect of multiple factors (e.g., market change, FX impact) on a financial metric (e.g., asset allocation and balanced), and the model's response has an incorrect sign or magnitude.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant factors are correctly added or subtracted, considering their signs and magnitudes, to calculate the net effect on the financial metric.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>When the model's response indicates a failure to account for all components contributing to a change in a financial metric over time, such as omitting the impact of market changes or FX fluctuations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation includes all relevant components, such as net inflows/outflows, acquisitions, market changes, and FX impacts, to accurately determine the total effect on the financial metric.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating total expected payments for long-term debt, including capital leases, over a specified period, and the input data provides separate values for different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values for each year mentioned in the context are summed to obtain the total expected payments for the specified period, without excluding any year's data.</Action>

    </Rule>
<Rule id="200" phase="generation" confidence="1" source="log_200" type="ArithmeticCalculationError">
        <Trigger>Calculation of averages or totals from a series of financial data points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points are summed and then divided by the total count of data points when calculating averages to prevent arithmetic hallucination or miscalculation.</Action>
    </Rule>
<Rule id="200" phase="generation" confidence="1" source="log_200" type="Arithmetic_Hallucination">

        <Trigger>Rate of change calculations for predicting future financial values, such as interest payments, based on historical data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of future financial values based on historical rate of change properly applies the percentage change to the most recent data point, and then correctly computes the resulting value without introducing arithmetic hallucination.</Action>

    </Rule>
<Rule id="201" phase="generation" confidence="1" source="log_201" type="Program_Logic_Failure">

        <Trigger>Scenarios where financial projections are made using trends from previous years, requiring the application of a calculated rate of change.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the program logic correctly identifies the relevant historical data points, accurately calculates the rate of change between the specified periods, and applies this rate of change to predict future values without logical inconsistencies.</Action>

    </Rule>
<Rule id="202" phase="generation" confidence="1" source="log_202" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, and that the correct values for the new and old periods are used in the calculation</Action>

    </Rule>
<Rule id="203" phase="generation" confidence="1" source="log_203" type="ArithmeticHallucination">
        <Trigger>Calculation of averages or totals from a series of financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial values are correctly summed before calculating averages, and verify that the division is by the correct number of items to avoid arithmetic hallucination.</Action>
    </Rule>
<Rule id="204" phase="generation" confidence="1" source="log_204" type="ArithmeticHallucinationAndLogicFailure">
        <Trigger>Questions asking for "increase" or "change" in financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always assess whether the question implies a need for a percentage calculation or an absolute difference. If the question context includes words like "increase," "decrease," "growth," or "change" and implies a comparison over time, calculate the percentage change by dividing the difference by the original value and multiplying by 100, unless explicitly stated otherwise.</Action>
    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods for financial metrics, such as annual performance of a peer group stock</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and that this formula is applied to the relevant financial metrics for the specified time periods</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Discrepancy between calculated and provided net income values, indicating a potential miscalculation of operating income and income tax expense.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures, including operating income and income tax expense, are accurately retrieved and correctly calculated to derive the net income, considering the possibility of multiple entries for the same year that may need to be reconciled or averaged.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Failure to apply the correct formula for net income calculation, which typically involves subtracting total expenses from total revenues or operating income.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always apply the fundamental accounting principle that net income equals total revenues minus total expenses, or alternatively, operating income minus income tax expense, ensuring that all components are correctly identified and computed.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>Misinterpretation or oversight of specific financial data points, such as incorrectly identifying the relevant operating income or income tax expense for the specified year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the context retrieval mechanism accurately identifies and extracts the relevant financial data for the specified year, ensuring that the model distinguishes between different years and types of financial data (e.g., GAAP vs. non-GAAP figures).</Action>

    </Rule>
<Rule id="207" phase="generation" confidence="1" source="log_207" type="ArithmeticHallucination">
        <Trigger>Calculation of percentages for lease obligations</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating percentages of lease obligations due currently, ensure to accurately divide the current portion by the total obligation and then multiply by 100 to obtain the correct percentage. Verify that the formula applied correctly accounts for all parts of the obligation relevant to the question asked.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucinationError">

        <Trigger>Calculating averages from multiple data points over a period of time, especially when specific numbers are provided for each time point</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided data points are summed and then divided by the total number of periods to calculate the average, avoiding any rounding errors during intermediate steps</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of tangible assets in acquisition scenarios where multiple types of intangible assets are mentioned</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure to accurately identify and sum all tangible assets before calculating the percentage, and carefully distinguish between tangible and intangible assets to avoid inclusion of incorrect values in the calculation</Action>

    </Rule>
<Rule id="102" phase="generation" confidence="1" source="log_102" type="Program_Logic_Failure">

        <Trigger>Incorrectly applying formulas for percentage calculations or misinterpreting the context of asset types in financial statements</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the formula for calculating percentages is correctly applied, and that the context of the question is properly understood to ensure the inclusion of relevant and exclusion of irrelevant data</Action>

    </Rule>
<Rule id="103" phase="generation" confidence="1" source="log_103" type="Incorrect_Context_Retrieval">

        <Trigger>Failing to recognize the specific details provided in the context that differentiate between types of assets or incorrectly assuming the relevance of certain information to the calculation at hand</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a thorough context analysis to correctly identify and categorize assets as tangible or intangible, and ensure that the calculation is based solely on the relevant and accurately identified asset values</Action>

    </Rule>
<Rule id="210" phase="generation" confidence="1" source="log_210" type="ArithmeticHallucination">

        <Trigger>Presence of multiple columns or sections in a financial table that require separate calculations, and the model incorrectly combines or misinterprets these values to arrive at a final calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations are performed separately for each relevant column or section before attempting to combine or use the results in further calculations, especially when dealing with equity compensation plans and total value determinations.</Action>

    </Rule>
<Rule id="211" phase="generation" confidence="1" source="log_211" type="ProgramLogicFailure">

        <Trigger>Incorrect application of formulas or misunderstanding of the question context, leading to the multiplication of irrelevant numbers or the incorrect summation of shares.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula applied matches the context of the question, and ensure that the calculation directly answers the question without introducing unnecessary steps or misinterpreting the given data.</Action>

    </Rule>
<Rule id="212" phase="generation" confidence="1" source="log_212" type="IncorrectContextRetrieval">

        <Trigger>Failure to identify the correct column or section in the financial data that directly corresponds to the question asked, leading to the use of incorrect data in calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the question is carefully analyzed to identify the specific data required for the calculation, and confirm that the data retrieved from the financial table or context directly pertains to the question asked, avoiding the misuse of data from unrelated columns or sections.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculating total debt or financial amounts over a specified range of years</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant annual amounts are correctly summed without omission when calculating totals for a given period.</Action>
    </Rule>
<Rule id="212" phase="generation" confidence="1" source="log_212" type="Arithmetic Hallucination">

        <Trigger>Pre-tax aggregate net unrealized loss calculation, presence of tax provisions, and reclassification into results of operations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that pre-tax values are calculated by adding the net unrealized loss and the corresponding tax provision, before considering reclassifications into results of operations, to obtain accurate pre-tax aggregate values</Action>

    </Rule>
<Rule id="213" phase="generation" confidence="1" source="log_213" type="ArithmeticHallucination">
        <Trigger>Calculation of averages or percentages from given data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by summing all relevant values and then dividing by the total count, avoiding premature rounding until the final calculation step</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages in financial statements, particularly when determining changes in balances over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that growth rates are calculated as ((Ending Balance - Beginning Balance) / Beginning Balance) * 100, to accurately reflect percentage changes in financial metrics.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change in financial metrics, such as net income margin, where the model's response deviates from the correct answer due to incorrect arithmetic operations or failure to consider all relevant factors.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes in financial metrics, ensure that all relevant components, including any one-time benefits or expenses, are correctly incorporated into the calculation, and that the arithmetic operations are performed accurately, taking into account the specific formula for percentage change.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Incorrect_Context_Retrieval">

        <Trigger>Comparing financial values across different time periods to determine if there is an increase or decrease</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always compare the values for the same financial item (e.g., derivative receivables) between the two periods being considered, ensuring that the later period's value is correctly identified as the current value and the earlier period's value as the previous value, to accurately determine if there is an increase or decrease</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the respective financial metric values for the two time periods being compared</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the fair value amount of a specific business unit or segment, and the model's response does not match the expected result based on provided percentages and allocated book values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant percentages and allocated values are correctly converted into absolute values and summed according to the context provided, avoiding arithmetic hallucination by grounding calculations in explicitly given numerical data.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Upon encountering a question that requires the computation of a specific financial metric (e.g., fair value) for a particular reporting unit or segment, where the model fails to apply the correct formula or logic.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model applies the appropriate financial formulas and considers all relevant components (such as goodwill and allocated book value) when calculating the desired metric, ensuring adherence to standard financial reasoning principles.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the model incorrectly interprets or fails to retrieve relevant contextual information necessary for calculating a financial metric, such as misunderstanding the relationship between percentages, goodwill, and allocated book values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model accurately identifies and retrieves all contextually relevant data points and their interrelations, applying this understanding to perform calculations that reflect the actual financial situation described in the context.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage increase calculations involving cash contributions or benefit payments</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations of percentage increase are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the response format matches the question's requirement for a percentage value.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years of financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value represent the respective financial data points for the years in question, to prevent arithmetic inaccuracies</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage return over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage return calculation is based on the initial and final values of the investment, using the formula: ((Final Value - Initial Value) / Initial Value) * 100, and that the calculation spans the entire period in question, taking into account all relevant data points.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Inconsistent application of time-value-of-money principles in multi-year return calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that calculating returns over multiple years involves considering the compounding effect and that a simple arithmetic mean of annual returns does not accurately represent the total return over the period. Apply the correct formula for compound annual growth rate (CAGR) when necessary.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Quarterly principal payments with changing payment amounts over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all payment amounts and their respective periods are accurately accounted for when calculating total principal payments, by breaking down the calculation into separate periods with different payment amounts and summing these amounts correctly.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that all values are accurately retrieved from the context and correctly plugged into the formula</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucinationError">

        <Trigger>Upon encountering a question about the difference in ranges of financial instruments, such as equities, within a specific financial context like a pension plan</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of differences between ranges involves subtracting the lower percentage value from the higher percentage value, while also verifying that the units of measurement (e.g., percentages) are consistent across the comparison</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="ProgramLogicFailure">

        <Trigger>When a model is tasked with calculating a difference based on given ranges and there are multiple ranges provided with different units or formats (e.g., range with a percentage, range without a specific percentage)</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that percentages should be directly comparable, and if a range is provided without a percentage sign, it may need to be interpreted or converted based on context clues or additional information provided in the question</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="IncorrectContextRetrieval">

        <Trigger>In situations where the context mentions specific financial terms or conditions (like "range 15" or "range 36%") and the question pertains to the difference within a particular financial framework (e.g., a company's pension plan)</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always contextualize numerical values by identifying and applying relevant financial terms, definitions, or constraints mentioned in the problem statement to ensure accurate interpretation and calculation of the given values</Action>

    </Rule>
<Rule id="225" phase="generation" confidence="1" source="log_225" type="Arithmetic Hallucination">

        <Trigger>When calculating the change in percentage between two time periods, and the model provides an answer without considering the direction of change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the direction of change (increase or decrease) is considered when calculating percentage changes between time periods, and apply the correct arithmetic operation to reflect this direction.</Action>

    </Rule>
<Rule id="226" phase="generation" confidence="1" source="log_226" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage changes to avoid arithmetic errors</Action>
    </Rule>
<Rule id="226" phase="generation" confidence="1" source="log_226" type="Arithmetic Hallucination">

        <Trigger>Calculation of net change for financial assets or liabilities, involving multiple components such as net realized gains, net unrealized gains, purchases, sales, settlements, and transfers, where the model's response does not match the expected outcome of combining these components.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial components (e.g., net realized gains, net unrealized gains, purchases, sales, settlements, transfers) are accurately accounted for and summed to calculate the net change, and verify that the signs (positive or negative) of these components are correctly applied to reflect their effect on the total change.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving shares outstanding and acquisition amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and rounding when calculating percentages, especially when dealing with large numbers of shares outstanding and acquisition amounts. KNOWLEDGE INJECTION: Double-check the order of operations and verify that the correct values are being used in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Share repurchase calculations involving quarterly distributions and total purchases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations of percentages of share repurchases by quarter are based on accurate quarterly data and total purchase data, and that the correct formula is applied to calculate the percentage, considering all relevant periods and purchase amounts.</Action>

    </Rule>
<Rule id="230" phase="generation" confidence="1" source="log_230" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving year-over-year comparisons of financial metrics, such as equity balances.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using precise arithmetic operations, considering the exact differences and the original values, and rounding only at the final step to avoid intermediate rounding errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of averages or sums over multiple periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points are identified and correctly summed before applying division to calculate averages, verifying the arithmetic operations align with the question's requirements.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Interest income calculation from cash and equivalents</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the interest income is calculated as a percentage of the total cash and equivalents by dividing the interest income by the total cash and equivalents and then multiplying by 100, and round the result to the appropriate decimal place if necessary.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving comparison of a specific income type to total income</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentages by dividing the specific income type by the total income and then multiplying by 100, avoiding rounding errors or incorrect placement of decimal points</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>When calculating the number of stockholders based on dividend information, ensure all given data is correctly utilized.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the dividend amount per share and the total aggregate dividend amount are correctly related to determine the number of stockholders, avoiding unfounded assumptions about the dividend payout structure.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ContextMisinterpretation">

        <Trigger>Upon encountering dividend payment details, including declaration dates, payment dates, and record dates, ensure proper comprehension of their implications.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the number of stockholders of record is directly tied to the specific date mentioned in the context (e.g., "stockholders of record on January 12, 2017"), requiring precise interpretation of temporal and financial data relationships.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="UnitMismatch">

        <Trigger>Identify potential unit mismatches when calculating quantities like the number of stockholders based on financial amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure consistency in units during calculations, particularly when translating between monetary amounts and quantities of stockholders, to prevent errors arising from misplaced decimal points or incorrect scaling factors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of financial metrics, such as amortization expense as a percentage of a credit facility, and the model's response significantly deviates from the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures are accurately extracted and used in the calculation, and that the calculation itself follows the correct mathematical formula, considering the base and the percentage to be calculated.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>When the model fails to properly interpret the context of financial data, such as misunderstanding the relationship between estimated amortization expenses and credit facilities.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the definitions and relationships between different financial concepts and instruments, such as intangible assets, amortization expenses, and credit facilities, to accurately apply them in calculations and reasoning.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the model incorrectly identifies or applies irrelevant financial data or context, leading to a miscalculation or misunderstanding of the question's requirements.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a context verification step to ensure that the model accurately identifies and applies only the relevant financial data and context to the problem at hand, disregarding irrelevant information.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Change calculation between two time periods involving financial obligations or payments</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes between time periods, ensure to subtract the earlier value from the later value to obtain the correct change, and be cautious of the sign to determine if it's an increase or decrease.</Action>

    </Rule>
<Rule id="237" phase="generation" confidence="1" source="log_237" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total amount comprised of a specific financial component, such as noncancelable operating leases, where the model's response does not accurately reflect the proportions given in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and multiplication operations are performed to calculate percentages, specifically by dividing the total amount of the specific component by the total amount and then multiplying by 100 to obtain the percentage, rounding appropriately to match the context's precision requirements.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Financial calculations involving share repurchase and total cash used</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating total cash used for share repurchase, ensure that the multiplication of the total number of shares purchased and the average price paid per share is accurately performed, taking into account all shares purchased, including those as part of publicly announced plans or programs, to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="239" phase="generation" confidence="1" source="log_239" type="ArithmeticHallucination">
        <Trigger>Percentage calculation of impact on effective tax rate due to unrecognized tax benefits</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure proper scaling when calculating percentages, avoiding incorrect multiplication or addition that skews the percentage impact, and verify the base value against which the percentage is calculated.</Action>
    </Rule>
<Rule id="240" phase="postprocessing" confidence="1" source="log_240" type="PresentationFormatError">
        <Trigger>Questions containing keywords related to percentages or ratios in the context of market share or supply.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that answers which represent percentages are formatted with a percent sign (%) unless explicitly instructed otherwise by the question context.</Action>
    </Rule>
<Rule id="241" phase="generation" confidence="1" source="log_241" type="Arithmetic_Hallucination">

        <Trigger>Joint venture valuation with partial ownership percentage and total investment amount mentioned</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the total value of a joint venture, the ownership percentage is used to extrapolate the total value from the partial investment amount, by dividing the investment amount by the ownership percentage, and then apply this calculation before drawing any conclusions about the total value</Action>

    </Rule>
<Rule id="242" phase="generation" confidence="1" source="log_242" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving negative numbers or decreases, especially when determining the difference between two time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, considering the sign of the difference to accurately reflect increases or decreases.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating aggregate values such as sums of financial metrics like payables over multiple years, and the model's response does not match the expected answer due to incorrect arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures mentioned for different years are correctly summed without omitting any values or including irrelevant figures, by carefully parsing the input data and applying the appropriate arithmetic operations as specified in the question context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Ratio calculations involving percentages or proportional values of different rating categories in financial contexts</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios involving percentages or proportions of financial exposure, ensure that the correct values for both the numerator and the denominator are selected based on their respective categories and that the calculation correctly reflects the relationship between these values, avoiding simplistic or incorrect arithmetic operations.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Comparisons or calculations between different financial rating categories (e.g., AAA/AAA to AA-/AA3 vs. A+/A1 to A-/A3) that require proportional analysis</Trigger>

        <Action>KNOWLEDGE INJECTION: In financial reasoning, especially when dealing with ratings and their equivalents, always verify that the categories being compared or calculated are appropriately matched in terms of their financial exposure and percentage representations, and apply the correct mathematical operations to derive meaningful ratios or comparisons.</Action>

    </Rule>
<Rule id="245" phase="generation" confidence="1" source="log_245" type="Arithmetic_Hallucination">

        <Trigger>When calculating total liabilities or assets and multiple values are mentioned for different dates or scenarios within the context, indicating a need for summation or aggregation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values mentioned for different periods or scenarios are accurately identified and summed or aggregated according to the question's requirements before providing a final answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving vested and total options</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations are performed by dividing the vested amount by the total amount and then multiplying by 100, without rounding intermediate results, to maintain precision.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ArithmeticLogicError">
        <Trigger>Calculation of averages or ratios in financial contexts, especially when total quantities and number of categories or holders are given.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure division by the correct denominator when calculating averages, such as shares per holder, to avoid arithmetic logic errors.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of total sales for specific regions or product categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentages are calculated by dividing the regional or category-specific sales by the total sales for the respective year, then multiplying by 100, and rounding to the nearest whole number or as per the context's precision requirement</Action>

    </Rule>
<Rule id="249" phase="generation" confidence="1" source="log_249" type="ArithmeticHallucination">

        <Trigger>Calculating percentage change between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed as (New Value - Old Value) / Old Value * 100, and verify that the sign of the result correctly indicates an increase or decrease</Action>

    </Rule>
<Rule id="250" phase="generation" confidence="1" source="log_250" type="Arithmetic Hallucination">

        <Trigger>When calculating anticipated increases or decreases in a given metric over a period, and the context provides both the initial value and the amount of change expected during that period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the percentage change involves dividing the expected change by the initial value and then multiplying by 100 to obtain the percentage, rather than simply reporting the expected change as the answer.</Action>

    </Rule>
<Rule id="251" phase="generation" confidence="1" source="log_251" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change across different time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Verify that the model accurately identifies and utilizes the correct, non-conflicting data points for each time period before performing calculations, especially in time-series analyses or year-over-year comparisons.</Action>
    </Rule>
<Rule id="252" phase="generation" confidence="1" source="log_252" type="Arithmetic Hallucination">

        <Trigger>When calculating growth ratios involving cumulative total returns without explicit starting points, and the model assumes or infers values not provided in the question context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always require explicit starting points or clearly defined initial values for both entities being compared before calculating growth ratios; if such information is absent, flag the question as under-specified rather than making assumptions about the intent or the data.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="RoundingError">

        <Trigger>Amortization rate calculations involving fractional or decimal years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations for amortization rates maintain precision until the final rounding step to avoid truncation errors, and verify that the final answer is rounded correctly according to the context's precision requirements</Action>

    </Rule>
<Rule id="001" phase="evaluation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When comparing the returns of two financial entities over a specified period, and the model's response is a percentage or a direct comparison.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of returns is based on the correct formula, which involves subtracting the initial value from the final value and then dividing by the initial value, to obtain the percentage return. KNOWLEDGE INJECTION: Verify that the comparison between entities is performed using the calculated returns, not absolute values.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>When the question requires determining if one entity outperformed another based on their returns over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always compare the calculated returns of both entities to determine which one performed better, rather than relying on absolute values or incorrect assumptions. KNOWLEDGE INJECTION: Recognize that outperforming means achieving a higher return, which requires a correct calculation and comparison of returns between the entities in question.</Action>

    </Rule>
<Rule id="255" phase="generation" confidence="1" source="log_255" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change in stock price over a given period, especially when the model provides a response that does not match the expected decline or increase based on the provided data points.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation follows the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result correctly indicates an increase (positive value) or a decrease (negative value), to accurately reflect the stock price performance change.</Action>

    </Rule>
<Rule id="256" phase="generation" confidence="1" source="log_256" type="CalculationPrecisionError">
        <Trigger>Percentage change calculations involving net sales or similar financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations are performed with precise arithmetic, considering the exact values of the previous and current periods, and apply the formula correctly: ((Current Period - Previous Period) / Previous Period) * 100</Action>
    </Rule>
<Rule id="257" phase="generation" confidence="1" source="log_257" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage increase involving adjustments for inventory valuation methods, such as LIFO and FIFO</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase calculation accurately reflects the change in inventory balance by properly accounting for the differences in valuation methods, using the formula: ((New Balance - Old Balance) / Old Balance) * 100, where the balances are adjusted according to the respective valuation method</Action>

    </Rule>
<Rule id="258" phase="generation" confidence="1" source="log_258" type="ArithmeticCalculationError">
        <Trigger>Calculation of total outstanding financial instruments or commitments</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial components are accurately identified and summed when calculating totals, verifying that each addend is correctly incorporated into the final calculation.</Action>
    </Rule>
<Rule id="259" phase="generation" confidence="1" source="log_259" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages for lease payments due in a specific year, involving addition of lease payments and total minimum lease payments for both operating and capital leases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of future minimum lease payments due in a specific year, the sum of lease payments due in that year for both operating and capital leases is correctly divided by the total minimum lease payments for both types, without incorrectly rounding or omitting any payments.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the return on investment (ROI) for a given period, and the model's response lacks a percentage sign or does not explicitly state it as a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all ROI calculations are explicitly stated as percentages, and include the percentage sign (%) in the final answer to avoid ambiguity and misinterpretation.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>When the model fails to calculate the ROI correctly by not using the formula (End Value - Start Value) / Start Value, and instead provides a numerical value without proper context or calculation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always apply the correct ROI formula, which requires subtracting the initial investment value from the final investment value, then dividing by the initial investment value, and finally multiplying by 100 to get the percentage return, to ensure accurate calculations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ratios involving financial metrics, such as pre-tax catastrophe losses, across different calendar years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios of financial metrics across different periods, the model performs accurate division and rounding to the appropriate significant figure, avoiding arithmetic hallucination by adhering to standard mathematical procedures for ratio calculation.</Action>

    </Rule>
<Rule id="262" phase="generation" confidence="1" source="log_262" type="ArithmeticHallucination">
        <Trigger>Questions involving percentage changes of consolidated figures over time, where segment data and percentages are given.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always derive consolidated figures from segment data and percentages when necessary. KNOWLEDGE INJECTION: Ensure that the formula for percentage change is correctly applied: ((New Value - Old Value) / Old Value) * 100, and that all values are correctly extracted or calculated from the given context.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed as ((New Value - Old Value) / Old Value) * 100, and verify that the result is correctly interpreted as a positive or negative percentage change to avoid incorrect increase/decrease classification.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in balance sheet items, such as goodwill and intangible assets, over a specific period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate subtraction of the initial balance from the final balance to determine the net change, taking into account the correct signs for the calculation (i.e., final balance - initial balance).</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculating net change in balance over time, particularly when determining the difference between two consecutive time periods' values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of net change is performed by subtracting the initial value from the final value, taking into account the correct order of operations and the direction of change (increase or decrease), to accurately determine the net change, whether it is an increase or a decrease.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase or decrease between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, rather than simply subtracting or adding values without considering their original context or proportional change.</Action>

    </Rule>
<Rule id="267" phase="generation" confidence="1" source="log_267" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving financial metrics, such as payments or receipts, across different regions or entities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of financial metrics, ensure that the correct formula is applied by dividing the part by the whole and then multiplying by 100 to obtain the percentage, considering potential rounding differences.</Action>

    </Rule>
<Rule id="268" phase="generation" confidence="1" source="log_268" type="Arithmetic Hallucination">

        <Trigger>Calculation of differences in financial metrics between two time periods, particularly when comparing cash payments or expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the difference in financial metrics between two periods, ensure to subtract the earlier period's value from the later period's value to obtain the correct difference, taking into account the direction of the calculation to avoid sign errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating historical financial data, such as revenues or expenses, and the model is given a percentage change and a dollar amount change, but not the original value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the original value is calculated by reversing the percentage change or using the provided dollar amount change, taking into account the direction of the change (increase or decrease), before providing a final answer.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of a component within a total, especially in financial reports and tables</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the correct components are being considered for the calculation (e.g., numerator and denominator) and ensure that the arithmetic operations are performed accurately, paying close attention to the specifics of the question, such as the year and the components involved in the calculation</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Failure to correctly apply the formula for percentage calculation or misunderstanding the question's requirements</Trigger>

        <Action>KNOWLEDGE INJECTION: Review and reinforce understanding of basic arithmetic operations and percentage calculations, ensuring that the model can accurately apply these principles to various scenarios, especially those involving financial data and ratios</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Inability to correctly identify the relevant data points or misunderstanding the context of the question within a larger dataset</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model can accurately locate and extract relevant information from tables and text, understanding the relationships between different data points and the specific context provided by the question, to prevent incorrect data retrieval and calculation</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Incorrect Context Retrieval and Arithmetic Hallucination">

        <Trigger>When calculating a specific component of a larger financial metric, and the problem statement provides related but potentially ambiguous data, such as total consumer credit figures alongside a percentage that applies to a subset of those figures.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the problem statement is carefully dissected to identify the specific metric of interest (e.g., consumer home equity lines of credit) and its relationship to the provided data (e.g., total consumer credit). KNOWLEDGE INJECTION: Recognize that percentages given for subsets of data (like 80% of consumer unfunded credit commitments) must be applied directly to the relevant total if specified, or seek clarification if the relevant total is not explicitly provided.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Mathematical range calculation for financial obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the minimum and maximum values of the financial obligations are correctly identified and used to calculate the mathematical range, by considering all relevant data points within the specified time period.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Inconsistent or missing calculation of net rent values</Trigger>

        <Action>KNOWLEDGE INJECTION: Always calculate the net rent by subtracting the sublease rental income from the rent obligations for each period, and verify that all necessary calculations are performed before determining the mathematical range.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Failure to consider all relevant financial data within the specified time period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant financial data, including rent obligations and sublease rental income, are retrieved and considered for the entire specified time period before performing calculations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Change calculation between two different years or periods, especially when determining the difference in financial amounts such as principal payments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always subtract the earlier year's amount from the later year's amount when calculating changes in financial metrics over time to ensure the correct direction of change is captured.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation involving multiple time periods with varying values, where the model incorrectly calculates the proportion of a specific period's value to the total value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total values across different periods, the model accurately sums the relevant values for the specified period and the total, then correctly applies the percentage formula to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the improvement in financial metrics, such as losses or gains, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation accounts for the correct order of operations and properly subtracts the later year's value from the earlier year's value, considering the correct units and scales of measurement (e.g., millions, thousands, etc.)</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Unit_Mismatch">

        <Trigger>When comparing or calculating financial values from different time periods or categories</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the units of measurement (e.g., dollars, millions, percentages) are consistent across the calculation to prevent incorrect scaling or unit mismatches, which could lead to erroneous results</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Context_Retrieval_Failure">

        <Trigger>When retrieving or applying contextual information about financial metrics, such as discontinued operations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the relevant contextual information (e.g., pretax losses, specific years) is correctly identified and applied to the calculation, ensuring that the correct figures are used for the intended comparison or calculation</Action>

    </Rule>
<Rule id="301" phase="generation" confidence="1" source="log_301" type="PrecisionError">
        <Trigger>Calculations involving percentages or financial figures, especially in contexts of expenses, fees, or net proceeds.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations, particularly those affecting financial metrics like percentages, maintain sufficient decimal places until final rounding to prevent precision errors.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of differences between balances of uncertain tax positions, especially when comparing liability for uncertain tax positions across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the difference between the liability for uncertain tax positions and the balance of uncertain tax positions at a given date is performed by subtracting the balance of the previous year from the balance of the current year, and verify that all relevant figures are correctly identified and utilized in the calculation.</Action>

    </Rule>
<Rule id="278" phase="generation" confidence="1" source="log_278" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change in financial metrics, such as accumulated other comprehensive income, without considering all relevant components, including unrecognized losses or costs.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components, including unrecognized losses or costs, are accurately accounted for when calculating percentage changes in financial metrics. Verify that the calculation includes all necessary addends and subtrahends to determine the correct base value before applying percentage change formulas.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage growth calculations involving negative numbers or expense items</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage growth, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, considering the signs and absolute values of the expenses, to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="280" phase="generation" confidence="1" source="log_280" type="Arithmetic Hallucination">

        <Trigger>Calculation of remaining percentage in a financial context, especially when dealing with letters of credit or similar financial instruments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the remaining percentage of a financial instrument, such as a letter of credit, subtract the outstanding amount from the total permitted amount and then divide by the total permitted amount, finally multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that all relevant financial figures are correctly identified and applied in the calculation to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="280" phase="generation" confidence="1" source="log_280" type="ProgramLogicFailure">
        <Trigger>Calculating rate of change or increase between periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((Later Period Value - Earlier Period Value) / Earlier Period Value) * 100 when calculating percentage increase to ensure accuracy in financial assessments</Action>
    </Rule>
<Rule id="282" phase="generation" confidence="1" source="log_282" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of standby letters of credit that are current, and the model is given a total amount and expiration amounts per period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Calculate the current portion by subtracting the sum of expired commitments from the total amount, then divide by the total amount and multiply by 100 to get the percentage, ensuring all relevant data points are considered and correctly summed before final calculation</Action>

    </Rule>
<Rule id="283" phase="calculation" confidence="1" source="log_283" type="ArithmeticHallucination">

        <Trigger>When calculating return on sales for a specific segment, especially in cases involving discontinued operations or comparison across different years, ensure that the correct numerators and denominators are used and that all relevant figures are accurately retrieved from the provided context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the income from operations and net sales figures used in the calculation pertain to the same segment and year, and apply the formula correctly as: (income from operations / net sales) * 100, for the specified segment and period, to avoid miscalculations and ensure accuracy in financial ratios.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving large numbers or multiple components, such as goodwill and identifiable intangibles assets acquired, in the context of total purchase consideration.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by summing all relevant components before calculating percentages, and verify the correctness of the decimal places and rounding rules applied to reach the final percentage value.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticError">

        <Trigger>Percentage change calculations involving a decrease in value over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, taking into account the direction of change (increase or decrease) to avoid sign errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="UnitMismatchError">

        <Trigger>When the question asks for an amount in a specific unit (e.g., billions) and the context provides values in a different unit (e.g., millions),</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response is converted to the requested unit of measurement to match the question's requirements, and verify that the conversion is accurately applied to the calculated value.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ContextualUnderstandingError">

        <Trigger>When the context contains multiple values related to the same category (e.g., derivative receivables) across different time periods,</Trigger>

        <Action>KNOWLEDGE INJECTION: Understand that the question might be asking for a maximum or total value across these periods, and ensure that the response accurately reflects this by comparing or summing the relevant values as necessary.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="NumericalAccuracyError">

        <Trigger>When the model's response involves numerical calculations based on the context provided,</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all numerical operations are performed accurately, paying attention to the precision and scale of the numbers involved, and ensure that the final response matches the expected format and unit as requested by the question.</Action>

    </Rule>
<Rule id="287" phase="generation" confidence="1" source="log_287" type="ArithmeticError">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to use the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed with precise decimal places to avoid rounding errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of total combined experience loss from multiple geographic or categorical components.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned components are summed without omission when calculating aggregate values, regardless of geographic or categorical distinctions.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Investment return calculations involving initial investment, start date, and end date values, where the model incorrectly scales the return value without accounting for the actual investment amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating total return on investment, ensure that the return percentage or factor is applied correctly to the initial investment amount, rather than directly using the return value as the total return. KNOWLEDGE INJECTION: Verify that the calculation follows the formula: Total Return = Initial Investment * (End Value / Start Value), adjusting for any dividends or compound interest as applicable.</Action>

    </Rule>
<Rule id="290" phase="evaluation" confidence="1" source="log_290" type="ProgramLogicFailure">
        <Trigger>Comparison of financial performance between entities over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate the percentage change or growth rate for each entity over the specified period and compare these rates to determine which entity has outperformed the other.</Action>
    </Rule>
<Rule id="291" phase="generation" confidence="1" source="log_291" type="ArithmeticHallucinationError">

        <Trigger>When calculating percentages or ratios involving financial metrics, such as comparing natural gas prices to oil prices, and the model's response does not accurately reflect the provided data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving ratios or percentages are performed with precise decimal arithmetic and that the correct units and conversion factors are applied, especially when comparing different types of commodities or financial instruments.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentages from given net sales data, where the model provides a response that is close to but not exactly equal to the correct answer, suggesting a rounding or arithmetic precision issue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages from given data, the model performs precise arithmetic operations and rounds only at the final step of calculation to avoid intermediate rounding errors, thus providing accurate percentage values.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticError">

        <Trigger>Calculating percentage cumulative total return for a given period, especially when comparing multiple financial instruments or indices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage cumulative total return is correctly applied, taking into account the initial and final values of each instrument or index over the specified period, and that the comparison between different instruments or indices is done by calculating the percentage return for each and then finding the difference between these percentages.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="ContextualUnderstandingError">

        <Trigger>Understanding the context of financial data, including the starting and ending points of a period, the specific financial instruments or indices involved, and the requirement to calculate percentage cumulative total return.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that calculating percentage cumulative total return requires accurate identification of initial and final values within a specified timeframe and that comparisons between different financial entities necessitate separate calculations of their returns before computing the difference.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="LogicalConsistencyError">

        <Trigger>Ensuring logical consistency when calculating and comparing financial returns, particularly in identifying the correct initial and final values for the period in question and applying the correct formula for percentage return.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of percentage cumulative total return adheres to logical consistency by correctly identifying the start and end values for each financial instrument or index, applying the appropriate formula, and then accurately comparing the calculated returns.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ComparativeError">

        <Trigger>Comparing financial metrics such as rates or yields to determine if one is greater than the other</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always directly compare numerical values of financial metrics when determining which is greater, ensuring that the comparison is based on the actual numerical values provided in the context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of future minimum commitments under operating leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the result is rounded correctly and consistently to the appropriate number of decimal places, considering the context of financial reporting which often requires precise percentage representations.</Action>

    </Rule>
<Rule id="296" phase="generation" confidence="1" source="log_296" type="Arithmetic Hallucination">

        <Trigger>When calculating the total value of stock options, the model provides a response of zero or an implausibly low value despite the presence of relevant numerical data in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total value involves multiplying the number of stock options by the difference between the fair market value and the exercise price, and then apply the correct unit conversion if necessary (e.g., to millions), considering all provided numerical data.</Action>

    </Rule>
<Rule id="297" phase="generation" confidence="1" source="log_297" type="ArithmeticHallucinationAndProgramLogicFailure">
        <Trigger>Encountering division operations involving financial metrics with potential negative values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure division operations correctly account for the sign of all operands, particularly when calculating ratios involving financial metrics that may represent income or expenses.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating averages for a specific time period or category, where multiple data points or totals are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating averages, the total value for the category in question is divided by the number of periods or data points, rather than simply reporting the total value as the average.</Action>

    </Rule>
<Rule id="301" phase="generation" confidence="1" source="log_301" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total capacity from acquired or commenced commercial operations, and specific project details are given, including location, fuel type, gross MW, and equity interest percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages from specific projects is based on accurate division of the project's gross MW by the total MW from all acquired or commenced operations, and then multiplication by 100 to obtain the percentage, considering all relevant projects mentioned in the context.</Action>

    </Rule>
<Rule id="300" phase="generation" confidence="1" source="log_300" type="ArithmeticHallucination">
        <Trigger>Percentage increase calculations involving financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by applying the correct percentage increase formula and avoiding premature rounding to prevent minor calculation discrepancies.</Action>
    </Rule>
<Rule id="301" phase="generation" confidence="1" source="log_301" type="Arithmetic Hallucination Error">

        <Trigger>Percentage change calculations involving decimal values, especially when comparing weighted averages over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding only at the final step of calculation, and verify that all intermediate steps maintain sufficient decimal places to prevent rounding errors, especially when calculating percentages or ratios involving financial metrics.</Action>

    </Rule>
<Rule id="301" phase="generation" confidence="1" source="log_301" type="ProgramLogicFailure">
        <Trigger>Calculation of total or sum over a specified period, especially for financial metrics like debt maturities.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points within the specified time frame are correctly identified and summed.</Action>
    </Rule>
<Rule id="301" phase="generation" confidence="1" source="log_301" type="Arithmetic_Hallucination">

        <Trigger>Calculating the percentage of total contractual obligations that long-term debt obligations make up</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total contractual obligations, the sum of the specific obligation (e.g., long-term debt) is divided by the total contractual obligations, and then the result is multiplied by 100 to obtain the correct percentage, avoiding arithmetic hallucination by following the formula: (Specific Obligation / Total Contractual Obligations) * 100</Action>

    </Rule>
<Rule id="304" phase="generation" confidence="1" source="log_304" type="ArithmeticCalculationError">
        <Trigger>Calculation of percentages from given financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that percentages are calculated by dividing the specific component by the total relevant value and then multiplying by 100, double-checking the arithmetic operations for accuracy.</Action>
    </Rule>
<Rule id="305" phase="generation" confidence="1" source="log_305" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages or proportions involving acquired or constructed sites across different geographic locations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages or proportions of sites in different regions, all relevant sites (both domestic and international) are accurately accounted for, and the calculation is performed with precise decimal places to avoid rounding errors, using the formula: (international sites / total sites) * 100, where total sites = domestic sites + international sites</Action>

    </Rule>
<Rule id="306" phase="generation" confidence="1" source="log_306" type="ProgramLogicFailure">
        <Trigger>Calculation of cumulative total return over a multi-year period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for cumulative total return correctly accounts for initial investment, annual returns, and reinvestment of dividends, applying the formula consistently across all years and investments being compared.</Action>
    </Rule>
<Rule id="301" phase="generation" confidence="1" source="log_301" type="ArithmeticHallucination">

        <Trigger>Calculation of change in values over time, particularly when determining the difference between two consecutive periods for financial metrics such as weighted average shares outstanding.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the change in a value from one period to another, the correct order of subtraction is applied (later period value minus earlier period value) to obtain the accurate direction and magnitude of change.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage change in financial balances or reserves</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100, applying this formula consistently across all financial metrics requiring such analysis.</Action>
    </Rule>
<Rule id="309" phase="generation" confidence="1" source="log_309" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving time series data, particularly when computing year-over-year changes in financial metrics such as days of sales outstanding (DSO).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percent change between two time periods, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, taking into account the precise values of the old and new measurements to avoid rounding errors or incorrect manual calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating percentage changes or differences in financial metrics over time, especially in the context of valuations or allowances, and the model's response involves a simple arithmetic operation but doesn't align with the expected format of a percentage change or ratio.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the final answer is formatted as a percentage change when the question asks for a change from one period to another, and verify that the arithmetic operations correctly calculate the percentage difference, not just the absolute difference. KNOWLEDGE INJECTION: Recall that percentage change calculations require dividing the difference by the original value and then multiplying by 100 to get the percentage, unless the question explicitly asks for an absolute change.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage difference in cumulative returns between two financial entities over a period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change ((End Value - Start Value) / Start Value) * 100 is applied correctly for both entities, and then find the difference between these two percentage changes to obtain the final result</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Comparing financial performance metrics, such as cumulative returns, between a company and its peer group</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation for cumulative return percentage for both the company and the peer group is performed over the same time frame and that the starting values are correctly set to 100% (or another appropriate base value) for accurate comparison</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_arithmetic" type="ArithmeticCalculationError">
        <Trigger>Percentage change calculations involving comparisons between different time periods or values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations follow the formula ((Old Value - New Value) / Old Value) * 100 for decreases, and ((New Value - Old Value) / Old Value) * 100 for increases, with precise arithmetic operations</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase is calculated as ((New Value - Old Value) / Old Value) * 100, where New Value is the value for the later period and Old Value is the value for the earlier period, to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="314" phase="generation" confidence="1" source="log_314" type="ProgramLogicFailureAndArithmeticHallucination">
        <Trigger>Calculation of averages involving beginning and ending balances</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations of averages correctly sum the relevant initial and final values before dividing by the number of terms, and verify that the scale of numbers (e.g., millions, thousands) is consistently applied throughout the calculation.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>Percent change calculations involving consecutive years or periods with provided numerical values for both periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by recalculating percentage changes using the formula ((New Value - Old Value) / Old Value) * 100, rounding results appropriately to avoid precision errors</Action>

    </Rule>
<Rule id="316" phase="generation" confidence="1" source="log_316" type="Arithmetic Hallucination">

        <Trigger>Employee stock purchase plan mentions a percentage of annual compensation used for stock purchases, and the model calculates the total amount used for stock purchases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the total amount used for stock purchases based on a percentage of annual compensation, ensure that the calculation is applied to the total compensation amount and not a specific, unrelated value. KNOWLEDGE INJECTION: Verify that the percentage is correctly applied to the relevant compensation amount to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="317" phase="generation" confidence="1" source="log_317" type="ProgramLogicFailure">
        <Trigger>Calculation of averages from sequential data points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating averages from multiple data points over time, all values are summed and then divided by the total count of data points, without omitting any values or incorrectly weighting them.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_calc_error" type="ArithmeticCalculationError">
        <Trigger>Calculation of growth rates or percentage changes</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure accurate application of the percentage change formula, considering precise input values and proper rounding techniques.</Action>
    </Rule>
<Rule id="001" phase="presentation" confidence="1" source="log_analysis" type="PresentationError">
        <Trigger>Calculations resulting in numerical values as answers</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that numerical answers are presented without unnecessary symbols or signs unless explicitly required by the context of the question.</Action>
    </Rule>
<Rule id="320" phase="generation" confidence="1" source="log_320" type="ContextMismatchError">

        <Trigger>When the question asks for a specific financial metric but the provided context only gives general financial data, and the model attempts to calculate the metric using the general data without clarifying the discrepancy.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model checks for relevant and specific financial data before proceeding with calculations. If the provided context lacks specific details required for the calculation, the model should either request additional information or clearly state the assumption being made to use the general data for the calculation, highlighting the potential discrepancy.</Action>

    </Rule>
<Rule id="321" phase="generation" confidence="1" source="log_321" type="LackOfRelevantDataError">

        <Trigger>When the model is asked to calculate a financial metric that requires specific data points not provided in the context, and the model proceeds without addressing the missing information.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the absence of necessary data for the calculation and address it by either seeking additional information, explaining that the calculation cannot be performed without specific data, or providing a clear assumption about how the general data is being used as a substitute, along with the limitations of such an approach.</Action>

    </Rule>
<Rule id="322" phase="generation" confidence="1" source="log_322" type="IncorrectAssumptionError">

        <Trigger>When the model makes an incorrect assumption about using general financial data to calculate a specific financial metric without clarifying or justifying the assumption.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Mandate that the model explicitly states any assumptions made when using general data for specific calculations, including the recognition of potential errors or inaccuracies due to the lack of precise data. This ensures transparency and allows for the evaluation of the assumption's validity.</Action>

    </Rule>
<Rule id="321" phase="generation" confidence="1" source="log_321" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage values in financial reports, particularly when determining the proportion of specific investments or expenditures within a total value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct order of operations is followed, and all values are converted to the same unit (e.g., percentages to decimals or fractions) to avoid arithmetic errors. KNOWLEDGE INJECTION: Verify that the formula for calculating percentages (part/whole * 100) is correctly applied, and consider potential rounding errors that could affect the final percentage value.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of change in financial metrics between two periods, where the model provides an incorrect difference.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the change in a financial metric between two periods, the correct formula is applied: Change = Value of later period - Value of earlier period. KNOWLEDGE INJECTION: Always subtract the earlier period's value from the later period's value to find the change, regardless of the metric being calculated.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ProgramLogicFailure">

        <Trigger>Comparing financial inflows from different acquisitions to determine which is greater</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing financial inflows from different sources, ensure that the comparison is qualitative (e.g., greater than, less than) rather than just providing a numerical calculation, and provide a clear answer (yes/no) based on the comparison.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucinationError">

        <Trigger>Percentage difference calculations involving multiple time periods or values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the order of values (new and old) is correctly applied to avoid sign errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving partial values related to specific conditions or periods, such as post-merger services, where a subset of the total value is attributed to those conditions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages that represent portions of a total value, ensure to subtract the attributed subset from the total to find the non-attributed portion before calculating the percentage, using the formula: ((Total - Attributed Subset) / Total) * 100.</Action>

    </Rule>
<Rule id="326" phase="generation" confidence="1" source="log_326" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total quantities, especially when given multiple regional or categorical values that need to be summed or compared to find a proportion.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of percentages involves the correct summation or subtraction of relevant quantities before applying the percentage formula, and verify that the base for the percentage calculation is correctly identified and applied.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating year-to-date percentages for share repurchases under a program when the total amount spent and number of shares repurchased are given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating year-to-date percentages for share repurchases, the formula correctly divides the total amount spent by the authorized program amount and then multiplies by 100 to get the percentage, considering the actual timeframe for the calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change involving a decrease in values, especially in financial metrics such as earnings or profits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, considering the sign of the result to accurately reflect increases or decreases.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the difference in values is correctly determined as a decrease if the newer value is smaller than the original, and apply the correct mathematical operation to reflect this decrease, including the use of a negative sign to denote a reduction.</Action>

    </Rule>
<Rule id="330" phase="generation" confidence="1" source="log_330" type="Arithmetic Hallucination">

        <Trigger>Calculation of facility utilization percentage, where the model incorrectly sums or fails to account for all outstanding amounts under the credit facility.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all outstanding amounts, including but not limited to loans and letters of credit, are accurately summed and divided by the total credit facility amount to calculate the utilization percentage, without omitting any components or introducing unwarranted simplifications.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, and consider the direction of change to determine if the result should be positive or negative.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, especially when dealing with expenses or revenues.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, rounding to the nearest whole number if necessary, and verify that the calculation accurately reflects the provided financial data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Stock option calculations involving exercise price and number of options</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total stock option value accurately multiplies the number of options by the exercise price, considering the correct units and potential rounding, to prevent arithmetic inaccuracies.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of long-term debt included in current liabilities, and the model response is a specific value from the given data rather than a calculated percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of long-term debt in current liabilities involves dividing the relevant debt amount by the total long-term debt and then multiplying by 100 to get the percentage, rather than selecting a specific value from the provided data.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to use the formula ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic hallucination and provide accurate percentage increase or decrease.</Action>

    </Rule>
<Rule id="336" phase="generation" confidence="1" source="log_336" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is executed correctly, paying special attention to cases where the new value is less than the old value, to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculations involving amortization expenses over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating annual amortization expenses for intangible assets with different values and amortization periods, ensure that the total value of the intangibles is accurately summed and then divided by the amortization period, considering potential rounding effects to provide a precise final answer.</Action>

    </Rule>
<Rule id="338" phase="generation" confidence="1" source="log_338" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving time-series financial data, particularly when determining changes in balances over years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes over time, the formula [(New Value - Old Value) / Old Value] * 100 is correctly applied, paying special attention to the accurate identification and use of the old and new values from the relevant time periods.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the sum of expenses over multiple years, especially in the context of financial planning or budget analysis, ensure all relevant data points are considered.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always sum all provided expense values for each year within the specified timeframe before finalizing calculations to prevent under or overestimation of total expenses.</Action>

    </Rule>
<Rule id="340" phase="generation" confidence="1" source="log_340" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by recalculating percentage changes using the formula: ((New Value - Old Value) / Old Value) * 100, and verify the correctness of the input values and their corresponding years to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Net change calculations involving initial and final balances, particularly in the context of liabilities or assets over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure subtraction of the initial balance from the final balance to accurately determine the net change, considering the direction of change (increase or decrease) to assign the correct sign to the result</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving multiple entities with different viewer subscriber numbers</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages involving multiple entities, ensure that the sum of all relevant entities' subscriber numbers is accurately determined before dividing the specific entity's subscribers to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculating percentage change in financial balances</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage changes between two financial periods to ensure accuracy.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total purchase price consideration allocated to identifiable intangible assets, ensure accurate arithmetic operations are performed.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all arithmetic operations, including division and multiplication, are executed with precise numerical values to avoid rounding errors, and ensure the final result is rounded appropriately according to the context requirements.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial index performance ratios where model output deviates from expected calculation based on provided numerical data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios of performance between different financial indices, all relevant numerical values are accurately extracted and applied to the calculation, and verify that the final ratio is computed by dividing the correct final values of the respective indices, avoiding any intermediate calculation errors or omissions</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of balance changes over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always subtract the initial balance from the final balance to determine the change in balance.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination and Context Misinterpretation">

        <Trigger>When calculating total share ownership after vesting of RSUs, and the context mentions multiple types of unvested units held by different individuals or groups, and also mentions the current ownership and percentage of common stock outstanding.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant unvested restricted stock units (RSUs) are accurately accounted for, including those held by individual officers, directors, and the group as a whole, and that these are added to the current beneficially owned shares to calculate the total share ownership after vesting, considering all exclusions and inclusions mentioned in the context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Ratio calculations involving future benefit payments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that ratios are calculated as (numerator / denominator) * 100 to obtain percentages, and verify if the context implies a need for a percentage or a direct ratio value, adjusting the calculation accordingly to match the required format of the answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_percentage_change" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, with precise handling of decimal places and rounding at the final step to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="350" phase="generation" confidence="1" source="log_350" type="Arithmetic Hallucination">

        <Trigger>Dividend payment amounts and share prices are mentioned in the context, but the model fails to calculate the number of outstanding shares that received dividends.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the number of outstanding shares that received dividends, ensure that the dividend payment amount is divided by the dividend per share, and consider the total dividend payment for the period to derive the total number of shares that received dividends.</Action>

    </Rule>
<Rule id="351" phase="generation" confidence="1" source="log_351" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving ratios of financial metrics, such as minimum payments to total payments, where the model provides a numerical value without the percentage sign.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always append a percentage sign (%) to the result of ratio calculations when the question explicitly asks for a percentage, ensuring the answer is presented in the correct format.</Action>

    </Rule>
<Rule id="352" phase="generation" confidence="1" source="log_352" type="Program_Logic_Failure">

        <Trigger>Financial calculations requiring the division of one monetary value by another (e.g., minimum payments by total payments) to find a proportion or percentage, where the model's response lacks clarity on whether it represents a proportion or a percentage.</Trigger>

        <Action>KNOWLEDGE INJECTION: In calculations involving proportions or percentages of financial metrics, verify that the final answer clearly indicates whether it is a proportion (e.g., a decimal or fraction less than 1) or a percentage (with a % symbol), ensuring consistency with the question's request.</Action>

    </Rule>
<Rule id="352" phase="generation" confidence="1" source="log_352" type="Arithmetic Hallucination">

        <Trigger>When calculating the proportion of a specific type of asset to the total current assets and prepaids, and the model response is an absolute value rather than a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation involves determining the ratio of the specific asset to the total current assets and prepaids, and express the result as a percentage by dividing the specific asset value by the total current assets and prepaids and then multiplying by 100.</Action>

    </Rule>
<Rule id="353" phase="generation" confidence="1" source="log_353" type="Program Logic Failure">

        <Trigger>When the model adds values without considering the context of the question, which asks for a percentage of total current assets and prepaids.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that questions asking for proportions or percentages of totals require a calculation that involves division of the part by the whole, rather than just addition of the parts.</Action>

    </Rule>
<Rule id="354" phase="generation" confidence="1" source="log_354" type="Incorrect Context Retrieval">

        <Trigger>When the model fails to identify the relevant total current assets and prepaids value to use as the denominator in a percentage calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify and extract the correct total value from the context that corresponds to the denominator in a proportion or percentage calculation, ensuring it matches the specific assets being considered.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change in financial metrics, such as account balance or asset value, where the model response does not accurately reflect the underlying mathematical operation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes or growth rates, ensure that the formula correctly accounts for all relevant factors, including initial values, changes in value, and the proper order of operations, to derive an accurate result that reflects the financial context provided.</Action>

    </Rule>
<Rule id="354" phase="generation" confidence="1" source="log_354" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years and expense values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100, ensuring the correct order of operations and accurate identification of new and old values to avoid arithmetic hallucination and incorrect sign determination.</Action>

    </Rule>
<Rule id="355" phase="generation" confidence="1" source="log_355" type="IncorrectContextualInterpretation">
        <Trigger>Calculating percentage changes in financial metrics where direction is not the focus.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes as absolute values when the direction of change is not specified or is irrelevant to the context, ensuring to apply the formula as |((New Value - Old Value) / Old Value) * 100| to reflect the magnitude of change accurately.</Action>
    </Rule>
<Rule id="356" phase="generation" confidence="1" source="log_356" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total allowances for specific funds used during construction</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the specific allowance by the total allowance for the respective year and then multiplying by 100, without assuming fixed proportions or omitting relevant components of the total allowance.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving cumulative total returns, especially when comparing multiple entities over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all cumulative returns are calculated as a percentage change from the initial investment, and then compare these percentages directly, avoiding any intermediate rounding or incorrect subtraction that might lead to hallucinated arithmetic results</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Situations requiring the computation of differences in percentage returns between two or more financial instruments or indices over a specified period</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula for percentage return is correctly applied, which involves calculating the final value of the investment, subtracting the initial value, dividing by the initial value, and then multiplying by 100 to get the percentage return, before comparing the returns of different instruments</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Questions that involve historical financial data, such as cumulative total returns over multiple years, and require accurate retrieval and application of this data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate data retrieval by verifying that all relevant historical data points are correctly identified and applied in the calculation, avoiding any confusion between different financial instruments or time periods</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple time periods or rates</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly interprets the direction of change (increase or decrease) and applies the appropriate arithmetic operations to calculate percentage changes between different periods or rates, avoiding sign errors that might result in incorrect positive or negative values.</Action>

    </Rule>
<Rule id="001" phase="evaluation" confidence="1" source="abiomed_inc_outperformance_analysis" type="ComparativeError">

        <Trigger>When evaluating the outperformance of a stock against a market index, and the model's response is a numeric value rather than a qualitative assessment (e.g., "yes" or "no").</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model's response is framed as a comparative assessment (e.g., "outperformed" or "did not outperform") rather than a numerical value, by comparing the percentage changes or absolute values of the stock and the index over the specified period.</Action>

    </Rule>
<Rule id="002" phase="calculation" confidence="1" source="percentage_change_calculation" type="ArithmeticHallucination">

        <Trigger>When calculating percentage changes in stock prices or index values over time, and the model's response suggests an incorrect arithmetic operation or an unexplained numerical result.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that percentage changes are calculated correctly using the formula: ((New Value - Old Value) / Old Value) * 100, and ensure that all relevant data points are considered in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="003" phase="contextualization" confidence="1" source="context_retrieval_error" type="ContextualError">

        <Trigger>When the model fails to correctly retrieve or apply contextual information regarding the stock's performance relative to the market index, leading to an incorrect qualitative assessment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and applies all relevant contextual information, including but not limited to, the specific time frame, stock prices, and index values, to make a correct comparative assessment.</Action>

    </Rule>
<Rule id="360" phase="generation" confidence="1" source="log_360" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage increase between two financial periods, and the model responds with an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage increase, rather than simply providing the absolute difference.</Action>

    </Rule>
<Rule id="361" phase="generation" confidence="1" source="log_361" type="Arithmetic_Hallucination">

        <Trigger>Calculating average values from a set of numbers over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the sum of all relevant values is calculated before dividing by the total number of periods to obtain the average, and verify that all values are correctly summed and divided by the correct number of periods</Action>

    </Rule>
<Rule id="361" phase="generation" confidence="1" source="log_361" type="Arithmetic_Hallucination">

        <Trigger>Encountering a question that requires calculating the cumulative change in value over multiple periods, where the model provides a percentage value without considering the context of percentage representation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating cumulative changes, ensure that the final result is properly formatted as a percentage by including the percentage sign (%) if the context requires it, or ensure that the calculation result is correctly interpreted based on the context provided.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Percent change calculations in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct percent change formula, which is ((New Value - Original Value) / Original Value) * 100, when calculating changes in financial metrics over time.</Action>
    </Rule>
<Rule id="364" phase="generation" confidence="1" source="log_364" type="ContextMisinterpretationError">

        <Trigger>When the question asks for a percentage or proportion and the model is given both a specific time period's data and total data, but fails to calculate the proportion correctly.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify if the question requires a calculation of a proportion or percentage based on given totals and subsets, and ensure the model calculates it as a fraction of the total rather than presenting the subset as an absolute value.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>Calculating percentage changes or differences in financial metrics, such as interest rates, where the context involves comparing values across different time periods or events.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in financial metrics, ensure to apply the correct arithmetic operation (addition, subtraction) and maintain the proper sign convention (positive for increases, negative for decreases) to accurately reflect the direction of change.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Future contingent acquisition obligations payable in cash calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total payments, the specific payment year amount is correctly divided by the total payment amount and then multiplied by 100 to obtain the percentage, avoiding any arithmetic hallucination by directly using provided numbers without intermediate calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When the question asks for a percentage related to financial data, such as interest and penalties as part of unrecognized tax benefits, and the model provides an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model identifies the request for a percentage and calculates it by dividing the portion by the whole, then multiplying by 100, rather than providing an absolute value from the context.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>When the model fails to perform a calculation based on provided numbers or fails to understand the context that requires a percentage calculation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement logic to recognize the need for percentage calculations when the question contains keywords like 'percent,' 'percentage,' or 'as a percentage of,' and ensure that the model can extract relevant numbers from the context to perform the calculation.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>When the model provides information from the context without relating it to the specific question about percentages or ratios.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Train the model to closely read the question and identify key phrases that indicate a need for a calculated response, such as percentages, rather than simply retrieving and regurgitating information from the context without proper analysis.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of total square footage for specific purposes (e.g., SG&A, Cost of Sales)</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant areas are explicitly included in calculations by carefully parsing the context to identify which spaces are to be summed, and verify the arithmetic operation for accuracy.</Action>
    </Rule>
<Rule id="369" phase="generation" confidence="1" source="log_369" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage increase involving shares outstanding over a period</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula used is ((New Value - Old Value) / Old Value) * 100, and verify that the final result is rounded appropriately to match the expected precision of the answer, avoiding unnecessary decimal places unless specified otherwise.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Stock repurchase calculations involving total shares purchased and average price paid per share</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of treasury stock after repurchases involves subtracting the total number of shares purchased from the total outstanding shares, and consider the impact of the average price paid per share on the treasury stock value, taking into account any publicly announced plans or programs</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Inconsistent application of financial formulas in calculating treasury stock after repurchases</Trigger>

        <Action>KNOWLEDGE INJECTION: Apply the correct financial formula consistently, considering all relevant factors such as total shares purchased, average price per share, and any publicly announced plans or programs, to accurately calculate the treasury stock after repurchases</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Context_Retrieval_Error">

        <Trigger>Insufficient consideration of publicly announced plans or programs in calculating treasury stock</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model retrieves and incorporates all relevant context, including publicly announced plans or programs and their impact on the total number of shares that may yet be purchased, when calculating the treasury stock after repurchases</Action>

    </Rule>
<Rule id="371" phase="generation" confidence="1" source="log_371" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total liquid assets in relation to total senior and subordinated debt, and the model's response does not align with the basic arithmetic operations required for such calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures are correctly identified and that the calculation follows the proper arithmetic operations, taking into account the total values of both the numerator and the denominator, and considering whether the result should be scaled to a percentage by multiplying by 100, if necessary.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the number of shares for which dividends were paid, and the dividend amount per share is provided along with the total dividend paid.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total dividend amount is divided by the dividend amount per share to obtain the correct number of shares, considering all variations in dividend payments per share during the period in question.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Upon encountering multiple dividend payments with different amounts per share within the same fiscal year.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that dividend payments can vary within a year and that each payment's amount and the number of shares it applies to must be accurately accounted for in calculations to avoid incorrect assumptions of a uniform dividend payment per share.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>When the question pertains to a specific fiscal year and mentions different years' dividend declarations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Focus on the data relevant to the fiscal year in question, ensuring that dividend amounts and shares from other years do not interfere with the calculation for the specified year, thereby avoiding contextual confusion.</Action>

    </Rule>
<Rule id="373" phase="generation" confidence="1" source="log_373" type="Arithmetic Hallucination">

        <Trigger>Calculation of differences between cumulative totals and subsequent totals in financial time-series data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the difference between the total of a financial metric over a specified period and the total of the same metric after that period, ensure that all relevant data points within the specified period are summed correctly and then subtract the total after the period from this sum to find the excess, avoiding any confusion between the totals before and after the specified period.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage decrease between two time periods for financial metrics such as expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((Old Value - New Value) / Old Value) * 100, rather than merely subtracting the new value from the old value to avoid incorrect results</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage gain from a given sale amount and transaction gain</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage gain calculation is performed by dividing the gain by the original sale amount and then multiplying by 100, and verify that the calculation is rounded correctly to the nearest whole number or to the required decimal places as per the context</Action>

    </Rule>
<Rule id="376" phase="generation" confidence="1" source="log_376" type="Arithmetic Hallucination and Context Misinterpretation">

        <Trigger>Redemption or investment calculations involving hedge funds or private equity funds, where the question asks for a percentage of remaining funds at a specific date, and the provided information includes fair values and unfunded commitments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of remaining funds, the correct total value is determined by considering all relevant components such as fair values and unfunded commitments, and that the date specified in the question matches the data used for the calculation. KNOWLEDGE INJECTION: Verify that the formula for calculating percentages accounts for the redeemed or invested amount in relation to the total or remaining value at the specified date, and adjust calculations accordingly to reflect the question's requirements accurately.</Action>

    </Rule>
<Rule id="377" phase="generation" confidence="1" source="log_377" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving multiple categories with different measurement types (e.g., owned, leased, government-owned) are present, and the model is asked to find a proportion of the total.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total square feet by business segment, the model sums the relevant segments (e.g., owned, leased, government-owned) correctly for both the specific category (e.g., missiles and fire control) and the total, before applying the percentage formula to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change due to a specific factor, such as price, in a time series analysis of revenue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the portion of net change in revenue due to a specific factor, the correct formula is applied. This involves calculating the change in revenue due to the factor and then determining what percentage this change represents of the total change in revenue. KNOWLEDGE INJECTION: Identify the specific factor's contribution to the revenue change by using the formula: (change in revenue due to factor / total change in revenue) * 100, and ensure all relevant values are correctly calculated and used in the formula.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Comparing or combining different financial metrics, such as revenues from different periods, to determine the impact of a specific variable.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When evaluating the impact of a variable (like retail electric price) on net revenue changes, ensure that all calculations are logically consistent and correctly sequenced. KNOWLEDGE INJECTION: Verify that the calculation correctly accounts for the change in the variable and its proportion of the total revenue change, avoiding incorrect simplifications or misinterpretations of the data provided.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving or applying incorrect or irrelevant data points for the calculation of revenue changes attributed to a specific factor.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the data points used for calculations are relevant and correctly identified. KNOWLEDGE INJECTION: Confirm that the calculation of the portion of net change in revenue due to a specific factor, such as the retail electric price, uses the appropriate and accurate data points from the given context, avoiding confusion between different data points or misapplication of the data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change or difference between two time periods for financial metrics such as valuation allowance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula is correctly applied as ((New Value - Old Value) / Old Value) * 100, and KNOWLEDGE INJECTION: Verify that the correct values for the old and new periods are retrieved from the context before performing the calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total expenditures by type, especially when dealing with specific years and categories like leasing costs.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a specific type of expenditure within a total, the correct formula is applied: (Specific expenditure / Total expenditure) * 100, and verify that all relevant expenditures are included in the total.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Failure to correctly apply the percentage calculation formula after identifying the specific and total expenditures.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the calculation of percentages involves dividing the part by the whole and then multiplying by 100, and ensure that this step is not skipped or incorrectly performed, especially after calculating the total expenditures.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Miscategorization or omission of relevant expenditure types when determining the total for percentage calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always review the context to ensure that all types of expenditures relevant to the calculation are identified and included, particularly when the question specifies a particular year or type of expenditure like second generation leasing costs.</Action>

    </Rule>
<Rule id="381" phase="generation" confidence="1" source="log_381" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage of total contractual obligations due to long-term debt, including interest, where the model response does not match the ground truth, indicating a potential arithmetic error.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of total contractual obligations due to a specific component (e.g., long-term debt including interest), ensure that the sum of all components of the contractual obligations is accurately determined and used as the denominator in the percentage calculation, and verify that the numerator accurately represents the total amount due for the specified component.</Action>

    </Rule>
<Rule id="382" phase="generation" confidence="1" source="log_382" type="ArithmeticHallucination">
        <Trigger>Calculation of growth rates or percentages involving employee numbers or financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentages, are performed with precise decimal places until the final rounding step to prevent compounding of small errors.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage cumulative total shareholder return, especially when comparing multiple stocks or indices over a period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all calculations for percentage changes are based on the formula ((EndValue - StartValue) / StartValue) * 100, applied correctly to each relevant stock or index, and then compare the results as required by the question to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Calculating percentage cumulative total return for a given period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage cumulative total return is applied correctly, considering the initial and final values over the specified period, and verify that the calculation is performed as ((final_value - initial_value) / initial_value) * 100, to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving historical financial data, such as dividends per share, where the model's response does not accurately reflect the calculation based on provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the arithmetic operations are executed correctly to prevent precision errors or incorrect rounding.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>When calculating averages or totals from a set of numbers provided in a context, especially in financial reasoning questions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided numbers are correctly summed or averaged according to the question's requirements before providing a final answer, avoiding arithmetic hallucination by accurately following mathematical operations.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ProgramLogicFailure">

        <Trigger>Upon encountering a question that requires averaging or summing a series of numbers over multiple years or categories.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation correctly accounts for each data point, and apply the appropriate mathematical formula for averaging (sum of all values divided by the number of values) to prevent program logic failures.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="IncorrectContextRetrieval">

        <Trigger>When a question specifies certain years, locations, or other contextual details for which data is provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the answer only considers the data relevant to the specified context (e.g., years, regions) provided in the question, avoiding the inclusion of extraneous or irrelevant information.</Action>

    </Rule>
<Rule id="387" phase="generation" confidence="1" source="log_387" type="Arithmetic Formatting Error">

        <Trigger>Percentage growth calculations that require formatting the result as a percentage</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage growth calculations are formatted with a percentage sign (%) to distinguish them from absolute values, and verify that the calculation is correctly representing the proportional change</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Comparative financial questions that require a yes/no answer based on the relative values of two or more financial amounts.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that responses to comparative financial questions logically evaluate the relationship between the given financial amounts and provide an answer that directly addresses the comparison (e.g., greater than, less than, equal to) rather than providing a numerical calculation or incorrect data.</Action>
    </Rule>
<Rule id="389" phase="generation" confidence="1" source="log_389" type="Arithmetic Hallucination">

        <Trigger>When calculating total reserves or any cumulative financial metric, and the model provides a response that directly copies a subset of the numbers mentioned in the context without performing the required arithmetic operation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values mentioned in the context are appropriately summed or otherwise arithmetically combined as implied by the question, rather than selecting or repeating individual numbers from the context without calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage of total credit commitments for a specific category, such as credit card lines, where the model's response does not match the expected answer due to incorrect arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct arithmetic operation is applied when calculating percentages, specifically by summing the relevant credit lines and dividing by the total credit commitments, then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Failure to accurately retrieve or apply relevant context information, such as the specific date or category of credit lines, leading to incorrect calculation or selection of data for the percentage calculation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly identifies and applies the relevant context, including dates and categories, to ensure accurate data selection and calculation for the desired percentage.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Incorrect identification or retrieval of context-specific data, such as mistaking the total credit commitments for a different date or category, leading to an incorrect calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a check to ensure that the model accurately retrieves and applies context-specific data, including verifying dates and categories, before performing calculations to avoid incorrect context retrieval.</Action>

    </Rule>
<Rule id="391" phase="generation" confidence="1" source="log_391" type="ArithmeticHallucination">

        <Trigger>When calculating averages over multiple years or data points, the model response does not accurately reflect the arithmetic mean of the provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points are summed and then divided by the total number of data points to calculate the average, rather than relying on pattern recognition or incorrect assumptions about the distribution of the data.</Action>

    </Rule>
<Rule id="392" phase="generation" confidence="1" source="log_392" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial impacts due to changes in discount rate and expected long-term return on assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing the impact of changes in different financial assumptions on expenses, ensure that the comparison is based on the relative effect of each change on the expense, rather than solely on the absolute values of the changes themselves. KNOWLEDGE INJECTION: Recognize that the magnitude of impact on pension expense is dependent on the specific financial context, including the base values of the discount rate and the expected return on assets, thus requiring a nuanced comparison that considers these contextual factors.</Action>

    </Rule>
<Rule id="393" phase="generation" confidence="1" source="log_393" type="ProgramLogicFailure">
        <Trigger>Calculation of differences between two time-series values, especially in financial contexts such as proceeds from securitizations over different years.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that when calculating the difference between two values over time, the correct order of operations is applied (later value minus earlier value), and consider the direction of change to accurately reflect an increase or decrease.</Action>
    </Rule>
<Rule id="1" phase="evaluation" confidence="1" source="performance_comparison" type="Arithmetic_Hallucination">

        <Trigger>Comparing the performance of a stock against a market index over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage changes for both the stock and the market index, and compare the results correctly to determine which performed better over the specified period</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="numeric_operations" type="Program_Logic_Failure">

        <Trigger>Generating a response that involves numerical computations and comparisons</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that all calculations, including percentage changes and comparisons, are performed correctly and that the final response accurately reflects the outcome of these calculations</Action>

    </Rule>
<Rule id="3" phase="evaluation" confidence="1" source="contextual_understanding" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving and applying relevant contextual information, such as the specific stock and market index in question, and the time period over which the comparison is made</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly retrieves and applies the relevant contextual information to generate an accurate response that addresses the user's question</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving multiple categories of storage facilities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant categories of storage facilities are included in the denominator when calculating percentages, considering the context of the question to accurately determine the total number of facilities.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Calculations requiring the summation of different types of facilities to determine the total number of facilities</Trigger>

        <Action>KNOWLEDGE INJECTION: When determining the total number of facilities for percentage calculations, critically evaluate the context to ensure all applicable facility types are summed, avoiding the exclusion of relevant categories that could affect the accuracy of the calculated percentage.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Questions requiring the differentiation between various types of storage facilities for percentage calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the context provided is accurately applied to identify the specific types of facilities relevant to the calculation, ensuring that only the facilities directly referenced in the question or implied by the context are considered in the calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of total shares subject to outstanding awards under a specific plan, and the model provides an incorrect percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation is performed by dividing the number of shares subject to outstanding awards under the specific plan by the total number of shares subject to outstanding awards across all plans, and then multiply by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the calculation accounts for all relevant shares and plans to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="397" phase="generation" confidence="1" source="log_397" type="Arithmetic_Hallucination_and_Program_Logic_Failure">

        <Trigger>When calculating the portion of net change in a financial metric (e.g., net revenue) due to a specific factor (e.g., retail electric price), and the calculation involves percentages or proportions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the portion due to a specific factor involves correctly attributing the change in the financial metric to that factor, considering the total change and the specific factor's contribution. KNOWLEDGE INJECTION: Apply the correct formula to find the proportion of change attributed to the specific factor, which typically involves comparing the change in the specific factor to the total change in the financial metric, rather than incorrectly applying the specific factor's original value to the total change.</Action>

    </Rule>
<Rule id="398" phase="generation" confidence="1" source="log_398" type="Arithmetic Hallucination">

        <Trigger>When calculating revenues for a specific region or entity, and the provided context contains multiple references to the same time period with different revenue figures or percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant revenue figures for the specified time period are accurately identified, summed, or appropriately combined based on the context, rather than relying on a single figure or percentage that might not represent the total or correct revenue amount.</Action>

    </Rule>
<Rule id="399" phase="generation" confidence="1" source="log_399" type="Program Logic Failure">

        <Trigger>Upon encountering a question that requires the aggregation of financial data (such as revenues) across different sub-regions or entities to obtain a total for a larger region.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model's logic includes a step to aggregate or sum the revenues from all mentioned sub-regions or entities to calculate the total revenue for the larger region, rather than selecting a single value or incorrectly calculating the total.</Action>

    </Rule>
<Rule id="400" phase="generation" confidence="1" source="log_400" type="Incorrect Context Retrieval">

        <Trigger>When the question pertains to a specific year's financial data (like revenues) and the context provides financial information for that year as well as other years or percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model correctly retrieves and utilizes only the relevant financial data for the specified year, distinguishing it from data for other years or percentages that might be mentioned in the context but are not applicable to the question being asked.</Action>

    </Rule>
<Rule id="401" phase="generation" confidence="1" source="log_401" type="Arithmetic Hallucination">

        <Trigger>When calculating percentage changes, especially in the context of financial metrics such as average price per share over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, to accurately reflect the proportional change, rather than relying on absolute differences or incorrect formulas.</Action>

    </Rule>
<Rule id="400" phase="generation" confidence="1" source="log_400" type="Arithmetic_Hallucination">

        <Trigger>Calculating percent change of average shares outstanding when considering dilution, especially in cases involving comparisons across different years or financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, considering the proper identification of new and old values based on the context of the comparison, and verify that the calculation involves the correct sets of numbers, particularly distinguishing between basic and diluted shares when relevant.</Action>

    </Rule>
<Rule id="401" phase="generation" confidence="1" source="log_401" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage change or comparing performance between two financial metrics over a period, especially when given multiple data points for each metric.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change or comparative performance is correctly applied across all relevant data points. KNOWLEDGE INJECTION: Verify that the calculation accounts for the initial and final values of both the stock and the index over the specified time frame, using the formula: ((Final Value - Initial Value) / Initial Value) * 100 for each, and then compare the percentage changes correctly.</Action>

    </Rule>
<Rule id="401" phase="generation" confidence="1" source="log_401" type="ProgramLogicFailure">

        <Trigger>Comparing financial performance between two entities over multiple years to determine which one outperformed the other</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison of financial performance between entities is based on the overall trend or average performance over the specified period, rather than a single year's data or an incorrect calculation. KNOWLEDGE INJECTION: Consider both the absolute values and the relative changes in financial metrics when evaluating outperformance.</Action>

    </Rule>
<Rule id="401" phase="generation" confidence="1" source="log_401" type="ArithmeticHallucination">

        <Trigger>When calculating the proportion of a specific component within a total, especially in financial contexts involving subsidiaries or categories (e.g., property and casualty insurance subsidiaries) within a given year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of proportions involves dividing the specific component's value by the total value and then converting the result into a percentage by multiplying by 100, to provide a correct percentage representation of the component's share within the total.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparing financial values across different years to determine which is greater</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing long-term debt maturing in different years, ensure that the comparison is based on the actual debt values and not on any intermediate calculations or unrelated numbers, and provide a direct answer to the question posed, such as "yes" or "no", without revealing unnecessary calculations</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="percentage_change_error" type="Arithmetic_Error">
        <Trigger>Percentage change calculations involving financial data, such as rent expenses over different years.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed using the correct formula ((New Value - Old Value) / Old Value) * 100, with proper rounding at the final step to match the required precision of the answer.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating total proceeds from exercising shares in a plan, where multiple types of equity compensation plans are involved and the model fails to account for all relevant shares and their respective exercise prices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total proceeds includes all shares from each plan category, multiplied by their respective weighted-average exercise prices, and sum these products to obtain the total proceeds.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Incorrect identification of the relevant shares and exercise prices for calculating total proceeds, leading to an incomplete or incorrect calculation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that total proceeds calculation requires identifying and utilizing the total number of securities to be issued upon exercise of outstanding options, warrants, and rights, as well as their weighted-average exercise prices, across all applicable plan categories.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>Failure to distinguish between equity compensation plans approved by security holders and the total across all plans, leading to the use of incorrect numbers of securities or exercise prices in calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Distinguish carefully between plan categories and ensure that calculations for total proceeds are based on the correct totals of securities to be issued and their weighted-average exercise prices, as applicable to the question context.</Action>

    </Rule>
<Rule id="407" phase="generation" confidence="1" source="log_407" type="ArithmeticError">
        <Trigger>Calculation of averages over multiple periods for financial metrics such as expenses.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant expense values are summed and then divided by the total number of periods to calculate the average expense over those periods.</Action>
    </Rule>
<Rule id="408" phase="generation" confidence="1" source="log_408" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total net revenues for specific segments, such as investing & lending, when given historical financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct base value (total net revenues) is used and that the calculation properly divides the segment's value by this base, then multiplies by 100 to get the percentage. KNOWLEDGE INJECTION: Recognize that the task requires identifying the specific segment's revenue and the total net revenues for the same period to calculate the accurate percentage.</Action>

    </Rule>
<Rule id="401" phase="generation" confidence="1" source="log_401" type="Contextual Ambiguity Error">

        <Trigger>Multiple conflicting values are provided for the same metric in different years or periods, leading to confusion in data selection for calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When encountering multiple values for the same metric across different periods, prioritize the values explicitly mentioned for the specific years in question, and verify the context to ensure the correct values are used for calculations. If discrepancies persist, assume the first mentioned or most directly relevant value as the basis for calculation, unless otherwise clearly indicated by the context.</Action>

    </Rule>
<Rule id="402" phase="generation" confidence="1" source="log_402" type="Logical Inconsistency Error">

        <Trigger>Arithmetic operations or calculations are applied without resolving inconsistencies in the provided data, potentially leading to incorrect conclusions.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that all inconsistencies in the provided data are addressed before proceeding with calculations. This includes identifying and reconciling conflicting information, such as different totals for the same period, to prevent logical inconsistencies in the reasoning process.</Action>

    </Rule>
<Rule id="403" phase="generation" confidence="1" source="log_403" type="Methodological Error">

        <Trigger>Percentage change calculations are performed without ensuring the correct application of the formula or without verifying the consistency of the input values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and ensure that the new and old values used in the calculation are consistent with the context and have been correctly identified and validated from the provided data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Basel adjustments and tier 1 capital calculations involving adjustments related to AOCI and add-back of Basel deductions</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the decline in tier 1 capital absent adjustments, ensure to subtract AOCI-related adjustments from the original tier 1 capital, then add back the Basel deductions separately, following the correct order of operations and considering all applicable adjustments</Action>

    </Rule>
<Rule id="410" phase="generation" confidence="1" source="log_410" type="Arithmetic_Hallucination">

        <Trigger>When calculating average yearly amortization expense and the useful life of an asset is provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating amortization expense (e.g., 1 / useful life) is applied correctly to derive the average yearly expense, considering the asset's useful life as the denominator to calculate the annual rate</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Comparison between an average value and a specific year's financial metric, such as operating margin, where the model incorrectly calculates the difference.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the difference between an average and a specific year's financial metric, the model accurately computes the average of the relevant years and then subtracts the specific year's value from this average, taking into account the correct number of years considered in the average calculation.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the value of individual units of a financial instrument, given a total value and total number of units, and the model's response does not match the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total value of the financial instrument is divided by the total number of units to calculate the value per unit, and verify that this calculation is correctly performed without introducing arithmetic errors.</Action>

    </Rule>
<Rule id="414" phase="generation" confidence="1" source="log_414" type="ArithmeticError">

        <Trigger>Percentage change calculations involving multiple time periods or averages</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between different periods, ensure to subtract the original value from the new value and then divide by the original value, and finally multiply by 100, while maintaining the correct order of operations and avoiding arithmetic hallucination.</Action>

    </Rule>
<Rule id="414" phase="generation" confidence="1" source="log_414" type="ArithmeticError">

        <Trigger>Calculating percentage change in financial metrics, such as balance valuation allowance rollforward, when given multiple years of data including beginning balances and expenses or benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct beginning and ending balances for the specified year are identified and used in the percentage change calculation. Additionally, verify that all relevant expenses or benefits for the year are accurately accounted for in the calculation, considering their impact on the balance.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="PercentageCalculationError">

        <Trigger>Questions asking for a portion of total capabilities generated from a specific source, where the model responds with a numerical value without a percentage sign.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that responses to questions asking for a percentage of total capabilities include a percentage sign (%) when the answer is a proportion of the total, to avoid confusion with absolute values.</Action>

    </Rule>
<Rule id="417" phase="generation" confidence="1" source="log_417" type="Arithmetic_Hallucination">

        <Trigger>Foreign currency hedges and translation values are provided, and the model is asked to calculate the percentage of gains lost due to foreign currency hedges.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct values for foreign currency hedges and total gains are identified and used in the calculation. KNOWLEDGE INJECTION: To calculate the percentage of gains lost, first determine the change in foreign currency hedges and the total change in gains over the period, then apply the percentage change formula correctly.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparison between GAAP and non-GAAP financial metrics, particularly when calculating differences or ratios.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentages and financial metrics are accurately extracted and directly compared without introducing extraneous calculations or assumptions, maintaining consistency between the GAAP and non-GAAP figures being compared.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Situations where the model is required to distinguish between standard (GAAP) and adjusted (non-GAAP) financial reporting metrics for the same period or across different periods.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the distinction between GAAP and non-GAAP metrics is recognized and that calculations reflect this distinction accurately, avoiding the conflation of these metrics or the incorrect application of one set of rules to another.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Instances where the model must understand the context of financial reporting standards (GAAP vs. non-GAAP) and their implications on financial metrics such as the effective income tax rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context of the question, including the specific financial standard (GAAP or non-GAAP) being referenced, is correctly identified and applied throughout the calculation process to prevent mixing of standards or misinterpretation of the financial data provided.</Action>

    </Rule>
<Rule id="419" phase="generation" confidence="1" source="log_419" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage of payments due in a specific year under non-cancellable operating leases</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly identifies and applies the relevant data points for the specific year in question when calculating percentages of payments due, verifying that the numerator and denominator used in the calculation correspond to the same time frame and type of payment.</Action>
    </Rule>
<Rule id="420" phase="generation" confidence="1" source="log_420" type="Arithmetic Hallucination">

        <Trigger>When calculating the proportion of operating leases that are current liabilities, and the model responds with an absolute value of 0 or fails to consider the distribution of lease payments over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the proportion of current liabilities among operating leases involves determining the fraction of total minimum lease payments due within the next year, and properly applying this fraction to the total operating leases to find the portion that represents current liabilities</Action>

    </Rule>
<Rule id="420" phase="generation" confidence="1" source="log_420" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or values, especially when determining increases or decreases in financial metrics such as asset retirement obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the direction of change (increase or decrease) is accurately represented by the sign of the result, with negative values indicating a decrease and positive values indicating an increase.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_average_price" type="arithmetic_hallucination">
        <Trigger>Calculation of average share price for a specific year</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all purchase prices for the specified year are correctly identified and averaged, excluding prices from other years.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving cost and fair value, particularly when determining fluctuations in financial securities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, especially between cost and fair value of financial securities, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation reflects a decrease if the new value is less than the old value, and an increase if the new value is greater.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change in financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100 to provide accurate financial metric comparisons.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage difference between carrying values and fair values of financial instruments, such as long-term debt</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by subtracting the carrying value from the fair value, then dividing by the carrying value, and finally multiplying by 100 to obtain the percentage difference, while maintaining precise calculation to avoid rounding errors</Action>

    </Rule>
<Rule id="426" phase="generation" confidence="1" source="log_426" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentages of total segments within financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant segments are accurately identified and their proportions correctly calculated before determining the percentage of the total, considering both owned and leased properties across different business segments.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage increase between two values, especially in the context of financial metrics such as net capitalized costs over two different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase is calculated using the formula ((New Value - Old Value) / Old Value) * 100, rather than merely subtracting the old value from the new value. KNOWLEDGE INJECTION: Verify that the final answer is expressed as a percentage, not an absolute difference, when the question asks for an increase or decrease rate.</Action>

    </Rule>
<Rule id="428" phase="generation" confidence="1" source="log_428" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving negative values or decreased amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations correctly handle negative values by checking if the new value is less than the old value, and if so, apply the correct formula to calculate the percentage decrease, which should result in a negative percentage value.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_average_calculation" type="ArithmeticError">
        <Trigger>Calculation of averages from a set of numbers over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all values are summed correctly and then divided by the total count of values to calculate the average, verifying the divisor matches the number of elements considered in the calculation</Action>
    </Rule>
<Rule id="430" phase="generation" confidence="1" source="log_430" type="Arithmetic Hallucination">

        <Trigger>When calculating a mathematical range from given data points across multiple years, and the model response does not correspond to the expected range derived from the maximum and minimum values provided in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points across the specified years are identified and considered. KNOWLEDGE INJECTION: Validate the calculation by determining the highest and lowest values mentioned for the respective years and calculating the difference between these two extremes to derive the correct mathematical range.</Action>

    </Rule>
<Rule id="430" phase="generation" confidence="1" source="log_430" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of components to totals in financial statements, especially in contexts involving categorization of liabilities such as residential mortgages and total liabilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct total liability figure is identified and used as the denominator in percentage calculations. KNOWLEDGE INJECTION: Always verify that the numerator and denominator in percentage calculations are appropriately matched and derived from the correct categorizations and figures provided in the financial data.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total assets allocated to specific categories, such as undeveloped land, in financial reasoning models</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by performing calculations to the fullest decimal place before rounding to the required precision, and verify that the model is using the correct formula for percentage calculations, i.e., (part/whole) * 100, to prevent minor errors due to premature rounding.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage change by using the formula: ((New Value - Old Value) / Old Value) * 100, and verify the sign of the result to correctly indicate increase or decrease.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total maturities of debt coming due after a specific year, and the model provides an answer without considering the entire timeframe or misinterprets the given data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant timeframes and their corresponding totals are accurately considered and summed before calculating percentages, especially when determining debt maturities falling due after a certain year. KNOWLEDGE INJECTION: Confirm that the calculation methodology correctly accounts for all portions of the total debt maturity schedule.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods, especially when comparing financial metrics such as net cash provided by operating activities between different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two values, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed with precise arithmetic operations to avoid rounding errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of remaining securities available for future issuance under equity compensation plans</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the number of securities remaining available for future issuance is calculated as a percentage of the total securities approved by security holders, by dividing the number of securities remaining available for future issuance (excluding securities reflected in other columns) by the total number of securities approved, and then multiplying by 100 to obtain the percentage</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages or ratios involving financial metrics such as net income and income tax expense, ensure that the model accurately retrieves and applies the correct numbers from the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the calculation of percentages or ratios, especially in financial contexts, involves the correct identification and use of relevant figures from the given data, avoiding any form of arithmetic hallucination by ensuring each step of the calculation is grounded in provided numbers and logical operations.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Upon encountering a question that requires the calculation of a financial metric or ratio, such as the percentage of income tax expense relative to net income.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model applies the correct formula for calculating percentages (part/whole * 100), and that it correctly identifies the 'part' and 'whole' from the context, considering the specific financial metrics involved and their relationships as defined in the question or context.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the question implies the need to use specific financial data points from a given context to calculate a metric or ratio.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a robust context retrieval mechanism that accurately identifies and extracts relevant financial data (e.g., net income, income tax expense) from the provided context, ensuring that the model operates on the correct and most relevant data points for its calculations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of financial ratios or metrics, such as operating profit margin, involves applying a formula that requires specific financial data points (e.g., operating income and revenue).</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that the correct and relevant financial data points are accurately identified and applied to the appropriate formula for calculating the desired metric. KNOWLEDGE INJECTION: Verify that the model understands and can apply standard financial formulas for calculating ratios and metrics, such as operating profit margin = (Operating Income / Revenue) * 100.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_error_analysis" type="RoundingError">
        <Trigger>Percentage calculations involving division of financial quantities.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving division and subsequent percentage calculations, maintain precision until final rounding to prevent cumulative errors.</Action>
    </Rule>
<Rule id="440" phase="generation" confidence="1" source="log_440" type="ArithmeticHallucination">
        <Trigger>Calculation of differences between financial values across different periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure subtraction operations to calculate differences are performed with careful consideration of the order of operands, especially when comparing financial metrics across time to avoid sign errors.</Action>
    </Rule>
<Rule id="440" phase="generation" confidence="1" source="log_440" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total current liabilities involves retrieving relevant balance sheet data, including the current portion of long-term debt and other liabilities, where the model's response does not accurately reflect the provided financial information.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of current liabilities, including but not limited to the current portion of long-term debt, accounts payable, and other short-term liabilities, are accurately identified and summed to calculate the total current liabilities, avoiding reliance on hallucinated or incorrectly computed values.</Action>

    </Rule>
<Rule id="442" phase="generation" confidence="1" source="log_442" type="ArithmeticHallucination">

        <Trigger>Calculating the percent change in fair values of RSU awards between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the correct formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that all relevant values are accurately retrieved from the context</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentages involving subsidiary obligations and guarantees in financial statements</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures are accurately extracted and used in the calculation, and that the percentage is calculated based on the correct relationship between the subsidiary's obligations and the guarantee provided by the parent entity, without introducing external or unrelated data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculations involving previous and current year financial data, particularly when calculating changes in net cash provided by operating activities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that all relevant financial data from the previous and current year are correctly retrieved and applied in the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percentage increase calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increase, ensure to use the formula (New Value - Old Value) / Old Value * 100, and verify that the result is presented as a percentage, not an absolute difference.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of future minimum lease payments under capital lease obligations, the model provides an answer that does not match the expected result based on given totals and specific year payments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages of lease payments due in a specific year involves dividing the amount due in that year by the total minimum lease payments and then multiplying by 100, without introducing incorrect assumptions or arithmetic errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_percentage_change" type="ArithmeticError">
        <Trigger>Percentage change calculations in financial statements</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure accurate application of the percentage change formula ((New Value - Old Value) / Old Value) * 100, with precise calculation to avoid rounding errors.</Action>
    </Rule>
<Rule id="448" phase="generation" confidence="1" source="log_448" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two years for financial metrics, such as accumulated other comprehensive earnings (loss), where the model's response is significantly higher than expected.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes for financial metrics between two periods, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, paying special attention to the signs and values of the old and new values to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of differences in financial metrics between two periods, such as total gains/losses on financial assets and liabilities at fair value, where the model's response indicates a failure to perform the necessary arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the difference in financial metrics between two periods, all relevant values from both periods are correctly retrieved and the arithmetic operation (subtraction in this case) is accurately performed to determine the correct amount of change.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages based on given targets and shortfalls in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages, ensure that the shortfall amount is correctly divided by the target amount and then multiplied by 100 to obtain the percentage, avoiding any intermediate rounding that could lead to precision errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentages from given financial data, especially when determining the proportion of future minimum rental receipts due in a specific year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages from financial data, the model rounds the result to the appropriate number of decimal places as required by the context, and verify that the model applies the correct formula for percentage calculation, considering the part of the whole and the total amount accurately.</Action>

    </Rule>
<Rule id="452" phase="generation" confidence="1" source="log_452" type="ArithmeticError">
        <Trigger>Calculation of averages from provided numerical data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Verify that all numbers relevant to the calculation are correctly identified and included in the arithmetic operation to calculate the average, ensuring accurate addition and division steps.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage change over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage changes, and ensure the correct interpretation of the result's sign to denote an increase or decrease.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>When calculating the percentage of net tangible assets acquired to the purchase price, and the model responds with a numerical value that represents a total amount instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model differentiates between numerical values representing total amounts and percentages, and apply the correct mathematical operations to calculate the percentage, including dividing the net tangible assets acquired by the purchase price and multiplying by 100.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating proportionate shares or percentages, especially in the context of financial data such as debt or equity, and the model provides an absolute value instead of a relative measure.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of proportionate shares involves dividing the entity's share by the total amount and then multiplying by 100 to convert it into a percentage, unless the question explicitly asks for an absolute value.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="error_analysis" type="ArithmeticPrecisionError">
        <Trigger>Arithmetic operations involving financial data, especially subtraction of large or precisely defined values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations maintain full precision until the final step, then apply context-specific rounding or truncation if required.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and rounded to the nearest whole number or as per the required precision, to avoid arithmetic hallucination errors</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_precision" type="ArithmeticPrecisionError">
        <Trigger>Percentage change calculations involving financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial calculations, particularly those involving percentages, are conducted with precise arithmetic operations, and rounding is applied at the final step to avoid intermediate rounding errors.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentual increase calculations involving multiple time periods or successive additions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentual increases over multiple periods, each period's value is accurately determined and then compared to find the total increase, avoiding rounding errors and ensuring all relevant data points are considered.</Action>

    </Rule>
<Rule id="460" phase="generation" confidence="1" source="log_460" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total gross amount from multiple financial components, including tax benefits and reserve adjustments, without explicitly summing all relevant addends.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all financial components, including but not limited to tax benefits, accrued interest, and reserve adjustments, are explicitly identified and summed to calculate the total gross amount, avoiding reliance on implicit assumptions or incomplete calculations.</Action>

    </Rule>
<Rule id="461" phase="generation" confidence="1" source="log_461" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage changes to ensure accuracy in financial computations.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of subsets to totals, especially when dealing with quantities in finance, such as square feet of owned facilities to total facilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and multiplication operations when calculating percentages, specifically by dividing the subset quantity by the total quantity and then multiplying by 100 to obtain the percentage, avoiding rounding errors that could lead to incorrect results.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination and Context Misinterpretation">

        <Trigger>When calculating the proportion of a specific type of asset within total current assets and prepaids, and the model responds with a summation of specific asset values instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation involves determining the ratio of the specific asset type to the total current assets and prepaids, expressed as a percentage, rather than merely summing the values of the specific assets. KNOWLEDGE INJECTION: Recognize that the question asks for a proportion, which requires a division operation followed by multiplication by 100 to convert the result into a percentage.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the number of years of stock to issue remain under a restricted stock plan, and the model's response does not match the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of remaining years is based on the accurate division of available shares by the rate of issuance, taking into account the correct units and timeframes mentioned in the context, and verify that all relevant factors are considered to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding only at the final step of calculation to avoid premature rounding errors, and verify that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages from given values, especially in financial contexts involving multiple years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate averaging by summing all relevant values and then dividing by the total number of values considered, rather than relying on estimates or intermediate calculations that might introduce errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating the portion of net change in net revenue due to a specific factor, such as volume/weather, and the model's response does not match the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of net change attributed to a specific factor, ensure that the difference in revenues is correctly calculated and then divided by the total change in revenue, multiplied by 100 to obtain the percentage. Verify that all components, including the specific factor's impact, are correctly considered in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Presence of a percentage standard for tier 1 common equity and a given ratio under a specific regulatory framework</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the minimum amount of tier 1 common equity under a given percentage standard, ensure that the calculation is based on the total risk-weighted assets and the specified percentage, rather than relying on provided ratios or other potentially misleading information. KNOWLEDGE INJECTION: Verify that the calculation methodology aligns with the relevant regulatory framework, such as Basel III, and that all necessary variables are correctly identified and applied.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net debt to equity ratio involving total liabilities and net assets acquired</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net debt to equity ratio is calculated by dividing the total liabilities by the total shareholders' equity (net assets acquired), considering the correct formula and avoiding sign errors, and verifying that the result is a positive value when the liabilities exceed the equity and a negative value or zero when the equity exceeds or equals the liabilities, with proper handling of edge cases.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of expenses, especially when comparing specific expense categories over multiple years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of percentages is based on precise decimal representations before rounding, and verify that the formula used accurately reflects the relationship between the specified expense categories, including correctly identifying the base expense for the percentage calculation.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Retrieving and comparing financial data across different years and categories, such as legal expenses and federal deposit insurance corporation-related expenses.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model correctly identifies and isolates the relevant data points for each expense category and year, applying the correct mathematical operations to calculate percentages, and that it maintains consistency in how it handles and compares these financial metrics across different scenarios.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Identifying the base expense category for calculating percentages of other expenses, such as using legal expenses as the base for calculating the percentage of federal deposit insurance corporation-related expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a check to confirm that the contextually relevant base expense is correctly identified and used in the calculation, ensuring alignment with the question's requirements and avoiding the use of incorrect or unrelated expense categories as the base for percentage calculations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving adjusted earnings per share from one year to another</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and the result is rounded to the nearest whole number or to the appropriate number of decimal places as required by the context, to prevent arithmetic inaccuracies</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages over multiple years and the model's response does not match the expected outcome, indicating a potential miscalculation in summing or averaging values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values for the calculation (such as segment net sales for each year) are correctly summed and then divided by the number of years to calculate the average, without omitting any values or incorrectly applying percentages that might be mentioned for growth rates or other metrics.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving owned and total assets, where the model provides a numerical answer with decimal points.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages, ensure the response is rounded to the nearest whole number or to a percentage format without decimal points, unless explicitly stated otherwise in the context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the outstanding number of shares, and the provided context includes a dividend payment and an expected total payment amount over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating the outstanding number of shares is correctly applied, using the total expected dividend payment and the dividend per share, without introducing incorrect assumptions or intermediate steps that could lead to arithmetic errors.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>When the model's response does not align with the provided context, indicating a potential misunderstanding of the relationship between dividend payments, outstanding shares, and total payment amounts.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the inverse relationship between the dividend per share and the number of outstanding shares in determining the total dividend payment, and that it applies this understanding consistently across different scenarios.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the model fails to correctly retrieve or apply relevant information from the context, such as the dividend per share or the expected total payment, in calculating the outstanding number of shares.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant information provided in the context is correctly identified, retrieved, and applied in the calculation, without omitting critical details or introducing irrelevant information that could lead to errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage increase or decrease between two values, especially in the context of financial metrics such as grant date fair values over different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage change between two values, the formula [(New Value - Old Value) / Old Value] * 100 is correctly applied, taking into account the correct identification of the new and old values based on the context provided.</Action>

    </Rule>
<Rule id="1" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total shareholder return over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total shareholder return is performed by applying the formula for compound annual growth rate (CAGR) or by summing the annual returns and then calculating the total return, taking into account any potential dividends or splits, to prevent arithmetic hallucination.</Action>

    </Rule>
<Rule id="2" phase="context_retrieval" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieval of historical stock prices for calculation of total shareholder return</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model retrieves the correct historical stock prices for the specified period and that these prices are accurately used in the calculation to prevent incorrect context retrieval.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Generation of total shareholder return based on retrieved historical stock prices</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model applies the correct formula to calculate the total shareholder return, considering all relevant factors such as stock splits, dividends, and changes in stock price over the specified period, to prevent program logic failure.</Action>

    </Rule>
<Rule id="477" phase="generation" confidence="1" source="log_477" type="Arithmetic_Hallucination">

        <Trigger>Discrepancy between calculated and actual tax rates for stock-based compensation, particularly when the income tax benefit and stock-based compensation values are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages, especially those related to tax rates, are rounded appropriately and consistently to avoid precision errors, and verify that the formula used to calculate the tax rate from the income tax benefit and stock-based compensation is correct and applied accurately</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the return on investment (ROI) for a given time period, and the model's response does not match the expected result based on the provided stock prices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the ROI calculation follows the formula: ((End Price - Start Price) / Start Price) * 100, where Start Price is the price at the beginning of the investment period and End Price is the price at the end of the investment period, to accurately determine the percentage return.</Action>

    </Rule>
<Rule id="479" phase="generation" confidence="1" source="log_479" type="Arithmetic_Hallucination">

        <Trigger>Amortization rate calculation for intangible assets such as trademarks, where the useful life is given in years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating amortization rates for intangible assets, ensure that the result is expressed as a percentage by dividing 1 by the useful life in years and then multiplying by 100, to avoid confusion between decimal and percentage formats</Action>

    </Rule>
<Rule id="480" phase="generation" confidence="1" source="log_480" type="ArithmeticHallucination">

        <Trigger>Percentage calculations involving geographic segments or subsets of data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of a subset within a larger set, the formula used is (subset size / total size) * 100, and verify that the numbers used for subset and total sizes are accurately retrieved from the context.</Action>

    </Rule>
<Rule id="481" phase="generation" confidence="1" source="log_481" type="ProgramLogicFailure">
        <Trigger>Calculation of averages or totals from a series of financial data points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points are included and correctly weighted (if applicable) in financial calculations, and verify the method of calculation aligns with the task requirements</Action>
    </Rule>
<Rule id="482" phase="generation" confidence="1" source="log_482" type="Arithmetic Hallucination">

        <Trigger>When calculating a new value based on a percentage change from a previous year, and the previous year's value is given, along with the percentage change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Apply the percentage change to the previous year's value by converting the percentage to a decimal and multiplying it by the previous year's value, then add or subtract the result from the previous year's value, depending on whether the change is an increase or a decrease, to obtain the new value. KNOWLEDGE INJECTION: Ensure that the correct mathematical operation (addition or subtraction) is used based on the context of the percentage change (increase or decrease) to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of accumulated depreciation from depreciation expenses over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that depreciation expenses for all relevant years are summed to calculate the total change in accumulated depreciation, rather than selectively adding or subtracting expenses from individual years.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Inclusion of depreciation expenses in calculations for accumulated depreciation</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that accumulated depreciation is the sum of depreciation expenses over the period in question, and apply this understanding to calculate the change in accumulated depreciation by considering all relevant depreciation expenses.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>Identifying the correct years and corresponding depreciation expenses for calculating the change in accumulated depreciation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of accumulated depreciation includes expenses from the initial year to the final year in question, ensuring that all intermediate years' expenses are accounted for.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Presence of multiple debt maturities and total long-term debt values in the context, requiring aggregation and inclusion of current maturities for calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure comprehensive inclusion of all debt components, including current maturities of long-term debt, when calculating aggregate values to avoid underestimation or incorrect totals.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Calculation involving multiple financial figures (e.g., total long-term debt and current maturities) that necessitate careful summation or subtraction to derive the correct aggregate value.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the mathematical operations applied to financial data (such as addition or subtraction) correctly reflect the relationships between different components of debt (e.g., long-term vs. current maturities) to ensure accurate financial reporting.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Inability to accurately identify and sum all relevant financial figures mentioned in the context, leading to an incomplete or inaccurate calculation of total debt.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a systematic approach to identify, extract, and sum all relevant financial values from the context, ensuring that no figures are overlooked or misinterpreted, especially when calculating aggregate debt values.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentual reduction between two time periods concerning a specific metric, such as intersegment sales to total sales, where the model provides multiple irrelevant calculations instead of directly addressing the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentual reduction of a specific metric, ensure to directly compute the difference between the two relevant time periods and divide by the original value, then multiply by 100 to get the percentage reduction, avoiding irrelevant calculations.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Incorrect application of formulas or failure to apply the correct formula for calculating percentage change, leading to incorrect or unrelated calculations being presented as the solution.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that the new and old values are correctly identified and correspond to the metric and time periods in question.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Failure to identify or incorrectly identifying the relevant data points (such as total sales and intersegment sales for specific years) necessary for calculating the percentual reduction, leading to the use of irrelevant or incorrect data in calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations are based on the relevant and correctly identified data points that directly pertain to the question being asked, verifying that the context (such as specific years and metrics) is correctly retrieved and applied.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, taking into account the direction of change (increase or decrease) to avoid sign errors.</Action>

    </Rule>
<Rule id="487" phase="generation" confidence="1" source="log_487" type="ArithmeticLogicError">
        <Trigger>Calculation of percentages from given financial data subsets</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages from financial data, the correct subsets of data are accurately identified and applied. KNOWLEDGE INJECTION: Verify that the formula for percentage calculation is correctly applied as (part/whole) * 100, where 'part' is the specific data point of interest and 'whole' is the total or relevant context-specific sum.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in financial metrics, such as asset retirement obligations, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical values are correctly subtracted or added as per the context of the question, considering the sign (positive or negative) and unit (e.g., millions, dollars) of the values to provide an accurate calculation of the difference or total</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total values, especially in the context of financial commitments and time-based distributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves accurate division and multiplication steps, considering the specific part of the total and the total value itself, and verify that the context (such as time frames) is correctly applied to determine the relevant portion of the total for the calculation.</Action>

    </Rule>
<Rule id="490" phase="generation" confidence="1" source="log_490" type="Arithmetic_Hallucination">

        <Trigger>Customer penetration percentage calculation is required, and multiple statistics regarding regulated businesses are provided, including operating revenues, number of customers, and estimated population served.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct metric (e.g., operating revenues, number of customers) is selected and used for calculating customer penetration percentage, considering the context and relevance to the question asked, and verify that all necessary calculations are performed accurately to derive the correct percentage.</Action>

    </Rule>
<Rule id="491" phase="generation" confidence="1" source="log_491" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving the total value of granted shares, especially when grant date fair values and numbers of shares are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always multiply the number of shares granted by the weighted-average grant date fair value and ensure the result is scaled appropriately to match the requested units (e.g., millions), avoiding incorrect assumptions about the scale of the input values</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating maximum or minimum values over a time period, and the model's response does not match the highest or lowest value provided in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always compare all relevant values mentioned in the context to determine the correct maximum or minimum, rather than relying on a single value or performing incorrect calculations.</Action>

    </Rule>
<Rule id="493" phase="generation" confidence="1" source="log_493" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates between two time periods, particularly when identifying the highest or lowest prices within those periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that growth rates are calculated as ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic errors, and verify that the correct values (highest prices in this context) are used for both the old and new values.</Action>

    </Rule>
<Rule id="494" phase="generation" confidence="1" source="log_494" type="Program_Logic_Failure">

        <Trigger>Comparing financial data across different quarters or years, especially when determining price movements.</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the model accurately identifies and compares the relevant financial data points (e.g., highest prices) from the specified periods to calculate the growth rate correctly, avoiding mix-ups or incorrect data selection.</Action>

    </Rule>
<Rule id="494" phase="generation" confidence="1" source="log_494" type="Arithmetic Hallucination">

        <Trigger>Contract terms with depreciation and varying life spans are mentioned, but the model calculates the total expense using only a single depreciation rate or fails to account for changes in life span.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all depreciation rates and life span changes are correctly accounted for when calculating total expenses over the contract term, considering both increases and decreases in life span and their respective financial impacts.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the sum of financial values over multiple years, the model provides an incorrect total.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial values for each year are accurately identified and summed without omission or duplication, verifying the calculation against the provided context to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="496" phase="generation" confidence="1" source="log_496" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage difference between two financial metrics, such as total shareholder return, over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage difference is correctly applied, considering the initial and final values of both metrics, and that the result is accurately computed and represented as a percentage</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage change by using the formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that the result is rounded correctly to the required decimal places.</Action>

    </Rule>
<Rule id="498" phase="generation" confidence="1" source="log_498" type="Incorrect Context Retrieval">

        <Trigger>Comparing financial values across multiple years to determine the largest earnings from a specific financial category, such as equity securities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing financial values across different time periods to find the maximum value, ensure that all relevant values are retrieved and compared, and the highest value is selected as the answer, regardless of the year it corresponds to.</Action>

    </Rule>
<Rule id="501" phase="generation" confidence="1" source="log_501" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of specific asset categories concerning total carrying amounts, especially after write-downs or impairments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves the correct identification and summation of all relevant asset categories before and after any adjustments, such as write-downs, to determine the accurate proportion of the specific asset category to the total carrying amount.</Action>

    </Rule>
<Rule id="500" phase="generation" confidence="1" source="log_500" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculation without considering subsequent year's data, or making assumptions about the question's intent due to incomplete information.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure all relevant data points for the initial and final periods are considered, and do not make assumptions about missing values without explicit instructions to do so. KNOWLEDGE INJECTION: Always verify that the necessary data for the calculation is provided and clearly defined before proceeding with the computation.</Action>

    </Rule>
<Rule id="501" phase="generation" confidence="1" source="log_501" type="ArithmeticHallucination">
        <Trigger>Calculation of per-unit values (e.g., revenue per mile, cost per item) in financial reasoning tasks</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving division to find per-unit values correctly account for the units and scale of the numbers involved, verifying that the result is reasonable and consistent with the context of the problem.</Action>
    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Calculation of interest expenses for a given note or debt</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by multiplying the principal amount of the notes by the interest rate and then rounding to the appropriate decimal place for financial calculations, considering the context of millions or other specified units.</Action>

    </Rule>
<Rule id="503" phase="generation" confidence="1" source="log_503" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total minimum lease payments due in a specific year, involving multiple types of leases (e.g., operating leases, capital leases) and given the total minimum lease payments for each type.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate summation of minimum lease payments for all types of leases and precise calculation of the proportion due in the specified year by dividing the total minimum lease payments due in that year by the total minimum lease payments of all leases, then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="504" phase="generation" confidence="1" source="log_504" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods for a financial metric, such as average daily VAR in the interest rates risk category</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed as ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the financial metric values for the respective time periods, to avoid arithmetic hallucination and provide accurate percentage change results</Action>

    </Rule>
<Rule id="501" phase="generation" confidence="1" source="log_501" type="ArithmeticHallucination">

        <Trigger>Percentage calculation involving specific quantities and totals</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure division by total quantity when calculating percentages to avoid arithmetic hallucination, and always append the percentage sign to the result</Action>

    </Rule>
<Rule id="502" phase="generation" confidence="1" source="log_502" type="RoundingError">

        <Trigger>Calculations resulting in decimal values that require rounding</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement consistent rounding rules, such as rounding to the nearest tenth, to maintain precision in calculations and ensure that final answers reflect accurate rounding</Action>

    </Rule>
<Rule id="503" phase="generation" confidence="1" source="log_503" type="ContextualUnderstanding">

        <Trigger>Misinterpretation of contextual information regarding locations and their associated quantities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model correctly identifies and processes the given context, ensuring that it distinguishes between specific locations and their respective quantities to provide accurate calculations</Action>

    </Rule>
<Rule id="501" phase="generation" confidence="1" source="log_501" type="ProgramLogicFailure">
        <Trigger>Calculation of fair value or total value based on weighted averages or per-share values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that calculations involving weighted averages or per-share values correctly incorporate all relevant factors, including but not limited to, total shares, grant date fair values, and market values at the time of vesting, and apply the appropriate financial formulas to derive the accurate outcome.</Action>
    </Rule>
<Rule id="507" phase="generation" confidence="1" source="log_507" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving negative numbers</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the sign of the result is correctly determined based on the signs of the original and new values, considering that a decrease is represented by a negative result and an increase by a positive result, regardless of the direction of change in the absolute values.</Action>

    </Rule>
<Rule id="508" phase="generation" confidence="1" source="log_508" type="ArithmeticError">

        <Trigger>Percentage change calculation involving a decrease in values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the formula is applied correctly as ((new_value - old_value) / old_value) * 100 to avoid sign errors, and verify that the order of values is correct to reflect the direction of change accurately.</Action>

    </Rule>
<Rule id="501" phase="generation" confidence="1" source="log_501" type="ArithmeticHallucination">

        <Trigger>Presence of held-to-maturity (HTM) securities in the investment securities portfolio that need to be excluded from the total portfolio value to calculate the balance without HTM securities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values are correctly scaled (e.g., millions to billions, or vice versa) before performing arithmetic operations, and subtract the held-to-maturity securities balance from the total investment securities portfolio to obtain the correct balance without HTM securities</Action>

    </Rule>
<Rule id="510" phase="generation" confidence="1" source="log_510" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or differences, especially in the context of financial metrics such as gross margin percentages over different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer, when representing a percentage change or difference, is provided as a numerical value without the percentage symbol, unless the question explicitly requests the percentage symbol or the answer is intended to be interpreted as a percentage in the context of the question.</Action>

    </Rule>
<Rule id="510" phase="generation" confidence="1" source="log_510" type="ArithmeticHallucination">

        <Trigger>When calculating the cost per unit in an acquisition, and the model response contains an implausible or rounded value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all division operations involving totals and quantities are performed with precise numbers and that the model verifies the existence of explicit quantity and total value information in the context before calculating the cost per unit.</Action>

    </Rule>
<Rule id="512" phase="generation" confidence="1" source="log_512" type="Arithmetic_Hallucination">

        <Trigger>When calculating the ending balance of a financial liability without a specific reclassification, and given historical data on the liability and reclassifications for different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the ending balance without a reclassification is based on the original balance of the liability for the specified year, adjusted only by any changes that would have occurred naturally without the reclassification, and taking into account the direction and magnitude of adjustments in prior or subsequent years as relevant context for understanding how balances are modified over time.</Action>

    </Rule>
<Rule id="513" phase="generation" confidence="1" source="log_513" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase between two consecutive time periods in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the increase in return between two time periods, ensure that the formula (New Value - Old Value) / Old Value is applied, and the result is then multiplied by 100 to obtain the percentage increase, to prevent arithmetic hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucinationAndProgramLogicFailure">
        <Trigger>Calculation of accumulated depreciation or amortization at a specific future date.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of accumulated depreciation or amortization includes all relevant historical accumulated values and projected future expenses up to the specified date, by summing all applicable addends mentioned in the 'Expenses' or 'Amortization' sections.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total costs or liabilities, especially in scenarios involving recovery costs and regulatory liabilities across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total costs (such as removal costs as a percent of total regulatory costs), the formula used is (specific cost / total cost) * 100, and verify that all relevant costs are correctly identified and summed before performing the calculation to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="516" phase="calculation" confidence="1" source="log_516" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total assets, especially in the context of goodwill and total assets acquired, ensure that the correct formula and values are applied.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the percentage calculation is performed by dividing the part (e.g., goodwill) by the whole (e.g., total assets acquired) and then multiplying by 100, using the correct and relevant values provided in the context.</Action>

    </Rule>
<Rule id="517" phase="generation" confidence="1" source="log_517" type="ArithmeticHallucination">
        <Trigger>Calculating total financial values from given context, especially when multiple types of collateral or financial instruments are mentioned.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial amounts are identified and correctly scaled (e.g., millions, billions) before summation. KNOWLEDGE INJECTION: Understand the context to distinguish between different types of collateral and financial instruments to accurately calculate totals.</Action>
    </Rule>
<Rule id="518" phase="generation" confidence="1" source="log_518" type="ArithmeticHallucination">
        <Trigger>Calculation of cumulative percentage return over multiple periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for cumulative percentage return correctly compounds annual returns to calculate the total return over the specified period, avoiding incorrect simplifications or omissions of compounding effects.</Action>
    </Rule>
<Rule id="519" phase="generation" confidence="1" source="log_519" type="Arithmetic Hallucination Error">

        <Trigger>Financial calculations involving multiplication of share numbers and average price per share to determine total cash outflow, where precision is crucial.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding intermediate calculations to the appropriate number of decimal places before final rounding to avoid accumulation of rounding errors, especially in financial calculations involving large numbers of shares and high average prices per share.</Action>

    </Rule>
<Rule id="520" phase="generation" confidence="1" source="log_520" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or values, particularly when the model is expected to compute the difference or ratio between two specific data points.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes between two values, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, avoiding arithmetic hallucination by accurately identifying the new and old values from the given context and performing the calculation step by step.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage decrease between two values, especially in the context of financial renegotiations and rejections over different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change is calculated correctly using the formula ((New Value - Old Value) / Old Value) * 100, and apply this formula consistently across all similar calculations to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage cumulative total shareowners return involving multiple time periods and comparison between different financial indices or entities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations for percentage cumulative total return are performed by dividing the difference between the final and initial values by the initial value, and then multiplying by 100, for each entity or index separately before making comparisons</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Comparisons between percentage cumulative total returns of different entities or indices over the same time period</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the comparison is made by subtracting the percentage cumulative total return of one entity or index from that of another, rather than comparing absolute values or using incorrect subtraction orders</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Identification and retrieval of relevant historical financial data for entities or indices, including initial and final values over a specified time period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the data retrieved for calculations matches the specified time period and entities or indices in question, and that all necessary data points are correctly identified and used in calculations</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="analysis" type="ArithmeticHallucination">
        <Trigger>Upon encountering a question that requires the aggregation of financial data across multiple periods or categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points for each period or category are accurately identified and included in the calculation, and verify that the arithmetic operation applied aligns with the question's requirements</Action>
    </Rule>
<Rule id="1" phase="evaluation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Comparing investment returns across different time periods or benchmarks</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of returns by considering the initial and final values of the investment or benchmark, and apply the correct formula to determine the percentage change or return, taking into account the timing and magnitude of the changes.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Comparative questions involving multiple data points or time series</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a systematic approach to compare investment performance, involving the identification of relevant data points, calculation of returns or changes for each investment or benchmark, and a logical comparison of the results to determine the correct answer based on the given context.</Action>

    </Rule>
<Rule id="3" phase="evaluation" confidence="1" source="log_3" type="Context_Retrieval_Failure">

        <Trigger>Questions requiring the retrieval and application of specific financial data or context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all necessary financial data or context is correctly retrieved and applied to the question at hand, ensuring that the model considers all relevant information, including dates, values, and the specific investments or benchmarks mentioned in the question.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total contributions for a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the contribution amount for the specified year is accurately divided by the total contribution amount across all years, and then multiplied by 100 to obtain the correct percentage, rounding to the nearest whole number if necessary.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change over a period for financial instruments or securities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant components, including but not limited to unrealized gains or losses on derivative instruments and marketable securities, are accurately summed and then subtract the initial total balance from the final total balance to calculate the net change over the specified period.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="precision_error_log" type="ArithmeticHallucination">
        <Trigger>Calculating percentage changes in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculated percentages are rounded to the appropriate precision level as dictated by the context or question requirements to prevent unnecessary precision errors.</Action>
    </Rule>
<Rule id="528" phase="generation" confidence="1" source="log_528" type="ArithmeticHallucination">

        <Trigger>Derivative receivable ratings calculation, especially when determining percentages of exposure net of all collateral</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of exposure, ensure to sum all relevant rating equivalents before computing the final percentage to avoid underestimation or overestimation of the actual percentage, and verify that the calculation aligns with the provided context and definitions of the ratings.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change, ensure to use the formula ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result correctly indicates an increase or decrease</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="equity_calculation_log" type="ArithmeticError">
        <Trigger>Calculation of shareholders' equity involving subtraction of liabilities from assets</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations for determining equity (such as shareholders' equity) accurately subtract total liabilities from total assets, adhering to basic accounting principles and double-checking arithmetic operations for accuracy.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes between two consecutive fiscal years, especially in the context of rental expenses or similar financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change is performed with precise decimal places and rounding at the final step, if necessary, to avoid minor discrepancies. KNOWLEDGE INJECTION: Always verify that the formula for percentage change [(New Value - Old Value) / Old Value] * 100 is correctly applied with accurate values for both the new and old fiscal years.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change, ensure to divide the absolute difference by the original value and then multiply by 100, instead of just calculating the absolute difference.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Share repurchase transactions with specified total authorized shares and completed shares</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of total authorized share repurchase completed, ensure to divide the number of shares repurchased by the total authorized shares and multiply by 100, considering all relevant share repurchase transactions and announcements</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the number of years of tax examination in a given jurisdiction, and the model's response does not match the correct answer based on the provided context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant time periods mentioned in the context are correctly subtracted or added to determine the accurate duration, taking into account any specific rules or exceptions applicable to the jurisdiction in question.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total rent for leases in relation to future minimum lease payments, where multiple fiscal years are involved.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total rent expense for all relevant fiscal years is accurately summed before calculating the percentage of the entire future minimum lease payments, and verify that the calculation correctly reflects the proportional relationship between these two financial metrics.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Incorrectly applying the formula for calculating percentages in financial contexts, such as comparing total expenses to total lease payments.</Trigger>

        <Action>KNOWLEDGE INJECTION: Review and apply the correct formula for percentage calculation, which involves dividing the part by the whole and then multiplying by 100, ensuring that all values used in the calculation are correctly identified and accurately represent the financial metrics in question.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Failure to identify and include all relevant financial data points when calculating percentages, such as overlooking specific years or types of lease payments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that all necessary financial data points are retrieved and considered in calculations, ensuring that the context is correctly understood and that all relevant information is accurately incorporated into the analysis.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios or percentages involving financial metrics such as Tier 1 capital ratio, and given values for risk-weighted assets, to determine the amount of change in a financial metric.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all necessary variables are explicitly defined or calculable from given information before proceeding with calculations, and verify that the correct formula is applied to calculate the desired outcome, considering the relationship between the given financial metrics and the target metric.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Upon encountering a problem that requires the calculation of a specific financial metric given certain conditions or ratios, such as determining a decline in Tier 1 capital to reach a specific ratio.</Trigger>

        <Action>KNOWLEDGE INJECTION: Apply the formula for calculating the target metric directly using given conditions (e.g., ratio = capital / risk-weighted assets), rearranging the formula as necessary to solve for the unknown variable, and ensure that the calculation aligns with financial reasoning principles.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>When the question implies the use of specific financial data or ratios to find a change in a financial metric, and the model must determine the relevance of provided data points.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Identify and isolate the most relevant data points and conditions provided in the context that directly influence the calculation of the target financial metric, ensuring that only pertinent information is used in the calculation to avoid data leakage or irrelevant calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percentage calculation involving allowance for borrowed funds and allowance for other funds used during construction</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving different types of funds, the correct formula is applied: (allowance for borrowed funds / allowance for other funds) * 100, and verify that the division is performed before multiplication to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_calculation_error" type="Arithmetic Calculation Error">
        <Trigger>Percentage calculations involving financial data, especially when determining proportions of total revenues or expenses.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations are performed with precise arithmetic operations, and apply appropriate rounding rules to match the expected precision of the answer, especially in financial contexts where small discrepancies can significantly impact conclusions.</Action>
    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving multiple classes of common stock with varying quantities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of a specific class of common stock in relation to the total of its category, all relevant quantities are accurately summed for the denominator and the correct class quantity is used for the numerator, applying the formula: (specific_class_quantity / total_category_quantity) * 100, to obtain the precise percentage.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of ratios involving financial metrics such as operating cash flow to total debt, where the model's response does not match the expected outcome based on given numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical values are correctly extracted and applied to the formula for calculating the desired ratio, including proper handling of negative numbers and percentage changes. KNOWLEDGE INJECTION: Verify that the formula for the ratio is correctly applied, considering the correct ordering of operations (e.g., division before multiplication) and accurate retrieval of relevant financial data from the context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percent increase over multiple years, where the model provides multiple calculations but selects an incorrect one as the final answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent increase over multiple periods, ensure that the correct base year and target year are identified and applied to the formula ((target year value - base year value) / base year value) * 100, to provide the specific percent increase asked for in the question.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Misinterpretation of the question's requirement for a specific percent increase, leading to the provision of unnecessary calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Understand that the question asks for a specific percent increase (e.g., from one year to another), and ensure that only the relevant calculation is performed and reported as the answer, avoiding the provision of extraneous calculations that might confuse or mislead.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Failure to accurately identify the specific years or values involved in the percent increase calculation requested by the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate retrieval and identification of the relevant years and their corresponding values from the context, to correctly apply the percent increase formula and provide the answer that directly addresses the question asked.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="InsufficientDataHandlingError">

        <Trigger>When a question pertains to a specific year or time frame not explicitly covered by the provided data, but related data for other years is given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model checks for implicit relationships or trends in the provided data that could be extrapolated or interpolated to estimate the answer for the year in question, rather than stating a lack of data.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percent change, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic errors and provide the result as a percentage.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticError">
        <Trigger>Percentage calculations based on subset and total values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations involving percentages correctly divide subset values by total values and then multiply by 100, verifying the accuracy of the totals used in the calculation.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios involving fees, the model fails to identify or incorrectly identifies relevant fee categories or their respective values, leading to incorrect arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all fee categories mentioned in the context are correctly identified and their respective values accurately extracted before performing any ratio calculations. KNOWLEDGE INJECTION: Verify that the calculation includes all relevant fee components as defined in the problem context.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total long-term debt, especially when dealing with negative values or complex financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially for financial metrics like current maturities of long-term debt, the model accurately handles negative values and properly divides by the total to avoid arithmetic hallucination, considering the correct sign and magnitude of the result.</Action>

    </Rule>
<Rule id="001" phase="postprocessing" confidence="1" source="analysis_log" type="formatting_and_representation_error">
        <Trigger>Calculation of percentage returns or rates of change in financial indices or investments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculated returns or rates of change are correctly formatted as percentages and rounded according to standard financial conventions before final output.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change in financial metrics, such as non-vested performance awards, where the initial and final values are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as ((final_value - initial_value) / initial_value) * 100, and verify that the sign of the result correctly indicates an increase or decrease</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Presence of multiple time-series values for future minimum sponsorship and other payments, where the task involves calculating a portion of the total future minimum payments due within a specific timeframe</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the portion of total future minimum payments due within a specific timeframe, sum the relevant payments for each year within that timeframe and then divide by the total future minimum payments, avoiding unnecessary recalculations and maintaining consistency in the units of measurement</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Scenario where the calculation involves determining a percentage of a total, based on summed components of that total, and the model fails to correctly apply this percentage calculation</Trigger>

        <Action>KNOWLEDGE INJECTION: When determining a percentage of a total based on summed components, ensure that the sum of the components is correctly calculated first, and then this sum is divided by the total to find the percentage, multiplying the result by 100 to express it as a percentage, and rounding appropriately to match the required precision of the answer</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Situation where the question references specific future years and total future minimum payments, but the model incorrectly identifies or applies the relevant numbers or fails to consider all necessary years within the specified timeframe</Trigger>

        <Action>CRITICAL FORMATTING RULE: In questions referencing future years and total future minimum payments, ensure that all relevant payments for the specified years are correctly identified and summed, and that the total future minimum payments are accurately applied in calculations to find the portion due within a specific timeframe, ensuring that the context provided by the question is correctly interpreted and applied</Action>

    </Rule>
<Rule id="550" phase="generation" confidence="1" source="log_550" type="ArithmeticHallucination">
        <Trigger>Calculating percentages from subsets of data within financial or membership contexts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant subsets of data are accurately summed and considered before calculating percentages to avoid arithmetic hallucination or calculation errors</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage increase between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increase, ensure to subtract the initial value from the final value, then divide by the initial value, and finally multiply by 100 to obtain the percentage change.</Action>

    </Rule>
<Rule id="552" phase="generation" confidence="1" source="log_552" type="Arithmetic_Hallucination">

        <Trigger>Contractual obligations percentage calculation with given time frames and total obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of contractual obligations due within specific time frames, ensure to divide the sum of obligations for the specified time frame by the total contractual obligations and then multiply by 100, avoiding rounding errors by maintaining precision until the final calculation step.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total proved undeveloped resources based on extensions, discoveries, and previous year's reserves</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant reserve values from the previous and current year are accurately summed and then used to calculate the percentage, taking into account any additions or subtractions due to extensions, discoveries, and changes in proved undeveloped reserves</Action>

    </Rule>
<Rule id="554" phase="generation" confidence="1" source="log_554" type="ArithmeticHallucination">

        <Trigger>When calculating the effect of swaps on average borrowing rates, ensure all relevant values are considered, including weighted average coupons and effective average borrowing rates after swaps.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Calculate the difference in effective average borrowing rates after swaps between two periods by subtracting the later period's rate from the earlier period's rate, ensuring to account for the impact of swaps on borrowing costs.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of total premiums and ASO fees based on percentages or proportions of administrative services fees</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by recalculating the total value using the given percentage or proportion, considering potential rounding errors and verifying the mathematical accuracy of the calculation process</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total contractual obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the result is rounded to the appropriate number of decimal places as required by the context, and consider the precision of the input values to avoid minor discrepancies.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving a decrease from a previous value to a current value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula is applied correctly as (New Value - Old Value) / Old Value * 100, and that the sign of the result is preserved to indicate an increase or decrease</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculation of net change in balance, particularly when determining the difference between two consecutive time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating net changes, the correct order of operations is followed, specifically subtracting the initial value from the final value to obtain the net change, and verify that the sign of the result accurately reflects the direction of change (increase or decrease).</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Presence of multiple revenue streams or gains in a financial statement, including but not limited to private and public equities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all mentioned revenue streams and gains are aggregated to calculate the total net revenues, avoiding the omission of any specified gain or revenue source.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages of multiple values over a period, especially in financial contexts involving taxes or similar cumulative data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all values are summed correctly and then divided by the total number of values to calculate the average, avoiding any premature rounding or incorrect division that might skew the final result.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages from given data involving lease obligations and total commitments, where the model's response does not match the expected result derived from the provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in the context of financial obligations like lease and purchase commitments, the formula (part/whole) * 100 is correctly applied to the relevant data, avoiding rounding errors or misinterpretation of the given figures.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation involving multiple variables and large differences in values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed using the correct formula, i.e., ((New Value - Old Value) / Old Value) * 100, and verify that all values are correctly extracted and applied to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Comparisons involving temporal changes and multiple financial metrics</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that calculations involving year-over-year changes require careful consideration of the order of operations and the correct application of financial formulas to avoid program logic failures</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_analysis" type="Context_Retrieval_Error">

        <Trigger>Questions referencing specific financial reporting standards and accounting principles</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model understands and applies the relevant financial reporting standards and accounting principles, such as SFAS 115, to correctly interpret and calculate financial metrics</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of future minimum lease payments due in a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the amount due in the specified year by the total minimum lease payments, and then multiplying by 100 to obtain the correct percentage</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucinationError">

        <Trigger>Questions involving the calculation of percentages or proportions of financial data, such as costs or losses, especially when the question implies a need to derive a percentage from given absolute values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating proportions or percentages, the model identifies all relevant components of the total cost or value and applies the correct mathematical operations (e.g., division, multiplication) to derive the requested percentage or proportion, rather than directly providing an absolute value as the answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving negative numbers or large changes in values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify if the result should be presented as an absolute value or with the appropriate sign to indicate increase or decrease</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ProgramLogicFailure">

        <Trigger>Calculations involving year-to-year comparisons, especially for financial metrics like investment income or loss</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that percentage changes for financial metrics, such as investment income or loss, must consider the direction of change (increase or decrease) and the magnitude of the change relative to the original value, ensuring the calculation reflects the actual financial outcome (e.g., a large decrease should not be misinterpreted as a small percentage change)</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculation of return on investment (ROI) involving percentage change over a specific period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the ROI calculation is performed by dividing the difference between the final and initial values by the initial value, and then multiplying by 100 to obtain the percentage, to prevent errors in formatting the result as a percentage value</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage differences between two financial time series over a specified period, especially in comparative performance analyses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations are based on the actual difference between the final and initial values of each series, divided by the initial value, and then subtract the percentage change of the comparison series to find the outperformance percentage. KNOWLEDGE INJECTION: Validate that the formula used is ((Final Value / Initial Value) - 1) * 100 for each series, and the outperformance is calculated as the difference between the two percentage changes.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination_Error">

        <Trigger>Percentage calculation involving decrease in sales across two different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation of decrease in sales for a given year compared to the previous year involves dividing the absolute decrease in sales of the given year by the absolute decrease in sales of the previous year, then multiplying by 100 to get the percentage, while maintaining the correct order of operations and avoiding arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculation of percentages for financial metrics such as maturities or amortizations</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial data points are accurately identified and correctly applied in calculations, especially when determining percentages of total values that meet specific conditions or occur after a given date or year.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of average annual returns over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change for each year is calculated correctly, and then find the average of these annual percentage changes by adding them together and dividing by the total number of years, considering the effects of compounding if applicable.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Uncompounded annual return calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that uncompounded returns are calculated as the simple arithmetic mean of the individual year returns, without considering the compounding effect, which requires applying the formula for average return correctly: (End Value / Beginning Value)^(1/Number of Years) - 1, adjusted for the context of uncompounded calculations.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Incorrect identification of relevant time periods or financial data for the calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the time frame specified in the question (e.g., a five-year period) is correctly applied to the financial data, ensuring that the starting and ending points are accurately identified and that all intermediate data points are considered in the calculation.</Action>

    </Rule>
<Rule id="571" phase="generation" confidence="1" source="log_571" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages from a set of numerical values provided in the context, and the model's response does not match the expected arithmetic result.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant numerical values are accurately extracted and summed before calculating the average. KNOWLEDGE INJECTION: Confirm that the calculation accounts for all specified values and correctly applies the formula for average (sum of all values divided by the number of values).</Action>

    </Rule>
<Rule id="1" phase="calculation" confidence="1" source="error_log" type="ArithmeticHallucination">

        <Trigger>Percentage decrease calculation involving multiple time periods and financial values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage decrease by subtracting the later value from the earlier value, then dividing by the earlier value, and finally multiplying by 100 to get the percentage, while maintaining precision throughout the calculation process</Action>

    </Rule>
<Rule id="573" phase="generation" confidence="1" source="log_573" type="Arithmetic Hallucination">

        <Trigger>When calculating average dividend or cash dividends received from consolidated subsidiaries and affiliates, and the model responds with a simple arithmetic operation involving addition of two values without considering the context of averaging or the specific financial terms involved.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating averages, especially in financial contexts involving terms like "average dividend," the model correctly identifies all relevant components (such as dividends from subsidiaries and affiliates) and applies the appropriate mathematical operations (like summing relevant components and then dividing by the correct divisor, such as the number of years or entities involved), rather than just adding values without proper context or calculation of an average.</Action>

    </Rule>
<Rule id="574" phase="generation" confidence="1" source="log_574" type="Program Logic Failure">

        <Trigger>When the model's response indicates a misunderstanding of the question's requirements, such as calculating a total instead of an average, or failing to apply the correct formula for averaging (sum of all values divided by the number of values).</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the difference between calculating totals and averages, and ensure it applies the correct formula for averages (i.e., sum of all relevant values divided by the number of values), especially in financial contexts where such distinctions are critical for accurate analysis and decision-making.</Action>

    </Rule>
<Rule id="575" phase="generation" confidence="1" source="log_575" type="Incorrect Context Retrieval">

        <Trigger>When the model fails to correctly retrieve or apply the relevant financial data for the specified year or entities (such as subsidiaries and affiliates), leading to an incorrect calculation or response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately identifies and retrieves the relevant financial data for the specified context (including the correct year and entities involved) before performing any calculations, and that it correctly distinguishes between data applicable to different years or entities to prevent mix-ups or incorrect applications of data.</Action>

    </Rule>
<Rule id="574" phase="generation" confidence="1" source="log_574" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of total categories, such as 'other purchase commitments', and the model provides a response with a high degree of precision (e.g., decimal points) that does not match the expected format of the answer (e.g., rounded percentage).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer is rounded appropriately to match the context and expected format of the question, avoiding unnecessary precision that may indicate arithmetic hallucination or incorrect rounding.</Action>

    </Rule>
<Rule id="575" phase="generation" confidence="1" source="log_575" type="ProgramLogicFailure">

        <Trigger>Upon encountering questions that require the calculation of percentages of a total, where the model's response does not accurately reflect the simple division of the part by the whole and then multiplication by 100 to obtain the percentage.</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the model applies the correct formula for calculating percentages, which involves dividing the specific category value by the total value and then multiplying by 100, ensuring the logic for calculating percentages is correctly applied.</Action>

    </Rule>
<Rule id="576" phase="generation" confidence="1" source="log_576" type="IncorrectContextRetrieval">

        <Trigger>When the model's response suggests a misunderstanding of which values to use for the calculation, such as incorrectly identifying the total or the specific category values, leading to an inaccurate percentage calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model correctly identifies and retrieves the relevant values for the calculation from the provided context, accurately distinguishing between the specific category (e.g., 'other purchase commitments') and the total, to avoid confusion and incorrect calculations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the balance of cash and cash equivalents for a specific year, and the model's response does not match the correct answer based on given context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of cash and cash equivalents takes into account the changes mentioned in the context, such as decreases or increases, and correctly applies these to the initial or previous year's amount to derive the correct balance for the specified year.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating change in values over time, particularly when determining differences between consecutive periods for financial metrics such as weighted average common shares outstanding.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the change in a financial metric from one period to another is performed by subtracting the earlier period's value from the later period's value, taking care to maintain the correct order of subtraction to avoid sign errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="asbestos_cases" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the result is rounded correctly and maintains the appropriate sign (positive for increase, negative for decrease)</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage cumulative total return for financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage cumulative total return is correctly applied, taking into account the initial and final values of the entity, and that all intermediate values are properly considered to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Determining the difference in percentage cumulative total return between two financial entities</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the program logic correctly computes the percentage cumulative total return for each entity separately before calculating the difference between them, ensuring that the correct formula and intermediate steps are followed.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>Retrieving and applying relevant historical financial data for entities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the model retrieves and applies the correct historical financial data for the specified period and entities, ensuring that the data aligns with the question's context and requirements.</Action>

    </Rule>
<Rule id="579" phase="generation" confidence="1" source="log_579" type="ArithmeticError">
        <Trigger>Percentage change calculations involving large differences between new and old values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of percentage changes using the formula ((New Value - Old Value) / Old Value) * 100, avoiding premature rounding and utilizing sufficient decimal places for intermediate calculations</Action>
    </Rule>
<Rule id="580" phase="generation" confidence="1" source="log_580" type="Arithmetic Confirmation Error">

        <Trigger>Ratio calculations involving financial metrics such as fair value and cost basis</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the ratio of two financial values is calculated by dividing the fair value by the cost basis, ensuring that both values are correctly identified and retrieved from the context before performing the division</Action>

    </Rule>
<Rule id="581" phase="generation" confidence="1" source="log_581" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total future minimum rental payments due in a specific time period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the numerator in the calculation represents the total payments due in the specified time period, not just a single year's payment, and that it is correctly summed before calculating the percentage of the total future minimum rental payments.</Action>

    </Rule>
<Rule id="582" phase="generation" confidence="1" source="log_582" type="Arithmetic Calculation Failure">
        <Trigger>Calculation of percentage change between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic errors</Action>
    </Rule>
<Rule id="583" phase="generation" confidence="1" source="log_583" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total cost for repurchasing shares under current authorization, given historical repurchase data and remaining shares to be repurchased</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the cost per share is accurately calculated by dividing the total cost of historical repurchase activity by the total number of shares repurchased, and then apply this rate to the number of remaining shares to be repurchased under the current authorization, considering any potential rounding errors or precision issues in the calculation</Action>

    </Rule>
<Rule id="584" phase="generation" confidence="1" source="log_584" type="Incorrect Context Retrieval">

        <Trigger>When the model is asked to analyze data for a specific year, but the provided data is for a different year, and the model fails to address the discrepancy or to find the relevant data for the requested year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model verifies the year of the provided data against the year specified in the question to avoid incorrect context retrieval, and if the years do not match, the model should attempt to find the correct data for the requested year or clearly state that the data for the specified year is not available.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the change in a financial metric between two time periods, and the model's response does not match the ground truth calculated by subtracting the earlier period's value from the later period's value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all financial metrics are calculated as the difference between the later and earlier period's values, without introducing extraneous scaling factors or ratios, and verify that the units of the calculated change match the expected units (e.g., millions, thousands, etc.).</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percent calculation for a subset of a total, where specific dates or periods are mentioned (e.g., "for the fourth quarter" or "in November"), and the task requires determining the proportion of a specific subset of shares purchased during that period out of the total number of shares purchased.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages that represent a portion of a total, ensure that the numerator accurately reflects the specific subset in question (e.g., shares purchased in November) and the denominator represents the total across the relevant timeframe (e.g., total shares purchased during the fourth quarter), and apply the formula correctly as (specific subset / total) * 100 to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net fair value of derivatives involves subtraction of gross derivative fair values of payables from receivables</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by subtracting the total gross derivative fair value of payables from the total gross derivative fair value of receivables when calculating the net fair value of derivatives</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic Hallucination">

        <Trigger>Change in balance of long-term notes receivable is mentioned, and the model is asked about its effect on cash flow.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the effect of a change in the balance of long-term notes receivable on cash flow, ensure that the direction of the change (increase or decrease) is correctly applied as a positive or negative value, respectively.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total contractual obligations, especially when debt obligations are involved, and ensuring accurate arithmetic operations are performed.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that all relevant contractual obligations and debt obligations are accurately summed and then calculate the percentage by dividing the total debt obligations by the total contractual obligations, considering potential rounding errors and verifying the precision of the calculation to avoid minor discrepancies.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of state operating loss carryforwards that expire within a given time frame, and the model responds with an incorrect absolute value (e.g., 0) instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages are correctly scaled and that the final answer reflects the proportion of the total, rather than an absolute value. KNOWLEDGE INJECTION: Verify that the model understands the context of "expiration" in the context of loss carryforwards and can correctly apply the relevant formulas to derive the percentage of expiring losses.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="percentage_calculation_log" type="PercentageCalculationError">
        <Trigger>Questions asking for percentage increases or decreases over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes over time expressed as percentages, ensure to calculate the difference as a percentage of the original value, using the formula ((New Value - Old Value) / Old Value) * 100</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cash flow changes between two consecutive years, involving subtraction of previous year's balance from current year's balance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify the order of subtraction when calculating changes in balance between periods, ensuring that the current period's balance is subtracted by the previous period's balance to obtain the correct direction of change.</Action>

    </Rule>
<Rule id="601" phase="generation" confidence="1" source="log_601" type="Arithmetic Hallucination">

        <Trigger>Percent change calculations involving multiple years of financial data, especially when determining cumulative total shareholder return over a specific period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percent change, the formula [(New Value - Old Value) / Old Value] * 100 is correctly applied, with the old value being the initial value of the period in question and the new value being the final value of that period, to avoid arithmetic errors and hallucinations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Effective tax rate calculation or comparison</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model outputs numerical values without percentage signs when the question asks for a percentage as a number, and verify that the highest value among the given options or context is correctly identified and returned as the final answer.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">
        <Trigger>Calculation of percentages involving shares or financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations are performed by dividing the part by the whole and then multiplying by 100, considering the correct context and mathematical operations.</Action>
    </Rule>
<Rule id="601" phase="generation" confidence="1" source="log_601" type="Arithmetic_Hallucination">

        <Trigger>When calculating growth rates between two consecutive time periods, ensure that the formula is applied correctly, especially when dealing with decimals or percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all arithmetic operations, including subtraction and division, are performed accurately with the correct number of significant figures to avoid rounding errors, and KNOWLEDGE INJECTION: Apply the growth rate formula as (New Value - Old Value) / Old Value, ensuring that the calculation is precise and rounded appropriately only at the final step.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of total future minimum rental payments due in a specified timeframe, the model response is a raw value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model divides the rental payments due in the specified timeframe by the total future minimum rental payments and then multiplies by 100 to obtain the correct percentage.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating average balance of end of year valuation allowance when beginning of year values are provided for consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the end of year valuation allowance for each year is correctly inferred as the beginning of year valuation allowance of the subsequent year, and then calculate the average of these inferred end of year values</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Incorrectly assuming the beginning of year valuation allowance is the same as the end of year valuation allowance for the same year</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the beginning of year valuation allowance for a given year is equivalent to the end of year valuation allowance of the previous year, and adjust calculations accordingly</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to utilize the provided beginning of year valuation allowances to infer the necessary end of year valuation allowances for calculating the average</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always retrieve and utilize all relevant contextual information, such as beginning of year valuation allowances, to accurately calculate the end of year valuation allowances before computing the average</Action>

    </Rule>
<Rule id="599" phase="generation" confidence="1" source="log_599" type="CalculationValidationError">
        <Trigger>Calculation of growth rates between two periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always verify that growth rates are calculated using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accuracy in financial metrics comparisons.</Action>
    </Rule>
<Rule id="600" phase="generation" confidence="1" source="log_600" type="ArithmeticError">
        <Trigger>Percentage change calculations involving comparative financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100, considering the correct direction of change and applying the formula appropriately to avoid sign errors.</Action>
    </Rule>
<Rule id="601" phase="generation" confidence="1" source="log_601" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rate or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that the values used are from the correct time periods and are accurately represented in the calculation.</Action>

    </Rule>
<Rule id="602" phase="generation" confidence="1" source="log_602" type="ArithmeticLogicError">
        <Trigger>Calculating percentages of financial components within a total</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentages are calculated as (specific component value / total value) * 100, double-checking the formula application and data interpretation to avoid arithmetic hallucination or logic failure.</Action>
    </Rule>
<Rule id="601" phase="generation" confidence="1" source="log_601" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two time periods for financial metrics such as shares outstanding</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the signs of the values are appropriately considered to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="601" phase="generation" confidence="1" source="log_601" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net derivative balance involving multiple years and asset/liability values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant derivative receivables and payables are correctly summed and subtracted to obtain the net derivative balance, considering the specific year of interest and ensuring proper alignment of corresponding asset and liability values.</Action>

    </Rule>
<Rule id="602" phase="generation" confidence="1" source="log_602" type="Program_Logic_Failure">

        <Trigger>Incorrect interpretation of the context provided, leading to miscalculation of the desired net derivative balance</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly interprets the context to identify the specific year for which the net derivative balance is to be calculated, and that it accurately distinguishes between derivative receivables and payables to perform the correct arithmetic operations.</Action>

    </Rule>
<Rule id="601" phase="generation" confidence="1" source="log_601" type="Arithmetic Hallucination">

        <Trigger>Calculation of net change in balance, especially when determining increases or decreases in financial metrics over a given period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the direction of change (increase or decrease) is correctly applied when calculating net changes in financial balances by subtracting the initial value from the final value and considering the context of the question to determine if the result should be positive (increase) or negative (decrease).</Action>

    </Rule>
<Rule id="606" phase="generation" confidence="1" source="log_606" type="Arithmetic_Hallucination">

        <Trigger>Question asks for an average value and the model provides discrete values instead of performing the necessary arithmetic operation to find the mean.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When a question requests an average value, ensure that all provided numbers are summed and then divided by the count of numbers to obtain the average, rather than listing discrete values or selecting one of the provided numbers as the answer.</Action>

    </Rule>
<Rule id="607" phase="generation" confidence="1" source="log_607" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or decreases over time, especially in financial contexts involving projected benefits or payments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100, rather than merely subtracting the new value from the old value. KNOWLEDGE INJECTION: Recognize that financial calculations, especially those involving percentages, require precise formulas that account for the original value to accurately reflect changes.</Action>

    </Rule>
<Rule id="608" phase="generation" confidence="1" source="log_608" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of future minimum payments under operating leases, especially in the context of comparing annual totals across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the base amount for percentage calculations is correctly identified and that the numerator and denominator are properly aligned with the question's requirements, avoiding misinterpretation of the provided data or context.</Action>

    </Rule>
<Rule id="609" phase="generation" confidence="1" source="log_609" type="ArithmeticHallucination">
        <Trigger>Percent change calculations involving weighted averages</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentages and averages, are performed with precise decimal places and rounded appropriately at the final step to avoid compounding minor errors.</Action>
    </Rule>
<Rule id="610" phase="generation" confidence="1" source="log_610" type="ContextRetrievalError">

        <Trigger>When a question asks for data from a specific year and the model responds with a statement indicating lack of data for that year, despite relevant information being provided for adjacent years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model checks for implicit or related data that can be used to infer or calculate the required information for the specified year, especially when data for preceding or following years is provided.</Action>

    </Rule>
<Rule id="611" phase="generation" confidence="1" source="log_611" type="Arithmetic Hallucination">

        <Trigger>Calculation of tax rates from given exercise proceeds and income tax benefits</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the income tax benefit is divided by the exercise proceeds to calculate the tax rate, and verify that the result is rounded correctly to avoid precision errors.</Action>

    </Rule>
<Rule id="612" phase="generation" confidence="1" source="log_612" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total contractual obligations, specifically when determining the proportion of long-term debt.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the specific contractual obligation (in this case, long-term debt) by the total contractual obligations, and then multiplying by 100 to obtain the percentage, while avoiding arithmetic errors and confirming the correct retrieval of relevant contractual obligation values.</Action>

    </Rule>
<Rule id="613" phase="generation" confidence="1" source="log_613" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage differences between financial metrics of companies or indices over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage differences are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that all values are correctly retrieved and applied to this formula to prevent calculation errors</Action>

    </Rule>
<Rule id="614" phase="generation" confidence="1" source="log_614" type="LogicalInferenceError">

        <Trigger>Comparing dividend rates across different time periods to determine if there has been an increase or decrease, especially when the dividend amount is provided in a different format or context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing financial metrics such as dividend rates over time, ensure that all relevant data points are normalized to a comparable format before making a logical inference about increases or decreases, and verify that the comparison is based on the same type of metric (e.g., dividend per share).</Action>

    </Rule>
<Rule id="615" phase="generation" confidence="1" source="log_615" type="ContextMismatchError">

        <Trigger>When calculating differences between two sets of subscribers, ensure that the correct sets are being compared, focusing on the specific subsets mentioned in the question (e.g., international subscribers for specific channels).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify and isolate the specific subsets or categories mentioned in the question before performing arithmetic operations to ensure relevance and accuracy of the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of outstanding aggregate minimum rental commitments under noncancelable operating leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct total value of commitments is used as the denominator when calculating percentages, and verify that the numerator accurately represents the portion of commitments due in the specified year.</Action>

    </Rule>
<Rule id="617" phase="generation" confidence="1" source="log_617" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving sequential financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations and accurate value retrieval.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger> Rental expense calculation, deduction of sublease rentals, and overall financial statement analysis </Trigger>

        <Action> CRITICAL FORMATTING RULE: Ensure that when calculating total rental expenses, the system adds the expenses for operating leases and subtracts the rentals received from subleases to obtain the accurate figure, rather than neglecting any part of the given information. </Action>

    </Rule>
<Rule id="619" phase="generation" confidence="1" source="log_619" type="CalculationError">
        <Trigger>Percentage growth calculations between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct percentage growth formula, ensuring to subtract the initial value from the final value, divide by the initial value, and then multiply by 100 to get the percentage growth.</Action>
    </Rule>
<Rule id="620" phase="generation" confidence="1" source="log_620" type="Arithmetic_Hallucination">

        <Trigger>When calculating net debt after using cash, cash equivalents, and marketable securities to repay debt, and the model provides an incorrect response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of net debt is performed by subtracting the total amount of cash, cash equivalents, and marketable securities used for debt repayment from the total debt, taking into account the correct arithmetic operations and avoiding any hallucination of intermediate results.</Action>

    </Rule>
<Rule id="621" phase="generation" confidence="1" source="log_621" type="ProgramLogicFailure">
        <Trigger>Calculating net changes in quantities over time, such as store openings or closings.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate net changes by considering both the increase and decrease in quantities over the specified period, ensuring to account for any differences in initial and final counts.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentages involving total numbers of shares and shares purchased as part of publicly announced plans or programs</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of shares purchased as part of publicly announced plans or programs, the correct total number of shares purchased is used as the denominator, and the number of shares purchased under these programs is used as the numerator, applying the formula: (number of shares purchased under programs / total number of shares purchased) * 100</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Derivative contract calculations involving average contract life and exposure amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of annual exposure for derivative contracts properly accounts for the average contract life and utilizes the correct formula, considering the total exposure over the contract life and dividing it by the number of years to obtain the annual exposure</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Percentage change calculations involving consecutive years or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage change, while maintaining precision throughout the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result correctly indicates an increase or decrease.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Comparing expense values across different years to determine change</Trigger>

        <Action>KNOWLEDGE INJECTION: Always consider the direction of change (increase or decrease) when comparing values from different time periods, and apply the correct mathematical operation to reflect this change accurately.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>Identifying relevant data for calculating percentage change in expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the correct and relevant expense values for the specified years are retrieved and used in the calculation, ensuring that all necessary data points are considered and accurately represented.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Financial ratio calculations involving specific targets and current values, especially when calculating differences or required amounts to reach a certain threshold.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial metrics (e.g., current ratio, target ratio, and the differences between them) are accurately calculated and properly applied to the underlying financial figures (e.g., assets, equity) before deriving the final amount needed to meet a specific management objective.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="PercentageCalculationError">

        <Trigger>Questions involving percentage change calculations between two time periods, especially those related to financial metrics such as non-vested RSUs.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage change. KNOWLEDGE INJECTION: Recognize that percentage changes are not absolute differences and require a relative calculation to accurately reflect the change between two time points.</Action>

    </Rule>
<Rule id="628" phase="generation" confidence="1" source="log_628" type="Arithmetic Hallucination">

        <Trigger>Calculation of gross assets acquired after resolution of tax controversy</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant adjustments, including indemnity receivables for uncertain tax positions, are subtracted from the total fair value of assets acquired to calculate the gross assets acquired after a favorable tax controversy resolution</Action>

    </Rule>
<Rule id="628" phase="generation" confidence="1" source="log_628" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages for bond tranches, particularly when determining the proportion of a specific tranche to the total senior secured transition bonds.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of bond tranches, the formula (specific tranche amount / total bond amount) * 100 is applied correctly, considering the precision and rounding of the result to match the required format, and KNOWLEDGE INJECTION: Verify that the correct amounts for both the specific tranche and the total are accurately identified and used in the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Prediction of future values based on historical growth rates</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that historical growth rates are calculated accurately and applied correctly to predict subsequent values, using the formula for percentage change and ensuring that all calculations are based on provided historical data without assuming unseen values.</Action>
    </Rule>
<Rule id="631" phase="generation" confidence="1" source="log_631" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of vested shares, especially in scenarios involving forfeited shares and vesting provisions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure to accurately account for all shares, including those that are restricted, vested, and forfeited, and apply the correct formula to calculate the percentage of vested shares, considering the total number of shares as the denominator.</Action>

    </Rule>
<Rule id="632" phase="generation" confidence="1" source="log_632" type="Program Logic Failure">

        <Trigger>Upon encountering conditions where shares may become vested under specific circumstances, such as the scenario described.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly interprets the conditions under which shares become vested and apply these conditions to calculate the total number of vested shares, including any that become vested due to specified events or dates.</Action>

    </Rule>
<Rule id="633" phase="generation" confidence="1" source="log_633" type="Incorrect Context Retrieval">

        <Trigger>When dealing with financial statements, notes, or other documentation that outlines vesting provisions and share distributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model retrieves and applies the correct context regarding vesting provisions, share distributions, and any relevant dates or events that affect the vesting status of shares, to accurately calculate the percentage of vested shares.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="arithmetic_hallucination">

        <Trigger>Calculation of percentage variation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the variation of a percentage between two time periods, ensure to subtract the earlier period's percentage from the later period's percentage and then take the absolute value, if the context implies an absolute change.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="program_logic_failure">

        <Trigger>Comparison of effective tax rates across different fiscal years</Trigger>

        <Action>KNOWLEDGE INJECTION: When comparing financial metrics like effective tax rates across different years, verify that the calculation reflects the correct order of operations and consider the direction of change (increase or decrease) to provide a meaningful result.</Action>

    </Rule>
<Rule id="633" phase="generation" confidence="1" source="log_633" type="ArithmeticHallucination">

        <Trigger>Questions involving percentages of weighted averages or totals, especially in contexts where specific numerical values for different regions or categories are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct formula (part/whole) * 100 is applied, and verify that the units and context of the 'part' and 'whole' match the question being asked, to prevent arithmetic hallucination and ensure accuracy in financial reasoning.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accuracy in financial reasoning tasks</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the decline or increase between two values over time, ensure to apply the percentage change formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the result is expressed as a percentage, not an absolute value.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages or proportions of a total, especially in contexts involving comparisons across different categories (e.g., domestic vs. international), and the model's response is a raw number or an incorrect percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when a question asks for a proportion or percentage (especially in comparative contexts), the model calculates the proportion correctly by dividing the specific category's value by the total relevant value and then multiplying by 100 to get the percentage, rather than providing a raw count or an incorrect calculation.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_error_analysis" type="Program_Logic_Failure">

        <Trigger>When the model fails to correctly interpret the question's request for a percentage or proportion, particularly in scenarios where the question explicitly or implicitly asks for a comparison (e.g., "how many of the new sites were foreign").</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that questions phrased as "how many" can sometimes imply a request for a proportion or percentage when the context involves categorical comparisons. Thus, the model should be able to discern between requests for absolute numbers versus relative measures and adjust its calculation accordingly.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>When the model incorrectly identifies or fails to retrieve the relevant context or numbers necessary for calculating proportions or percentages, especially in cases where the question demands a comparison across different categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves all relevant numerical values and contexts from the given data. This includes identifying the total number of new sites and the number of sites in the specific category of interest (e.g., foreign sites) to perform the correct calculation for percentages or proportions.</Action>

    </Rule>
<Rule id="637" phase="generation" confidence="1" source="log_637" type="ArithmeticHallucination">
        <Trigger>Financial calculations involving percentage changes or precise arithmetic operations</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentages or financial metrics, are performed with high precision and rounded appropriately at the final step to maintain accuracy</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage differences in cumulative returns between two financial instruments over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations are performed by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to obtain the percentage change; KNOWLEDGE INJECTION: Verify that the formula for percentage change is applied correctly to both the individual stock and the market average before comparing the results</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Comparing cumulative returns between two financial instruments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Validate that all relevant data points (e.g., initial and final values) for both the stock and the market average are correctly identified and utilized in the calculation; KNOWLEDGE INJECTION: Confirm that the logic for calculating and comparing cumulative returns accounts for the specific time frame and properly handles any potential division by zero or negative value scenarios</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving historical financial data for calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context retrieval mechanism accurately fetches the required historical financial data (including initial and final values) for the specified period and instruments; KNOWLEDGE INJECTION: Implement a validation check to confirm that the retrieved data corresponds to the correct financial instruments and time frame before proceeding with calculations</Action>

    </Rule>
<Rule id="639" phase="generation" confidence="1" source="log_639" type="ArithmeticError">

        <Trigger>Calculation of percentages related to cash flow, specifically when determining the proportion of non-tower cash flow to adjusted consolidated cash flow.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the calculation of percentages is performed correctly by dividing the part by the whole and then multiplying by 100, ensuring that negative values are handled appropriately to avoid incorrect percentage calculations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_percentage_calculation" type="RoundingError">
        <Trigger>Calculation of percentage change in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Round calculated percentages to the appropriate number of decimal places as per the context of financial reporting, typically to the nearest whole number or one decimal place, to ensure accuracy in financial calculations.</Action>
    </Rule>
<Rule id="641" phase="generation" confidence="1" source="log_641" type="Arithmetic_Hallucination">

        <Trigger>Calculating cumulative total return over multiple years with given index values for each year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change from the initial value to the final value is calculated correctly by using the formula: ((final_value - initial_value) / initial_value) * 100, and apply this calculation to determine the cumulative total return over the specified period</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total owned square feet for a specific category, and the model's response does not match the expected result based on provided context numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage of total owned square feet applicable to a category involves dividing the owned square feet of that category by the total owned square feet, then multiplying by 100 to get the percentage, while avoiding rounding errors or incorrect retrieval of context values.</Action>

    </Rule>
<Rule id="643" phase="generation" confidence="1" source="log_643" type="ArithmeticHallucination">
        <Trigger>Calculation of growth rates or percentages in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentages or growth rates, are performed with precise decimal places and rounding only at the final step of calculation to avoid compounding errors.</Action>
    </Rule>
<Rule id="643" phase="generation" confidence="1" source="log_643" type="ProgramLogicFailure">
        <Trigger>Calculation involving negative values for dispositions or transfers in financial reserve contexts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all negative values are correctly accounted for as decreases and positive values as increases in calculations, especially in scenarios involving dispositions and transfers of reserves.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change involving rounding or precision.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure calculations of percentage changes or growth rates maintain precision until final rounding to avoid truncation errors, considering the context's required decimal places for accuracy.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of differences between two financial periods, especially when comparing carrying amounts on consolidated balance sheets for specific asset types.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating differences between financial periods, the correct order of operations is applied, specifically subtracting the earlier period's value from the later period's value to obtain the correct difference, and verify the sign of the result to accurately reflect an increase or decrease.</Action>

    </Rule>
<Rule id="647" phase="generation" confidence="1" source="log_647" type="Arithmetic_Hallucination">

        <Trigger>Calculating percent change in financial metrics, such as earnings per share, between two different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percent change calculation is performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the respective financial metric values for the two periods being compared. KNOWLEDGE INJECTION: Verify that the values used in the calculation are the actual values for the specific financial metric in question and not mistakenly swapped or misinterpreted.</Action>

    </Rule>
<Rule id="648" phase="generation" confidence="1" source="log_648" type="ArithmeticHallucination">

        <Trigger>Comparison of average revenue per unit between different industries or categories, where the model response is a single numeric value and the ground truth is a ratio or percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating comparative metrics, ensure to evaluate if the question requires a ratio, percentage, or direct numeric comparison, and apply the appropriate arithmetic operation to derive the correct answer, considering the context of the question and the units of measurement provided.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change in assets due to realized and unrealized losses/gains, where the model's response differs significantly from the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change in assets due to losses/gains is performed by subtracting the final value from the initial value, dividing by the initial value, and then multiplying by 100. Verify that all relevant losses/gains are accounted for and that the correct formula is applied to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program Logic Failure">

        <Trigger>Incorrect application of financial formulas or failure to consider all relevant factors (e.g., realized and unrealized losses/gains) when calculating the effect on assets.</Trigger>

        <Action>KNOWLEDGE INJECTION: Review the financial statements to identify all components that affect the calculation, such as investments and other assets. Ensure that the model logic correctly incorporates these components into the calculation, using the appropriate financial formulas and accounting for any interactions between them.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_analysis" type="Incorrect Context Retrieval">

        <Trigger>Failure to accurately retrieve or apply relevant context from financial statements, such as initial and final asset values or the specific losses/gains incurred during the period in question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model correctly retrieves and applies the relevant financial data, including initial and final asset values, and all realized and unrealized losses/gains. Ensure that the context is accurately applied to the calculation to prevent errors due to incorrect or missing information.</Action>

    </Rule>
<Rule id="650" phase="generation" confidence="1" source="log_650" type="Arithmetic_Hallucination">

        <Trigger>When calculating net adjustments, the model should consider all relevant adjustment components.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net adjustments calculation sums all adjustment components, including both positive and negative adjustments, to derive the correct net value.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of change in net revenue and attribution to a specific factor without considering the provided data or lack thereof, leading to an incomplete analysis.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the impact of a specific factor on a change in financial metrics, ensure that all relevant data points are considered, and if specific data is missing (e.g., the change in a particular price), acknowledge the limitation or compute the portion based on given information, following the principles of financial analysis and avoiding unfounded assumptions.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Inability to proceed with calculating the portion of the net change in net revenue due to a lack of specific data on the change in a retail electric price, indicating a failure to apply general principles of percentage change attribution.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that attributing a portion of a change in a financial metric to a specific factor involves understanding the relationship between the factor and the metric. If direct data on the factor's change is unavailable, consider applying principles of proportionality or seeking additional context that might enable a reasonable estimation or attribution, thus avoiding deadlocks in analysis due to partial data absence.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Failure to apply given data correctly to calculate the impact of a specific factor (like retail electric price change) on the overall change in a financial metric (such as net revenue), indicating a misunderstanding of how different components contribute to the whole.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When analyzing the contribution of a specific factor to a change in financial metrics, ensure that all given data is correctly applied and interpreted. This includes understanding the baseline values, the changes in relevant factors, and how these changes can be proportionally attributed to the overall change in the financial metric in question, thus ensuring a comprehensive and accurate analysis.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Questions asking for a percentage or proportion of a total amount that would affect a specific rate or metric if recognized, such as the effective tax rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response is calculated as a percentage by dividing the amount that would affect the rate by the total amount, and then multiplying by 100, rather than simply providing the amount that would affect the rate.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages from a set of numbers provided in the context for financial metrics such as net sales over multiple years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided values are correctly summed and then divided by the total number of values to calculate the average, without introducing external or unwarranted numerical assumptions.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total net revenue, ensure that the model retrieves and utilizes the correct values for both the component revenue (e.g., noninterest revenue) and the total net revenue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation for percentages is performed accurately by dividing the component revenue by the total net revenue and then multiplying by 100, to ensure the correct percentage is calculated and presented.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the remaining cost to repurchase shares, the model should identify the total number of shares to be repurchased and the number of shares already purchased, then calculate the remaining number of shares to be repurchased.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct arithmetic operations are applied to calculate the remaining cost, specifically multiplying the remaining number of shares by the weighted average share price, and consider all terms mentioned in the problem description.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Upon encountering an agreement for repurchasing shares, the model should recognize the importance of the weighted average share price for the correct time frame and apply it to the correct quantity of shares.</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the model understands the context of share repurchase agreements, including how to calculate costs based on weighted average prices and the remaining number of shares after some have been purchased.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>When provided with information about share purchases, including dates and quantities, ensure the model correctly identifies and applies the relevant data for the specified time frame (e.g., as of December 31, 2009) to calculate the remaining cost accurately.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model retrieves and applies the correct context regarding the number of shares purchased, the weighted average price, and the time frame specified in the question to avoid confusion or misapplication of data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>When calculating face values of outstanding trusts with specific maturity dates, ensure all relevant trusts are considered and their face values are summed correctly.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation includes all trusts with maturity dates within the specified range and that their face values are accurately added together, avoiding any potential for arithmetic hallucination or omission of relevant data.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ProgramLogicFailure">

        <Trigger>Upon encountering multiple trusts with varying face values and maturity dates, the model should apply a systematic approach to identify and sum the face values of trusts with maturity dates falling within the given range.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a step-by-step logic to filter trusts by their maturity dates and then sum their respective face values, ensuring that the calculation is both comprehensive and accurate.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="IncorrectContextRetrieval">

        <Trigger>In questions involving the calculation of face values for trusts with specific maturity dates, it is crucial to correctly identify and retrieve the relevant data for trusts that match the given maturity date criteria.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and considers only the data relevant to the trusts with maturity dates within the specified range, excluding any irrelevant information that might lead to incorrect calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_calculation_error" type="ArithmeticHallucination">
        <Trigger>Calculation of total or cumulative financial values involving multiple addends</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned addends are included in the calculation to avoid omission errors</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Contractual obligations for future payments under existing debt and lease commitments and purchase obligations are calculated, and the model provides a percentage that seems implausibly low given the context of maturities of long-term debt.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of contractual obligations due to specific future maturities, ensure all relevant components (e.g., maturities of long-term debt for the specified year) are correctly identified and divided by the total contractual obligations, then multiplied by 100 to convert the fraction to a percentage. KNOWLEDGE INJECTION: Double-check that the formula used for percentage calculation is correctly applied, considering the specific year's maturity in relation to the total obligations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="arithmetic_hallucination">

        <Trigger>Percentage change calculations involving negative numbers or loss values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as ((new_value - old_value) / old_value) * 100, and round the result to the nearest whole number or as per the required precision, taking into account the signs of the values to avoid incorrect percentage calculations</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticLogicError">
        <Trigger>Calculating percentage change between two financial values over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage increases or decreases in financial contexts to ensure accurate computation of changes over time.</Action>
    </Rule>
<Rule id="661" phase="generation" confidence="1" source="log_661" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving multiple years of financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the relevant financial metrics for the respective years, to avoid arithmetic hallucination errors</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of shares not purchased as part of publicly announced plans or programs</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of subsets within a total, the correct formula is applied, i.e., (total - subset) / total * 100, and verify that all numbers used in the calculation are correctly extracted from the context and accurately represented in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages from given exposure and collateral data for specific rating categories, where the model provides an incorrect percentage without proper arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant exposure and collateral values for each rating category are correctly summed and then calculate the percentage by dividing the specific category's exposure by the total exposure, and finally multiplying by 100 to obtain the percentage, considering all provided rating categories and their respective exposures.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating future values based on historical growth rates, especially in the context of financial metrics such as gas production.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the growth rate is accurately calculated from the provided historical data and then applied correctly to predict future values, avoiding any assumptions not supported by the given information.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>When a question asks for a future value based on the assumption that the growth rate of a metric remains constant from one period to the next.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation for the future value takes into account the entire growth pattern as described, and that the formula used (e.g., percentage increase, absolute increase) is appropriate for the context provided.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculating percentages of total amounts, especially in financial contexts involving goodwill and total purchase prices.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating percentages of a total, ensure to accurately identify all components of the total and apply the correct formula (part/whole)*100, avoiding arithmetic hallucinations by double-checking the math.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="finqa_log" type="ArithmeticHallucinationOrProgramLogicFailure">
        <Trigger>Calculations involving percentage cumulative total returns or comparisons between different investment vehicles over a specified period.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations of cumulative returns are based on the correct initial and final investment values, properly account for reinvested dividends, and accurately apply the percentage return formula. KNOWLEDGE INJECTION: Verify understanding of the formula for percentage cumulative total return, which requires the initial investment amount, the final investment amount (after the specified period), and consideration of any dividends reinvested during that period.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages or totals from given financial data, especially in the context of comparing values across different years or categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values are correctly extracted and included in the calculation. Verify that the mathematical operation (e.g., addition, division) is accurately applied according to the question's requirements, and that the final answer is formatted correctly, taking into account the appropriate unit of measurement (e.g., dollars, millions, billions) and the context of the question.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucinationError">

        <Trigger>When calculating total expenses or awards for multiple years, and the model response is a list of individual year values instead of a summed total.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all expenses or awards mentioned for different years are summed together to obtain the total value, rather than listing individual year values as separate answers.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of average long-term debt maturities due within a specific future time frame</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant debt maturities within the specified time frame are accurately summed and then divided by the number of years to calculate the average, without omitting any maturities or including irrelevant data</Action>

    </Rule>
<Rule id="670" phase="generation" confidence="1" source="log_error_calculation" type="ArithmeticHallucination">
        <Trigger>Calculating percentage growth between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage growth calculations follow the formula ((NewValue - OldValue) / OldValue) * 100, applied accurately with given data points.</Action>
    </Rule>
<Rule id="671" phase="generation" confidence="1" source="log_671" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of a specific portion of a financial obligation due in a future period, and the model responds with an implausible value such as 0.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately calculates percentages by dividing the portion of the financial obligation due in the specified period by the total financial obligation and then multiplying by 100, taking into account all relevant periods and their respective values.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change in average price per share over time, involving subtraction and division operations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage change of a quantity, the correct formula ((New Value - Old Value) / Old Value) * 100 is applied, and verify that all values are correctly retrieved from the context before performing arithmetic operations</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating change in financial values due to refinancing or similar transactions, where the initial and final values are provided but the model incorrectly computes the difference.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the change in financial values, ensure to subtract the initial value from the final value correctly, considering the context of increase or decrease, and verify that the calculated difference is correctly represented in the required units (e.g., thousands) without introducing arithmetic hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios involving the number of units disposed of and acquired, ensure all relevant information is considered.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the calculation includes all units disposed of and all units acquired, ensuring the correct total numbers are used for both the numerator and the denominator in ratio calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucinationAndProgramLogicFailure">
        <Trigger>Calculation of financial ratios where percentage is implied or required</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure correct application of mathematical operations for ratio calculations, and when context implies percentage, apply the percentage conversion correctly. KNOWLEDGE INJECTION: Match financial formulas with the appropriate metrics, ensuring accurate unit consideration (e.g., percentage for ratio calculations).</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of net change in cash involving multiple cash flow activities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all cash flow activities (operating, investing, financing) are accurately accounted for and summed to determine the net change in cash, considering both positive and negative values to avoid incorrect calculations.</Action>

    </Rule>
<Rule id="677" phase="generation" confidence="1" source="log_677" type="ArithmeticInterpretationFailure">
        <Trigger>Percentage difference calculations between two time periods or categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage difference answers are calculated as (Value1 - Value2) and formatted as a percentage, including the sign to denote increase or decrease</Action>
    </Rule>
<Rule id="678" phase="generation" confidence="1" source="log_678" type="Arithmetic_Hallucination">

        <Trigger>Calculating cumulative total return over a period, especially when dealing with percentages and comparing performance across different financial instruments or indices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the formula for calculating cumulative total return correctly accounts for the reinvestment of dividends and accurately applies the percentage change formula over the specified period, considering both the initial and final values of the investment.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percent increase calculations involving comparison of two time periods or values, especially when calculating growth rates or changes in financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent increase calculations are performed by subtracting the original value from the new value, then dividing by the original value, and finally multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Double-check that the formula for percentage increase is correctly applied as ((New Value - Original Value) / Original Value) * 100.</Action>

    </Rule>
<Rule id="680" phase="generation" confidence="1" source="log_680" type="Arithmetic Hallucination">

        <Trigger>Calculating the percentage of net cash used for investing activities in relation to net cash provided by operating activities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the absolute value of net cash used for investing activities is correctly divided by the net cash provided by operating activities, and then multiplied by 100 to obtain the percentage, avoiding any rounding errors or incorrect assumptions about the relationship between the two financial metrics</Action>

    </Rule>
<Rule id="1" phase="evaluation" confidence="1" source="log_1" type="Arithmetic_Hallucination">
        <Trigger>Comparison of returns between two financial entities over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that calculations for returns are based on accurate and complete historical data for both entities, and that the return on investment (ROI) or similar metric is correctly computed over the specified time frame before making comparative statements.</Action>
    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">
        <Trigger>Outperformance analysis between a company's stock and an index</Trigger>
        <Action>KNOWLEDGE INJECTION: Always verify that the comparative analysis accounts for the possibility of negative returns or downturns in either the company's stock or the index, ensuring the logic for determining outperformance is robust and considers all possible scenarios, including but not limited to, percentage changes over time.</Action>
    </Rule>
<Rule id="3" phase="evaluation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">
        <Trigger>Retrieval and application of historical financial data for companies and indices</Trigger>
        <Action>CRITICAL FORMATTING RULE: Confirm that all relevant historical data points for both the company in question and the comparative index are correctly retrieved and applied in the analysis, ensuring that the context for the comparison is accurate and comprehensive.</Action>
    </Rule>
<Rule id="682" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentages or ratios, especially when small differences in precision could significantly affect the outcome.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all financial calculations, particularly those involving growth rates or percentages, are carried out with sufficient precision and that rounding rules are applied consistently and correctly to match the context's requirements.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Comparing financial sizes between entities of different categories, such as banks and governments, across different countries or contexts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing financial sizes, the comparison is between entities of the same category (e.g., banks to banks, governments to governments) unless explicitly instructed to compare across categories, in which case, verify the logic of the comparison based on the provided context to avoid incorrect inferences.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Encountering questions that require determining the relative size of financial entities (e.g., whether one is larger than another) based on provided numerical data.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the comparison is logically sound and based on the appropriate numerical data for the specific entities being compared, taking into account the context provided in the question to correctly interpret which figures should be used for the comparison.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving and applying financial data from a given context to answer comparative size questions between different financial entities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context provided is accurately interpreted, and the relevant financial data for the entities in question (e.g., banks, governments) is correctly identified and applied to the comparison, avoiding mix-ups between different types of entities or confusion about which data pertains to which entity.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Provision for loan losses calculations involving multiple segments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the proportion of a specific segment's provision for loan losses, all relevant segments' provisions are accurately summed and the correct segment's provision is used in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing calculations for total provisions or segment provisions</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly identifies and sums all provision for loan losses segments (including commercial, consumer, residual, etc.) to determine the total provision before calculating percentages or proportions to prevent program logic failure.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Misinterpretation of context or failure to identify relevant data for the specific year or segment</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly retrieves and processes data relevant to the specified year and segment (e.g., consumer, commercial) when calculating provisions for loan losses to avoid incorrect context retrieval.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculating percentages from financial data, especially in scenarios involving replacement or proportion of financial assets.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations are based on accurately identified and relevant base values and parts, applying the formula: (part/base) * 100, where 'part' is the portion of the total 'base' being considered.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_analysis" type="ProgramLogicFailure">
        <Trigger>When calculating totals for specific periods, ensure the context clearly differentiates between base values and period-specific values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Only sum the values explicitly associated with each period or category mentioned in the query, excluding any base or reference values unless explicitly instructed to include them.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, applying the correct order of operations and using the appropriate values for 'New Value' and 'Old Value' based on the context provided</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of operating expense ratio involves comparing expenses to revenues, and the model fails to consider all relevant expense components or misinterprets the relationship between expenses and revenues.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all expenses mentioned in the context are correctly identified and summed before calculating the operating expense ratio, and verify that the ratio calculation accurately reflects the relationship between total expenses and total revenues.</Action>

    </Rule>
<Rule id="689" phase="generation" confidence="1" source="log_689" type="ArithmeticHallucinationError">

        <Trigger>Ratio calculation of financial metrics across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all ratio calculations involving financial metrics across different periods are performed by dividing the later period's value by the earlier period's value, and verify the units of measurement are consistent for both values.</Action>

    </Rule>
<Rule id="690" phase="generation" confidence="1" source="log_690" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in cash used for a specific expense category between two fiscal years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of change in expenses between two periods involves subtracting the prior year's expense from the current year's expense, taking into account the correct numerical values and units mentioned in the context.</Action>

    </Rule>
<Rule id="691" phase="generation" confidence="1" source="log_691" type="Arithmetic_Hallucination">

        <Trigger>Percentage decrease calculations involving large differences in quantities between two periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage decrease calculations are performed using the formula ((initial_value - final_value) / initial_value) * 100, and verify that the initial and final values are correctly retrieved from the context, with particular attention to significant figure differences and potential division by zero errors</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total value of liabilities, the presence of multiple liability categories is detected, such as current liabilities and other liabilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all liability categories are accurately summed without omission or duplication, considering the correct arithmetic operations for each category, to obtain the total liability value.</Action>

    </Rule>
<Rule id="693" phase="generation" confidence="1" source="log_693" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages for lease terms, particularly when determining the proportion of non-cancelable operating leases due in greater than five years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by summing all relevant lease terms and then calculating the percentage of the total that falls into the specified category (e.g., greater than five years), using the formula: (amount due in specified category / total non-cancelable operating leases net of sublease income) * 100.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticError">

        <Trigger>When calculating the sum of assets purchased before goodwill and the model's response does not match the ground truth, indicating a potential miscalculation in the addition process.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant assets, including non-current assets, property and equipment, and intangible assets, are accurately identified and summed according to the preliminary purchase price allocation before calculating the total, verifying that the calculation aligns with basic arithmetic principles and the given context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages from given numerical values, especially in financial contexts involving income or expenses over different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentages by using the formula ((New Value - Old Value) / Old Value) * 100, avoiding rounding errors and ensuring precise decimal handling to prevent minor discrepancies that can lead to significant errors in financial analysis.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>Percentage change calculation involving multiple time periods or year-over-year comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to use the correct formula: ((New Value - Old Value) / Old Value) * 100, and apply it consistently across all relevant time periods to avoid incorrect assessments of growth or decline rates</Action>

    </Rule>
<Rule id="697" phase="generation" confidence="1" source="log_697" type="Arithmetic_Hallucination">

        <Trigger>Securities accounted for on the cost basis, with mention of fair value and total securities borrowed in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the amount of securities accounted for on the cost basis, subtract the securities accounted for at fair value from the total securities borrowed, and verify the units of measurement for consistency to avoid scale discrepancies.</Action>

    </Rule>
<Rule id="698" phase="generation" confidence="1" source="log_698" type="ComparativeAnalysisError">

        <Trigger>When evaluating the impact of changes in assumptions, such as expected long-term return on assets and compensation rate, on pension expense.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model compares the relative effects of changes in assumptions on the pension expense by analyzing the relationships between the variables and applying the correct methodology to determine which change has a greater effect, considering the context and the specific financial reasoning principles involved.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="FormatOmissionError">

        <Trigger>Questions asking for a percentage value in a financial context where the model responds with a numeric value only</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that responses to questions about percentages include the percentage symbol (%) to maintain consistency and clarity in financial reporting</Action>

    </Rule>
<Rule id="700" phase="generation" confidence="1" source="log_700" type="Arithmetic Comparison Failure">

        <Trigger>Comparing percentages or proportions of different entities or properties to determine which one accounts for a greater share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing percentages or proportions to determine the greater share, ensure that the comparison is between the percentages or proportions of the same category or metric (e.g., annualized cash rent) and that the calculation or comparison is performed correctly, considering all relevant information provided in the context.</Action>

    </Rule>
<Rule id="701" phase="generation" confidence="1" source="log_701" type="ArithmeticHallucination">
        <Trigger>Calculation of total tax-related prepaids for a specific year</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant tax prepaids for the specified year are correctly identified and summed, excluding data from other years.</Action>
    </Rule>
<Rule id="701" phase="generation" confidence="1" source="log_701" type="Arithmetic Hallucination">

        <Trigger>Calculation of cumulative total return percentage difference between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage difference ((end_value / start_value - 1) * 100) is applied correctly for both entities, and the difference in their cumulative total returns is calculated as the difference between these two percentages, not as a percentage of one entity's return relative to the other's absolute return value</Action>

    </Rule>
<Rule id="702" phase="generation" confidence="1" source="log_702" type="Program Logic Failure">

        <Trigger>Multi-period financial data comparison involving calculation of returns for a specific index and a company</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the start and end values used for calculating the cumulative total return are correctly identified for both the company and the index, and that these values are accurately applied in the formula for percentage change to avoid miscalculations due to incorrect period identification or mismatched data points</Action>

    </Rule>
<Rule id="703" phase="generation" confidence="1" source="log_703" type="ArithmeticError">
        <Trigger>Calculation of differences between financial ratios or metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial metrics are correctly identified and subtracted to find the actual difference, avoiding sign errors and verifying the context of comparison.</Action>
    </Rule>
<Rule id="704" phase="generation" confidence="1" source="log_704" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving a decrease from a higher to a lower value over time, with potential for negative result.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes involving time-series data, always apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, considering the possibility of a negative result if the new value is lower than the old value, and ensure the sign of the result reflects whether the change is an increase or a decrease.</Action>

    </Rule>
<Rule id="001" phase="postprocessing" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Effective income tax rate change calculations involving percentage comparisons between two years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When computing percentage changes or differences, ensure the result is presented as a numerical value without percentage sign unless explicitly required by the question context, and verify that the arithmetic operation (subtraction in this case) is correctly performed and the resulting difference is correctly represented as the final answer.</Action>

    </Rule>
<Rule id="701" phase="generation" confidence="1" source="log_701" type="ProgramLogicFailure">
        <Trigger>Comparative questions involving financial performance metrics (e.g., "outperform")</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing financial entities' performance, calculate and compare the percentage or absolute changes in their values over the specified period to determine relative performance.</Action>
    </Rule>
<Rule id="707" phase="generation" confidence="1" source="log_707" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes over time, especially in financial metrics like provisions for loan losses.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply percentage changes to base values correctly, considering the time frame and direction of change (increase/decrease) to derive current values from historical peaks or bases.</Action>
    </Rule>
<Rule id="708" phase="generation" confidence="1" source="log_708" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two consecutive periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and round the result to the appropriate number of decimal places as required by the context</Action>

    </Rule>
<Rule id="709" phase="generation" confidence="1" source="log_709" type="Arithmetic Hallucination">

        <Trigger>When calculating the anticipated increase in a quantity over a period, given an initial value and expected additions or subtractions, and the model responds with an absolute number instead of a percentage or relative increase.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating anticipated increases or decreases, the model interprets the question correctly and provides the answer in the required format, such as a percentage increase, by dividing the change by the original value and multiplying by 100, unless the question explicitly asks for an absolute number.</Action>

    </Rule>
<Rule id="710" phase="generation" confidence="1" source="log_710" type="Arithmetic_Hallucination">

        <Trigger>Depreciation years calculation for different assets, such as land improvements and buildings, where the model is required to find the difference in maximum length of depreciation years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the maximum depreciation years for each asset type are correctly identified and subtracted to find the difference, without introducing arithmetic hallucination by incorrectly assuming or calculating values not given in the context.</Action>

    </Rule>
<Rule id="711" phase="generation" confidence="1" source="log_711" type="ArithmeticHallucination">

        <Trigger>Exercise of stock option awards with given expected volatility values, where the model's response does not match the calculated total cash received.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total cash received upon exercise of stock options is based on the provided financial data and correctly applies the relevant financial formulas, without introducing unsubstantiated numerical values.</Action>

    </Rule>
<Rule id="712" phase="generation" confidence="1" source="log_712" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving time-series financial data, particularly when computing changes between consecutive years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula: ((End Value - Start Value) / Start Value) * 100, where Start Value and End Value represent the amounts at the beginning and end of the respective period, and verify that all relevant figures are accurately retrieved from the context before computation.</Action>

    </Rule>
<Rule id="713" phase="generation" confidence="1" source="log_713" type="Incorrect Context Retrieval">

        <Trigger>When calculating percentage change over time and the previous period's value is not explicitly mentioned in the given context but can be inferred or calculated from other given data points or when an explicit statement of previous values is absent.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always exhaustively search the provided context for any relevant data that could indirectly provide the necessary information for calculations, even if it's not explicitly stated for the specific time period or category in question. KNOWLEDGE INJECTION: Be aware that the absence of direct information does not necessarily mean the information is not available; it might be hidden in other sections or could be calculated using given formulas or relations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ProgramLogicFailure">

        <Trigger>Comparison of past due periods between different consumer products, including residential mortgage products</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing past due periods, ensure that the logic accounts for the specific charge-off timelines associated with each product type, rather than relying on a one-size-fits-all approach or incorrect assumptions about universal charge-off periods</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ContextualUnderstandingFailure">

        <Trigger>Questions involving charge-off timelines and their implications for different financial products</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model understands the context-specific charge-off rules and timelines for various consumer products, including but not limited to residential mortgage products, to accurately compare and reason about their past due periods</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="ArithmeticHallucination">

        <Trigger>Situations where the model is expected to provide a qualitative answer based on the comparison of time periods or thresholds</Trigger>

        <Action>CRITICAL FORMATTING RULE: Avoid arithmetic operations when the question requires a qualitative or comparative answer, focusing instead on the logical analysis of the given information to derive a correct qualitative response</Action>

    </Rule>
<Rule id="1" phase="calculation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation in financial data, particularly when dealing with component changes over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant component changes are accurately accounted for and summed before calculating the percent change, using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation correctly reflects the change over the specified time period.</Action>

    </Rule>
<Rule id="716" phase="generation" confidence="1" source="log_716" type="Arithmetic Hallucination">

        <Trigger>Encountering a question about the total cost of two or more financial components, given the effects of percentage changes on these components.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating totals from the effects of percentage changes, ensure to derive the baseline value by analyzing the proportional relationship between the percentage change and its effect, rather than relying on the effects alone. KNOWLEDGE INJECTION: Recognize that the effect of a percentage change is directly proportional to the original value, and utilize this relationship to solve for the unknown total.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="precision_error_log" type="PrecisionError">
        <Trigger>Financial calculations involving percentages or ratios</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations maintain maximum precision until final result presentation to avoid rounding errors</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating averages from given percentages for multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating averages from percentages for multiple years, the percentages are added together and then divided by the number of years, avoiding any rounding errors during the calculation process.</Action>

    </Rule>
<Rule id="719" phase="generation" confidence="1" source="log_719" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage differences between financial values, such as comparing the net present value to the total payments value of lease payments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages are performed with precise decimal places and rounded only at the final step to prevent intermediate rounding errors, and verify that the formula used for percentage calculation is correct, i.e., ((Total Value - Net Present Value) / Total Value) * 100</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating total operating expenses and a percentage of those expenses is given, along with a specific expense amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total operating expenses involves dividing the given specific expense amount by the percentage of total operating expenses it represents, to avoid underestimation or incorrect scaling of the total expenses.</Action>

    </Rule>
<Rule id="720" phase="generation" confidence="1" source="log_720" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the values used are correctly extracted from the relevant time periods</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages of expenses over multiple years, ensure that the total amount is divided by the number of years to obtain the correct average value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always divide the total amount of expenses by the number of years when calculating the average annual expense to prevent arithmetic hallucination and ensure accurate financial reasoning.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percent calculation involving balance increases from prior and current periods, where the model incorrectly sums or proportions the increases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of balance increases from prior periods, the increases from prior periods are summed separately from the increases related to the current period, and then the proportion of the total increase attributed to prior periods is calculated by dividing the sum of prior period increases by the total increase (prior periods + current period), before multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="724" phase="generation" confidence="1" source="log_724" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change involving multiple time periods or financial metrics, particularly when dealing with amortization expenses or intangible assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change or growth rate between two periods is performed by subtracting the earlier value from the later value, then dividing by the earlier value, and finally multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, to avoid arithmetic hallucination due to incorrect calculation or misplaced signs.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage reduction after reclassification in financial statements</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change after reclassification, ensure to use the correct formula: ((Original Value - Reclassified Value) / Original Value) * 100, and verify that all values are correctly retrieved from the financial statements.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Failure to account for all components in the calculation of cash flow from hedges</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify and sum all relevant components related to cash flow hedges, including any reclassifications, to accurately determine the total impact on cash flow.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Misinterpretation of the context in which cash flow from hedges is being discussed</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify the context of the question or statement regarding cash flow from hedges, ensuring that all relevant information, such as time frames and specific hedge types, is correctly identified and applied to the calculation or analysis.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="arithmetic_error_log" type="Arithmetic Calculation Error">
        <Trigger>Calculation of percentage change between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change ((New Value - Old Value) / Old Value) * 100 is correctly applied with accurate placement of new and old values in all financial calculations</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_warranty_reserve" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in balance between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the difference in balance is calculated by subtracting the initial balance from the final balance, taking into account the correct order of operations and avoiding any potential arithmetic errors or omissions</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating interest expense savings after retiring notes and issuing new notes with different principal amounts and interest rates</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the interest expense of the retired notes is calculated based on the correct principal amount and interest rate, and compare it with the interest expense of the new notes considering the difference in principal amounts and interest rates to accurately determine the savings</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Retiring notes and issuing new notes with different terms and calculating the annual interest expense savings</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating the annual interest expense savings after retiring notes and issuing new ones, always consider the principal amounts and interest rates of both the retired and new notes to accurately determine the difference in interest expenses, avoiding assumptions based on partial information</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Calculating annual interest expense savings without considering the specific details of the notes being retired and the new notes being issued</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always retrieve and consider the specific context details including principal amounts, interest rates, and the timing of the notes' issuance and retirement to accurately calculate the annual interest expense savings, ensuring that all relevant financial information is taken into account</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving monetary values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and multiplication operations by using precise formulas, such as ((new_value - old_value) / old_value) * 100, to calculate percent changes and verify the calculation through a secondary method to minimize rounding errors</Action>

    </Rule>
<Rule id="730" phase="generation" confidence="1" source="log_730" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of after-tax loss on deconsolidation that hits ordinary income, and the model provides an incorrect percentage without explicit step-by-step calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of the after-tax loss are correctly identified, and their respective contributions to ordinary income are accurately calculated and summed before determining the percentage, using the formula: (component related to ordinary income / total after-tax loss) * 100.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two consecutive years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating the growth rate is correctly applied as (New Value - Old Value) / Old Value, and that the result is accurately rounded to the appropriate decimal place, if necessary, to avoid precision errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percent change calculations involving multiple time periods and decreasing values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, particularly when the new value is less than the old value, to avoid incorrect magnitude and sign of the percentage change</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or data points</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, considering the original and final values within the specified timeframe.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>When calculating a portion of total minimum payments required for lease commitments due in a specific time frame, such as an upcoming year, and the model provides an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response format matches the question's requirement, specifically calculating percentages when the question asks for a proportion of a total amount.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program Logic Failure">

        <Trigger>When the question requires a calculation involving a part of a total (e.g., a portion due in the upcoming year), and the model fails to perform the necessary division or ratio calculation to find the percentage.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify the relevant total amount and the specific portion related to the question, then apply the appropriate arithmetic operation (division and multiplication by 100 for percentages) to calculate the correct proportion.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two time periods, ensure that the difference between the two values is calculated correctly and then divided by the original value, before multiplying by 100 to obtain the percentage change. KNOWLEDGE INJECTION: Verify that the formula for percentage change is applied consistently: ((New Value - Old Value) / Old Value) * 100.</Action>

    </Rule>
<Rule id="736" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change over time, especially in contexts involving comparisons of consecutive periods.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, carefully apply the formula [(New Value - Old Value) / Old Value] * 100, ensuring correct handling of positive and negative values to reflect accurate changes.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of a total, the model combines relevant numbers without considering their individual contributions to the overall percentage, especially in contexts involving geographical distribution or categorization of facilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when determining percentages or proportions, all relevant quantities are correctly summed and then divided by the total to obtain the accurate percentage, taking into account the specific categories or subcategories mentioned in the problem context.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Context_Retrieval_Failure">

        <Trigger>The model fails to accurately interpret the context provided, leading to incorrect identification of relevant numbers for calculation, particularly when the context includes both owned and leased facilities or other distinctions.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always carefully identify and distinguish between different types of facilities or entities mentioned in the context (e.g., owned vs. leased) to ensure that calculations are based on the correct set of numbers and that the question's specific requirements are met.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>The model incorrectly applies arithmetic operations or fails to convert the calculated result into the required format (e.g., percentage), indicating a flaw in the logical processing of numerical data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the final step of any calculation involving proportions or percentages includes converting the fraction into a percentage by dividing the part by the whole and then multiplying by 100, to ensure the answer matches the expected format of the question.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">
        <Trigger>Calculating changes in cumulative total returns over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that cumulative total returns are calculated as the percentage change between the start and end values of the period in question, taking into account any dividends or other distributions that are reinvested.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the net change in a financial balance, and the model's response has an incorrect sign or magnitude compared to the expected result.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation correctly accounts for the direction of change (increase or decrease) and ensure all relevant values are accurately subtracted or added to determine the net change, considering the initial and final balances.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculating total value paid for purchased shares</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the multiplication of the total number of shares purchased and the average price paid per share is performed correctly, and verify that the result is rounded to the appropriate significant figure as per the context of the question.</Action>

    </Rule>
<Rule id="741" phase="generation" confidence="1" source="log_741" type="Arithmetic Precision Error">
        <Trigger>Calculation of percentage changes or ratios</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations, particularly those involving percentage changes or ratios, are performed with high precision before rounding the final result.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Non-cash charges and one-time benefits are mentioned in the context, and the model fails to accurately calculate the increased benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all non-cash charges, including depreciation, amortization, and impairment charges, are correctly calculated and accounted for when determining one-time benefits, by carefully examining the changes in these charges between the relevant periods.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the result of a percentage increase, ensure the base value and percentage change are correctly applied, especially in comparative analyses involving rates of change across different metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always apply the percentage change to the base value by first converting the percentage to a decimal and then multiplying it by the base value to find the increase amount, before adding this increase to the base value to get the final result.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>Encountering a ratio calculation involving negative numbers in financial statements, particularly when determining the ratio of net revenue to a specific asset or cost recovery asset.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios involving negative numbers, ensure the absolute values are used for the calculation to avoid incorrect signage in the result, unless the context explicitly requires the preservation of negative signage for financial interpretation purposes. KNOWLEDGE INJECTION: Verify that the formula applied correctly interprets the signage of input values according to financial reasoning principles.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Discrepancy between income from discontinued operations before and after taxes, indicating a tax expense calculation is required.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating tax expenses related to discontinued operations, subtract the net income (loss) from discontinued operations from the income (loss) before taxes to derive the tax expense, considering the appropriate algebraic relationship between these financial metrics.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="finqa_log" type="ArithmeticError">
        <Trigger>Calculating percentage changes or growth rates in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change, ensuring to subtract the previous value from the current value, divide by the previous value, and then multiply by 100 to get the percentage, to avoid calculation errors.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of ratios involving financial metrics, such as credit line borrowing, across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios of financial metrics across different periods, ensure that all relevant components (e.g., discounts, borrowings) are correctly identified, extracted, and applied to the calculation, considering the specific context provided (e.g., net of discount) to avoid incorrect simplifications or omissions.</Action>

    </Rule>
<Rule id="748" phase="generation" confidence="1" source="log_748" type="Arithmetic_Hallucination">

        <Trigger>Calculating the increase or decrease between two time periods for financial liabilities, such as lease liabilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always subtract the earlier year's value from the later year's value when calculating the increase or decrease in financial liabilities, ensuring the correct order of operations to avoid sign errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculating differences between two financial values, especially when comparing year-over-year changes in financial statements or reports.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that subtraction operations to find differences between financial values are performed correctly, taking into account the order of the values (i.e., later year value minus earlier year value) to avoid sign errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the mathematical range of a financial index or stock price over a given period, the model incorrectly calculates the range by simply subtracting the initial value from the final value without considering the actual highest and lowest values within the period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify the highest and lowest values of the financial index or stock price within the specified period to accurately calculate the mathematical range, rather than relying solely on the initial and final values.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>The model fails to consider the entire dataset provided for the financial index or stock price over the given period, leading to an incomplete analysis.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model examines all data points within the specified period to determine the accurate range, including any peaks or troughs that may occur between the initial and final values.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>The model incorrectly interprets the context of the question, failing to understand that the mathematical range is required rather than a simple difference between two values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model accurately interprets the question's context, recognizing the need to calculate the mathematical range as the difference between the highest and lowest values within the specified period, rather than a basic subtraction of initial and final values.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="UnitOmissionError">

        <Trigger>Volatility calculations that yield a numerical value without considering the unit of measurement associated with the input data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that units of measurement (e.g., percentages) are properly appended to numerical results when answering questions related to financial metrics like volatility.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating amortization rates related to assets with given useful life, ensure the model understands the context of the question and applies the correct formula.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the amortization rate calculation is based on the correct interpretation of the asset's useful life, applying the formula: Amortization Rate = 1 / Useful Life, and ensure the result is expressed as a percentage or in the required format.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total maturities expiring after a specific year, where the model's response does not accurately reflect the proportion of maturities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages is based on accurate division and multiplication operations, considering the total and the subset of maturities expiring after the specified year, and round the result appropriately to avoid precision errors</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods for financial metrics such as weighted average common shares outstanding</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change is performed as ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result is correctly applied to indicate increase or decrease</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating the proportion of net asset acquired related to goodwill</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the proportion of net asset acquired related to goodwill is performed by dividing the goodwill amount by the total net assets acquired, then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculations involving changes over time, such as increases or decreases, in financial metrics.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations of change (increase or decrease) over time are performed by subtracting the later value from the earlier value when determining decreases, and vice versa for increases, to maintain logical consistency with the context provided.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating total square footage for a location, and the context mentions multiple properties with different square footages, but the model responds with an incorrect total or zero.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant square footages mentioned for different properties within the same query context are correctly summed to obtain the total square footage, considering both leased and owned properties.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>When a model is expected to aggregate numerical values (such as square footages) from different locations or properties but fails to do so, resulting in an incorrect or incomplete response.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a logic to identify and aggregate all numerical values relevant to the query from the provided context, including values associated with different locations or types of properties.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Context_Retrieval_Failure">

        <Trigger>When a model's response suggests it has not correctly retrieved or applied all relevant context information, such as property types, locations, or usage, leading to an inaccurate calculation or response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model correctly identifies and retrieves all relevant context information, including but not limited to property characteristics, locations, and usage types, to ensure accurate calculations and responses.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula ((New Value - Old Value) / Old Value) * 100 to obtain the correct percentage change, rather than solely subtracting the new value from the old value.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the amount of securities that came from calls and the problem mentions securities pledged as collateral and provides the total calls and maturities, along with additional securities held to maturity pledged as collateral.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure to subtract the total amount of securities held to maturity that were pledged as collateral from the total calls and maturities to accurately calculate the amount that came from calls, considering the context of pledged securities and their implications on financial calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving owned and total property values across different regions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involving owned properties in different regions is performed by dividing the owned property value in the region of interest by the total owned property value, and then multiplying by 100 to obtain the percentage, taking care to use the correct denominators and numerators for each specific query</Action>

    </Rule>
<Rule id="761" phase="calculation" confidence="1" source="error_analysis" type="PrecisionError">
        <Trigger>Calculation of growth rates or percentages involving financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving ratios or percentages, maintain maximum precision until the final step of calculation to avoid rounding errors.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving reserve quantities or financial metrics over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accurate representation of changes in financial or reserve quantities over time</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of components within a financial balance, especially when dealing with acquisitions and goodwill.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a component (such as goodwill from an acquisition) within a total balance, the correct formula is applied: (component / total balance) * 100. KNOWLEDGE INJECTION: Always verify that the component and total balance values are correctly identified and extracted from the provided financial data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Presence of foreign currency translation effects in sales data, requiring adjustment to calculate sales without such effects</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating sales without the effects of foreign currency translation, ensure to subtract the percentage increase due to foreign currency translation from the total sales before final calculation, considering the original sales amount and the percentage change separately</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Profit margin calculation with given net earnings and net sales</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the profit margin is calculated as (net earnings / net sales) * 100 to maintain consistency and accuracy in financial reasoning</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of a transaction paid in cash, and the model response is an absolute value (e.g., 100%) without considering the total transaction amount or the proportion of cash payment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves determining the ratio of the cash payment portion to the total transaction amount, rather than assuming absolute values or proportions without calculation.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>When the model fails to account for all financing sources of a cash payment, such as borrowings and additional funds, in calculating the proportion of the transaction paid in cash.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify and sum all specified components of the cash payment (e.g., borrowings, additional funds) and compare this total to the overall transaction cost to accurately calculate cash payment percentages.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>When the model incorrectly interprets or fails to retrieve relevant financial data (e.g., total transaction amount, cash payment amount) necessary for calculating percentages of transactions paid in cash.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant financial figures are accurately retrieved from the context and correctly applied in calculations to prevent errors in determining payment percentages.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Ratio calculation in financial performance plans with multiple share issuances</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios of shares issued in connection with different performance plans, ensure that the correct mathematical operation is applied, specifically division of the respective quantities, and the result is presented as a numerical value without appending a colon or ratio notation unless explicitly required by context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating cumulative or total values over multiple periods or categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values are correctly summed and scaled according to their context, considering factors such as units (e.g., millions, thousands) and temporal aggregation (e.g., annual, quarterly), to prevent arithmetic errors or hallucinations.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Missing or incorrect application of scaling factors or units in financial calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly interprets and applies the appropriate scaling factors (e.g., millions, billions) to numerical data before performing calculations to prevent logic failures that could lead to incorrect results.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Context_Retrieval_Error">

        <Trigger>Failure to retrieve or incorporate all relevant contextual information for financial calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model comprehensively retrieves and incorporates all contextually relevant data points, including all years or periods mentioned in the question, to calculate cumulative or total values accurately.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving monetary values over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding only after final calculation, avoiding intermediate rounding that may lead to inaccurate results</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages or proportions of a given total, especially in financial contexts involving agreements or contracts, and the model provides a numerical value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response format matches the question's requirement. If the question asks for a percentage or proportion, calculate it correctly by dividing the part by the whole and multiplying by 100, and express the answer as a percentage. KNOWLEDGE INJECTION: Recognize that fair value resale agreements are a component of the securities borrowed, and to find the percentage, divide the value of these agreements by the total securities borrowed and then multiply by 100.</Action>

    </Rule>
<Rule id="770" phase="generation" confidence="1" source="log_770" type="PercentageCalculationError">
        <Trigger>Questions asking for portions or fractions of a total that imply a need for a percentage calculation.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating portions of a total, ensure to convert fractions into percentages by dividing the part by the whole and then multiplying by 100, unless the context explicitly requires a different form of answer.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">
        
        <Trigger>Percentage change calculations involving sequential financial data points, such as comprehensive income or balance sheet items over different years.</Trigger>
        
        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as (New Value - Old Value) / Old Value * 100, and verify that all values are correctly retrieved from the relevant context or data points.</Action>
        
    </Rule>
<Rule id="773" phase="generation" confidence="1" source="log_773" type="Arithmetic_Hallucination">

        <Trigger>Calculating differences between two values where one is subtracted from the other, especially in financial metrics like amortization expense over different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the order of subtraction is correctly applied when calculating differences between financial values across different periods, as the order can significantly affect the result (e.g., later year value minus earlier year value).</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of home equity lines of credit that are past due, the model fails to sum the percentages of 30-89 days past due and 90 days or more past due.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant percentages mentioned in the context are summed correctly to obtain the total percentage, by adding the individual percentages together without rounding prematurely.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure calculations for percentage changes are performed using the correct formula ((New Value - Old Value) / Old Value) * 100, and verify that the answer is presented as a percentage when the question context requires it.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the growth rate of a financial metric, such as operating expenses, and the model's response does not match the ground truth, indicating a potential error in arithmetic operations or formula application.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating the growth rate is correctly applied as (New Value - Old Value) / Old Value, and verify that all relevant values are accurately retrieved from the context and correctly plugged into the formula.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating total square footage for a specific use or location, and multiple relevant entries exist in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant square footage values mentioned in the context for the specified use or location are summed to obtain the total, without ignoring any entries based on their ownership status or specific use within the broader category.</Action>

    </Rule>
<Rule id="001" phase="postprocessing" confidence="1" source="log_analysis" type="formatting_error">
        <Trigger>Percentage calculations that require rounding to match the expected output format.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Round calculated percentages to the nearest whole number unless otherwise specified by the context or question requirements.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Comparison of returns between different investment options over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of return differences between investment options involves subtracting the final value of one option from the final value of the other and then dividing by the initial value of the first option, finally multiplying by 100 to get the percentage return difference.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Inaccurate representation of the return on investment for the overall market versus a specific stock or index</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula used to calculate the percentage return is correct, which typically involves (Ending Value - Starting Value) / Starting Value * 100, and apply it consistently across all investment options being compared.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>Failure to correctly identify and utilize relevant data points for the specified time frame when comparing investment returns</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that all data points used for calculations are accurately retrieved from the context and pertain to the correct time frame and investment options, ensuring that the starting and ending values are correctly matched and applied in the return calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Multiple percentage values are provided for different years and the task is to calculate the average distribution of revenue to a specific segment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the average of multiple percentages, each percentage value is first converted to a decimal (if necessary), summed, and then divided by the total number of values to obtain the correct average, avoiding any rounding errors during the calculation process.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage calculations involving subtraction of related from total amounts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentages are calculated by dividing the specific amount by the total amount and then multiplying by 100, double-checking the numerator and denominator for accuracy.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating percentage point changes, especially in the context of financial metrics like net income margin, and the model's response includes a percentage sign (%) without explicit calculation steps provided in the question context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer is formatted correctly as a numerical value without the percentage sign when the question asks for a "percentage point" change, as this typically refers to the absolute difference in percentages, not a percentage of a percentage.</Action>

    </Rule>
<Rule id="783" phase="generation" confidence="1" source="log_783" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation by square feet of owned facilities, where total facilities and owned facilities values are provided in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of owned facilities by square feet, the correct formula is applied: (owned facilities / total facilities) * 100. KNOWLEDGE INJECTION: Verify that the units of measurement for owned and total facilities are consistent before performing the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial expenses, such as R&amp;D and advertising costs, across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison of financial expenses is based on the correct and complete extraction of relevant expense values from the given context, and that these values are accurately compared using the correct mathematical operations.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Questions that require the determination of whether one financial expense is greater than another.</Trigger>

        <Action>KNOWLEDGE INJECTION: When comparing financial expenses, verify that the model correctly identifies and extracts the relevant expense amounts and applies the appropriate comparison logic to determine the relationship between the expenses, without relying on incorrect assumptions or incomplete information.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of total allowances or limits, and specific exclusions are mentioned (e.g., "not including letters from the uncommitted facility").</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all specified exclusions are properly subtracted from the total before calculating the percentage, and verify that the correct total allowance or limit is used in the calculation.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_analysis" type="ContextRetrievalFailure">

        <Trigger>When the question involves multiple credit facilities or types of borrowings with different expiration dates or statuses (e.g., "scheduled to expire" versus "uncommitted").</Trigger>

        <Action>KNOWLEDGE INJECTION: Carefully distinguish between different types of facilities, their statuses, and expiration dates to correctly identify the relevant borrowings allowance for the calculation.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_analysis" type="ProgramLogicFailure">

        <Trigger>In scenarios where the question asks for a percentage calculation involving specific future dates (e.g., "set to expire May 2018") and multiple credit facilities are mentioned.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a step-wise approach to first identify all relevant credit facilities and their respective allowances or amounts, then apply the correct formula for percentage calculation, ensuring that all variables are correctly defined and used.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change or difference in financial metrics, such as revenue or income, between two time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and that all values are correctly retrieved from the relevant time periods before performing the calculation.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Given a question asking for a percentage change or a specific financial metric change, where the model's response does not match the expected format or calculation type (e.g., percentage vs. absolute change).</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the context and requirement for the answer format (percentage or absolute change) and adjusts its calculation accordingly to match the question's requirement.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving financial data or metrics for the wrong time period or incorrect entities (e.g., mixing up company names, investment types, or fiscal years) when calculating changes or percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate context retrieval by double-checking the time periods, entity names, and types of financial metrics (revenue, income, etc.) mentioned in the question to guarantee that the model operates on the correct data set before performing any calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of profit margin based on operating profit and net sales</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the profit margin is calculated as (operating profit / net sales) * 100, considering all relevant financial figures mentioned in the context.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating matured values of bonds or financial instruments where principal amount and interest rates are provided but the model fails to account for the time value of money or proper conversion between currencies.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that calculations involving the maturity value of financial instruments consider both the principal amount and the accrued interest, taking into account the interest rate, time period, and any currency conversions necessary, using appropriate financial formulas such as the formula for compound interest A = P(1 + r/n)^(nt), where A is the amount of money accumulated after n years, including interest, P is the principal amount, r is the annual interest rate (decimal), n is the number of times that interest is compounded per year, and t is the time the money is invested for in years.</Action>

    </Rule>
<Rule id="789" phase="generation" confidence="1" source="log_789" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify the arithmetic operations to prevent hallucination of incorrect percentages.</Action>

    </Rule>
<Rule id="790" phase="generation" confidence="1" source="log_790" type="Program_Logic_Failure">

        <Trigger>Sequential percentage change calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: In sequences of percentage change calculations, confirm that each calculation is performed independently using the correct previous value as the base for the next calculation, avoiding carry-over errors from one step to the next.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of cumulative total return for a given period between two financial entities, where the model's response does not accurately reflect the difference in their performances over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage changes for each period are correctly calculated and compounded to obtain the cumulative total return for each entity, then find the difference between these cumulative returns to provide an accurate comparison.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Comparison of financial performance metrics, such as cumulative total return, between different entities over a specified period, where the model fails to apply the correct formula or sequence of calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula for cumulative total return is correctly applied as ((End Value / Beginning Value) - 1) * 100 for each entity, and ensure that the calculation for the difference in cumulative total return between entities is performed by subtracting one entity's cumulative return from the other's, taking into account the proper order of operations and sign of the result to indicate outperformance or underperformance.</Action>

    </Rule>
<Rule id="790" phase="generation" confidence="1" source="log_790" type="Arithmetic_Hallucination">

        <Trigger>Deferred acquisition payments and total payments are provided for a specific year, and the model is asked to calculate the percentage of deferred acquisition payments out of the total payments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the percentage by dividing the deferred acquisition payments by the total payments for the specified year and then multiplying by 100, to obtain the correct percentage value.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation of a segment's net sales in relation to total net sales</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the segment's net sales are correctly divided by the total net sales, and then multiplied by 100 to obtain the percentage, avoiding any intermediate rounding that could lead to precision errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percent change calculations between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to use the formula ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic errors and provide accurate results</Action>

    </Rule>
<Rule id="794" phase="generation" confidence="1" source="log_794" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage changes or ratios</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentages or ratios, maintain precise decimal representations until the final answer is formatted for output.</Action>

    </Rule>
<Rule id="794" phase="generation" confidence="1" source="log_794" type="Arithmetic_Hallucination">

        <Trigger>Scenario involves calculating the difference in percentages or ratios before and after a specific financial action, such as consolidation of assets and liabilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the improvement or decline in a financial ratio or percentage due to a specific action, subtract the initial value from the final value, taking into consideration the correct order of operations and the potential need to convert percentages to decimals or basis points as necessary for accurate calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculation of total fair value of vested shares</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the total fair value of vested shares, ensure that the vested quantity is correctly multiplied by the weighted-average grant-date fair value, taking into account the correct sign and magnitude of the vested quantity to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="797" phase="generation" confidence="1" source="log_797" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates involving highest or lowest stock prices across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that growth rates are calculated as ((New Value - Old Value) / Old Value) * 100, using the correct old and new values based on the context provided, and verify that the calculation follows the correct order of operations</Action>

    </Rule>
<Rule id="798" phase="generation" confidence="1" source="log_798" type="Arithmetic Hallucination">

        <Trigger>When calculating the total value of equity compensation plans, the model fails to consider all relevant components, such as the number of securities to be issued upon exercise of outstanding options, warrants, and rights, and their respective weighted average exercise prices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of equity compensation plans, including the number of securities and their weighted average exercise prices, are accurately identified and aggregated to calculate the total value, using the formula: Total Value = (Number of Securities to be Issued * Weighted Average Exercise Price) + (Number of Securities Remaining Available for Future Issuance * Weighted Average Exercise Price), and verify that all relevant plan categories are included in the calculation.</Action>

    </Rule>
<Rule id="799" phase="generation" confidence="1" source="log_799" type="Program Logic Failure">

        <Trigger>The model incorrectly assumes that the value of equity compensation plans is solely determined by the number of securities to be issued upon exercise of outstanding options, warrants, and rights, without considering the weighted average exercise price and the number of securities remaining available for future issuance.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the value of equity compensation plans is a function of multiple factors, including the number of securities to be issued, weighted average exercise prices, and the number of securities remaining available for future issuance, and ensure that the calculation methodology accounts for these factors to produce an accurate total value.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating growth rates involving percentage changes between different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are based on the correct formula: ((New Value - Old Value) / Old Value) * 100, to prevent arithmetic hallucination and ensure accurate growth rate computations.</Action>

    </Rule>
<Rule id="801" phase="generation" confidence="1" source="log_801" type="Arithmetic Hallucination">

        <Trigger>Calculating averages of scheduled payments over a period of time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total amount is divided by the correct number of periods to calculate the average payment, considering all relevant time intervals and payment schedules.</Action>

    </Rule>
<Rule id="801" phase="generation" confidence="1" source="log_801" type="ArithmeticError">

        <Trigger>Percent change calculation involving multiple years or comparison of financial metrics across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage, while being mindful of the order of operations and ensuring that the correct initial and final values are used for the calculation</Action>

    </Rule>
<Rule id="801" phase="generation" confidence="1" source="log_801" type="Arithmetic_Hallucination">

        <Trigger>Impairment charge calculation related to goodwill, where the model provides an incorrect percentage in response to a question about the portion of the impairment charge related to goodwill.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of an impairment charge related to goodwill, the model accurately divides the goodwill impairment amount by the total impairment amount and then multiplies by 100 to obtain the correct percentage. KNOWLEDGE INJECTION: Verify that the calculation methodology is correctly applied to all relevant financial data, without introducing external assumptions or arithmetic errors.</Action>

    </Rule>
<Rule id="801" phase="generation" confidence="1" source="log_801" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change in financial metrics, such as accumulated losses or earnings, across different years.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change, which is ((New Value - Old Value) / Old Value) * 100, ensuring the direction of change (increase or decrease) is correctly represented by the sign of the result.</Action>
    </Rule>
<Rule id="804" phase="generation" confidence="1" source="log_804" type="ProgramLogicFailure">
        <Trigger>Calculation of percentages or ratios involving lease terms, especially those with extension options or conditional rent adjustments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always consider the full scope of the lease agreement, including initial terms, potential extensions, and all conditions that may affect rent or payment calculations, to accurately determine percentages or proportions of lease durations or financial obligations.</Action>
    </Rule>
<Rule id="804" phase="generation" confidence="1" source="log_804" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage reduction in costs, particularly when comparing initial and revised estimates, and when specific percentages or dollar amounts are mentioned as being questioned or adjusted.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by rechecking calculations involving percentages, especially when determining reductions or increases in financial metrics, and verify that all relevant figures are correctly incorporated into the computation to avoid precision errors.</Action>

    </Rule>
<Rule id="806" phase="generation" confidence="1" source="log_806" type="ArithmeticHallucination">
        <Trigger>Calculation of total size or quantity across multiple locations</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant locations are identified and their respective sizes or quantities are accurately summed to obtain the total, without omitting any location or misinterpreting the context.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative total return over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of cumulative total return involves correctly compounding the annual returns, taking into account the initial investment, and reinvestment of dividends, and then computing the total percentage change over the specified period.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Incorrect application of return calculation formula</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands and applies the correct formula for calculating cumulative total return, considering the impact of compounding and reinvestment on the final percentage return.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When comparing numerical values across different time periods to determine changes in financial metrics, and the model provides an unnecessary or incorrect numerical value in its response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model's response only includes the required numerical values or keywords that directly answer the question, without providing unnecessary calculations or numbers that might confuse the interpretation of the answer.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>When evaluating changes in financial metrics over time, such as increases or decreases in revenue, and the model fails to accurately determine the direction of change based on the provided data.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the comparison between different time periods correctly identifies the direction of change (increase or decrease) in the financial metric in question, based on the actual numerical values provided in the context.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Queries asking for increase, decrease, or change over time without specifying the type of calculation</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always determine if the question requires an absolute difference or a percentage change before performing calculations, and adjust the response accordingly to match the question's requirements</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating averages or totals involving financial data from multiple sources, such as subsidiaries and affiliates, especially in the context of dividends or cash receipts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation considers the appropriate weighting or proportion of each source's contribution, rather than simply adding absolute values. KNOWLEDGE INJECTION: Verify that the question asks for an average or a specific type of calculation that may not involve direct summation of all given values.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Questions involving ratio calculations of financial metrics, such as assets to stockholders' equity, where the model provides a response that does not accurately reflect the division of the two values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios involving large financial figures, the model accurately divides the relevant values without truncation or rounding that would lead to significant errors, and verify that the calculation logic correctly interprets the relationship between the numbers as presented in the context.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Investment return calculations involving multiple time periods and numerical values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all investment return calculations involve accurate subtraction of initial investment value from final investment value, considering decimal places and rounding rules to prevent significant figure errors.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing application of percentage change formulas in investment return scenarios</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model applies the correct formula for percentage change, which is ((New Value - Old Value) / Old Value) * 100, to calculate returns accurately and consistently across all investment scenarios.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to select the correct time period or investment values for calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model retrieves and utilizes the correct initial and final investment values corresponding to the specified time periods for calculations, avoiding the use of irrelevant or outdated data.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Identification of multiple asset categories with respective values mentioned in the context, triggering a calculation of total assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all asset categories mentioned (including but not limited to cash and cash equivalents, property and equipment, intangible assets, and other assets) are summed to calculate the total assets, verifying that no category is overlooked or incorrectly valued.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Detection of an arithmetic operation (such as addition) being applied to calculate a financial metric (like total assets) from given components.</Trigger>

        <Action>KNOWLEDGE INJECTION: Validate the arithmetic operation by checking for the inclusion of all relevant components and ensuring that the operation (e.g., addition, subtraction) is correctly applied to avoid calculation errors, double counting, or omissions.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving multiple time periods or categories, where the model fails to accurately account for all relevant data points or misinterprets the context of the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total values across different categories or time periods, all relevant data points are accurately summed and the calculation is performed based on the correctly aggregated total, not on partial or misinterpreted data. KNOWLEDGE INJECTION: Verify that the model understands the question's context and can correctly identify which data points are relevant to the calculation, avoiding the inclusion of irrelevant or incorrectly scaled values.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="UnitOmissionError">

        <Trigger>Percentage calculations without explicit unit representation in the output</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always append the appropriate unit (% in the case of percentages) to the final numerical answer when the question context implies a percentage value is expected</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="percentage_change_error" type="Arithmetic_Hallucination">
        <Trigger>Calculation of percentage change between two values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, applying the correct order of operations and maintaining the integrity of the signs (positive or negative) to reflect increases or decreases accurately.</Action>
    </Rule>
<Rule id="817" phase="generation" confidence="1" source="log_817" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, especially when calculating differences between consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value represent the respective financial metric values for the two years being compared. KNOWLEDGE INJECTION: Verify that the calculation considers the correct previous year's value as the base for percentage change computation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods, especially when comparing year-end balances.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the values used are the correct year-end balances for the respective periods being compared.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes over time, especially in financial metrics such as cash from operations.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure precise arithmetic operations are performed, and apply correct rounding procedures at the final step of calculation to avoid precision errors.</Action>
    </Rule>
<Rule id="820" phase="generation" confidence="1" source="log_820" type="Arithmetic_Hallucination">

        <Trigger>When calculating the proportion of oil production from unproved reserves, given a percentage of production from proved reserves.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the proportion of production from unproved reserves is derived by subtracting the percentage of production from proved reserves from 100%, and then applying this percentage to the total production to find the quantity from unproved reserves.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="financial_ratio_calculation" type="ArithmeticHallucinationOrProgramLogicFailure">
        <Trigger>Calculation of ratios involving financial activities where one or more values are negative, indicating either a provision or a use of cash.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating percentages involving negative values in financial statements, ensure that the formula correctly interprets the sign of the values (positive for provision, negative for use) and applies it appropriately to avoid incorrect percentage calculations.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the original value of an asset, and the context provides both the gross carrying amount and the accumulated amortization, the model should trigger this rule to ensure accurate computation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: To find the original value of an asset, add the gross carrying amount and the absolute value of the accumulated amortization, regardless of the asset type or context provided.</Action>

    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage of tax expense in relation to total specified items</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of percentages from financial data involves correctly identifying the base figure (in this case, total specified items) and the relevant component (tax expense), then apply the formula: (component/base figure) * 100, to derive the percentage, avoiding any incorrect assumptions or calculations.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of consolidated cash flow related to specific components, such as tower cash flow, and comparing model responses to ground truth values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant cash flow components are accurately identified and their proportions correctly calculated based on the provided context, considering both the specific component's cash flow and the total consolidated cash flow over the relevant period.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program Logic Failure">

        <Trigger>Identifying discrepancies between model responses and correct answers in financial calculations, particularly when determining the portion of adjusted consolidated cash flow attributed to a specific segment like tower cash flow.</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating the proportion of consolidated cash flow related to a specific segment, verify that the calculation encompasses all necessary periods (e.g., quarterly) and applies the correct mathematical operations to derive the accurate percentage, considering the total and segment-specific cash flows.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect Context Retrieval">

        <Trigger>Recognizing the importance of accurately interpreting the context of financial questions, especially when determining the relationship between specific cash flow segments and the overall consolidated cash flow.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and interprets the context provided in the question, distinguishing between different time frames and financial components, to provide a correct and relevant calculation for the proportion of adjusted consolidated cash flow related to a specific segment.</Action>

    </Rule>
<Rule id="824" phase="generation" confidence="1" source="log_824" type="MissingUnitOfMeasurementError">
        <Trigger>Queries involving percentages or ratios, especially in contexts like revenue, profit, or growth rates.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always include the relevant unit of measurement (e.g., %, $, etc.) in the response when the question context implies its necessity for a complete and accurate answer.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucinationError">

        <Trigger>Foreign currency translation impact and ending balance calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the foreign currency translation impact is correctly applied to the ending balance calculation by considering the scale and units of the given values, and perform the arithmetic operation with attention to the placement of decimal points and the representation of numbers in thousands or other scaled units.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="ScalingError">

        <Trigger>Calculation involving values represented in thousands or other scaled units</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that values represented in thousands or other scaled units require appropriate handling to avoid arithmetic errors, and apply the correct scaling factor when performing calculations to ensure that the results are accurately represented.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="UnitConsistencyError">

        <Trigger>Calculation involving values with different units or scales</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all values used in a calculation have consistent units or scales, and perform any necessary conversions to ensure that the arithmetic operations are valid and accurate.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucinationError">

        <Trigger>Calculating percentage increase between two time periods for financial ratios, such as the liquidity coverage ratio (LCR)</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage increase, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, considering the decimal places and significant figures to provide accurate and precise results, and rounding should be performed as per the context requirements</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of exposure net of all collateral, especially in the context of rating equivalents for junk ratings, and the provided percentages do not directly match the expected outcome.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant percentages and exposures are accurately calculated and summed before determining the final percentage, considering the possibility that the provided percentages might require adjustment based on the context of rating equivalents and total exposure.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage decrease calculation involving multiple time periods and combined values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage decrease to match a combined value over multiple periods, ensure to accurately sum the individual values for the combined periods before applying the percentage decrease formula, and verify that the base value is correctly identified as the initial amount from which the decrease is calculated.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="PercentageCalculationError">

        <Trigger>Questions involving percentage change calculations between two time periods, particularly those related to financial metrics such as unrecognized tax benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, and the result is expressed as a percentage, including the percentage sign (%) in the final answer.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase between two time periods, especially when the initial value is significantly smaller than the final value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase calculation follows the formula ((final_value - initial_value) / initial_value) * 100, to accurately capture large percentage changes when the initial value is small.</Action>

    </Rule>
<Rule id="R2" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>Failure to correctly apply mathematical operations or formulas in financial calculations, such as percentage changes over time.</Trigger>

        <Action>KNOWLEDGE INJECTION: Validate the mathematical operations applied in the calculation against the known formulas and principles of financial mathematics, especially in the context of calculating growth rates or percentage changes.</Action>

    </Rule>
<Rule id="R3" phase="generation" confidence="1" source="log_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Misinterpretation of the context or failure to identify the relevant data points for the calculation, such as misunderstanding which years' data are being compared.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the context is correctly understood and that the calculation accurately reflects the comparison intended by the question, ensuring that the correct data points from the relevant time periods are used.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>Calculation of total return difference between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that total return calculations involve determining the percentage change for each entity over the specified period, then finding the difference between these two percentage changes, rather than merely comparing endpoint values or calculating absolute differences.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="Program Logic Failure">

        <Trigger>Inability to apply the correct formula for calculating percentage change or total return over multiple periods</Trigger>

        <Action>KNOWLEDGE INJECTION: Apply the formula for percentage change correctly: ((End Value - Start Value) / Start Value) * 100, and ensure this formula is used for each period and entity, then compare the results accordingly to find the difference in total return between entities.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_finqa" type="Incorrect Context Retrieval">

        <Trigger>Failure to identify or utilize the correct base periods or endpoint values for the entities in question</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of total return difference utilizes the correct start and end dates, and that these dates align with the provided base periods for both the company and the index in question, ensuring that all relevant data points are correctly identified and used.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage calculations involving financial data, particularly for specific entities or time frames.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations involving percentages are based on accurately summed denominators and correctly identified numerators, considering all provided financial data points without omission.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating total annual expenses over multiple years, and the model's response does not match the ground truth, indicating a potential miscalculation or failure to sum expenses across all relevant years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all annual expenses mentioned for each year are correctly summed to obtain the total annual expenses over the specified period, considering the start and end years provided in the context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating the percentage of net cash from operations retained after financing and investing activities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the percentage retained involves subtracting the total net cash used for investing and financing activities from the net cash provided by operating activities, and then dividing the result by the net cash provided by operating activities, to obtain the correct percentage.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Inconsistent application of financial formulas</Trigger>

        <Action>KNOWLEDGE INJECTION: Always apply the formula: (Net Cash from Operations - Net Cash Used for Investing Activities - Net Cash Used for Financing Activities) / Net Cash from Operations, to calculate the percentage of net cash retained, ensuring correct sequencing and inclusion of all relevant financial activities.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to consider all relevant financial activities in the calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all financial activities, including investing and financing, are accurately accounted for and incorporated into the calculation to determine the correct percentage of net cash retained, avoiding selective or incomplete data consideration.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="analysis_log" type="ProgramLogicFailure">
        <Trigger>Calculating variation or difference between financial values across different periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly interprets the operation required for calculating variations, which may involve subtraction for direct differences or other calculations depending on the context, and verify that the correct years' values are being compared.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of average revenues per quarter when multiple quarterly revenues are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all quarterly revenues are summed and then divided by the total number of quarters to calculate the average revenue per quarter, without relying on partial or incorrect calculations</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Presence of multiple data points for revenues across different quarters in a given year</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the importance of considering all provided quarterly data points when calculating aggregate values such as average revenues, to prevent omission or misinterpretation of relevant financial information</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>Inability to correctly identify and utilize all relevant quarterly revenue figures in the context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a systematic approach to identify, extract, and utilize all relevant financial data points mentioned in the context, ensuring that no data is overlooked or incorrectly interpreted during calculations</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculating percent change between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations for calculating percent changes are performed with precise formula application, specifically using the formula ((New Value - Old Value) / Old Value) * 100, to avoid rounding errors or incorrect calculations.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages or sums involving negative numbers, especially in financial contexts such as settlements or tax benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the sign of the numbers (positive or negative) is correctly accounted for during arithmetic operations, especially when calculating averages or totals. KNOWLEDGE INJECTION: Verify that the mathematical operation (addition, subtraction, averaging) is correctly applied to all relevant data points, taking into consideration the proper handling of negative values to avoid incorrect sign changes in the final result.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving percentages of financial metrics, such as collateral held against derivative receivables in relation to total net collateral.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of financial metrics, ensure that all values are correctly summed or subtracted before applying the percentage formula, and verify that the absolute value is used when dealing with negative numbers to avoid incorrect percentage calculations.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Derivative receivables and collateral calculations where the absolute value of the liquid securities and other cash collateral is required for percentage calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that in financial calculations, especially those involving derivative receivables and collateral, the use of absolute values is critical when the context implies a requirement for positive or total amount representations, regardless of the original sign of the values provided.</Action>

    </Rule>
<Rule id="840" phase="generation" confidence="1" source="log_840" type="Arithmetic_Hallucination">

        <Trigger>Non-cash impairment charges are mentioned along with income tax benefits and noncontrolling interests, requiring a calculation of percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving multiple components such as income tax benefits and noncontrolling interests, all relevant values are correctly summed and then divided by the appropriate total to obtain the accurate percentage, avoiding arithmetic hallucination by carefully following the order of operations and ensuring all components are accounted for in the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage calculations involving totals and subsets within financial or demographic data.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations are based on accurate identification of relevant subsets and totals, and apply the formula correctly: (subset / total) * 100, to avoid arithmetic hallucination or program logic failures.</Action>
    </Rule>
<Rule id="843" phase="generation" confidence="1" source="log_843" type="ProgramLogicFailure">
        <Trigger>Calculations involving aggregated values over specific timeframes or periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant time periods and their corresponding values are identified and included in calculations to derive aggregate values.</Action>
    </Rule>
<Rule id="FIN001" phase="generation" confidence="1" source="general_error_prevention" type="ArithmeticHallucination">
        <Trigger>Calculation of financial differences between two or more periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial data points for each period are accurately identified and subtracted to find the difference, verifying that the calculation correctly reflects the question's requirements</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Change in balance of money pool over time, with multiple years' data provided, and a question asking for the effect on cash flow.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all changes in the money pool balance are correctly calculated by subtracting the initial balance from the final balance for the specified period, taking into account the correct order of years and the sign of the balance (positive or negative), to accurately determine the impact on cash flow.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating the total value of options issued in a financial acquisition context where the number of options and their weighted average fair value per share are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation multiplies the total number of options by the weighted average fair value per share, applying the correct arithmetic operation to derive the total value of the options issued.</Action>

    </Rule>
<Rule id="847" phase="generation" confidence="1" source="log_847" type="ArithmeticHallucination">
        <Trigger>Hypothetical scenarios altering historical financial transactions, such as loan sales, in multi-year reserve calculations.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating total reserves over multiple years under hypothetical conditions (e.g., no loan sales), ensure all relevant financial figures are adjusted according to the scenario's conditions before summing the reserves for each year.</Action>
    </Rule>
<Rule id="847" phase="generation" confidence="1" source="log_847" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of totals, especially in the context of financial estimates and losses, ensure that the correct total is used as the denominator.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the denominator in percentage calculations corresponds to the relevant total or base figure mentioned in the problem context, avoiding confusion between different totals or figures provided.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating total long-term debt, the model fails to sum all relevant debt components mentioned in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all debt components, including those with specific years and those categorized as "and thereafter," are aggregated to calculate the total long-term debt.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>The model incorrectly assumes that the absence of a specific year's debt in the context implies a value of zero, leading to incorrect total debt calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the absence of explicit debt values for certain years or categories does not imply a debt of zero; instead, use provided information to calculate total debt, considering all mentioned years and categories.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>The model fails to properly retrieve and integrate debt information from the context, particularly when the information is scattered or requires summation across multiple categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a systematic approach to retrieve and process all context information related to debt, ensuring that each component is correctly identified and included in calculations to avoid overlooking any debt category.</Action>

    </Rule>
<Rule id="850" phase="generation" confidence="1" source="log_850" type="MisinterpretationError">
        <Trigger>Questions asking for percentages of specific categories within a dataset, especially when those categories are subsets of the whole (e.g., non-residential loans within all loans).</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that responses to percentage queries clearly indicate whether the answer represents a proportion of a specific subset or the total, and verify that the calculation accurately reflects the question's requirements, including proper unit representation (e.g., percentage sign).</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving subtraction and division, especially when the result is expected to be a rounded value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to round the final result to the nearest whole number or as per the context's precision requirements, to prevent unnecessary decimal places and maintain consistency with expected answer formats.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of net increase in balance of allowance for doubtful accounts receivable</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net increase is calculated by subtracting the beginning balance from the ending balance, taking into account all intermediate transactions such as charges to expenses and deductions, and verify that all values are correctly summed and subtracted to obtain the accurate net change.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation involving global and regional metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of a global metric (e.g., global guests) that are attributed to a specific region (e.g., European cruise guests), the formula used accurately reflects the proportion by dividing the regional metric by the global metric and then multiplying by 100 to convert the result into a percentage, while also considering the precision of the calculation to avoid rounding errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation in financial data, particularly when comparing tax positions between different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the correct formula, i.e., ((New Value - Old Value) / Old Value) * 100, and verify that all values are correctly retrieved from the context, avoiding any arithmetic hallucination by rechecking the math operations involved in the calculation</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in receivables over time, involving multiple years and figures, where the model incorrectly applies arithmetic operations or fails to consider all relevant values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the net change in a financial metric (such as receivables) over multiple years, ensure that all relevant figures for each year are correctly identified and that the calculation correctly subtracts the initial year's value from the final year's value, without introducing extraneous additions or subtractions.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Scenarios where the model incorrectly applies the order of operations or mistakenly includes irrelevant data in the calculation, leading to an incorrect answer.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify the logical consistency of the calculation steps, ensuring that operations are performed in the correct order (e.g., subtraction to find differences, addition for totals) and that only relevant data points are included in the calculation to avoid logical errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculating changes between two financial values where directionality (increase/decrease) might be implied.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations of change between two values correctly account for the direction of change (increase or decrease) and that this directionality is clearly understood and applied according to the question's requirements, considering whether an absolute change or a directed change (with positive or negative implication) is being asked.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of average expense per entity</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that averages are calculated by dividing the total expense by the total number of relevant entities, and verify that the units of measurement are consistent across the calculation.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Question involves calculating percentages of debt due in a specific time frame and the model's response does not match the correct calculation based on provided annual maturities and total non-recourse debt.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of debt due in a specific time frame, the model accurately sums the relevant debt maturities and divides by the total debt to obtain the correct percentage, considering all provided time frames for debt maturities.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="finqa_log" type="ArithmeticHallucination">
        <Trigger>Calculation of averages or totals from a series of numerical values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical values relevant to the calculation are correctly summed, and then divide by the accurate count of values to obtain the average, avoiding any premature rounding or incorrect handling of decimal places.</Action>
    </Rule>
<Rule id="860" phase="generation" confidence="1" source="log_860" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation for comparing the effect of different downgrade notches on financial payments</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages for comparative analysis, ensure to apply the correct formula: ((Value_for_two-notch_downgrade - Value_for_one-notch_downgrade) / Value_for_one-notch_downgrade) * 100, to accurately determine the percentage difference.</Action>

    </Rule>
<Rule id="861" phase="generation" confidence="1" source="log_861" type="Arithmetic Hallucination">

        <Trigger>When calculating adjusted revenues or profits by subtracting the impact of specific factors or events, and the original revenues or profits and the impact of the factors or events are given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all adjustments mentioned are correctly subtracted from the original amount to find the adjusted figure, taking into account the specific contributions of each factor to the total change.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="arithmetic_hallucination">
        <Trigger>Percentage change calculations involving financial metrics such as expenses or revenues.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 to calculate percentage changes, considering the possibility of negative results indicating decrease.</Action>
    </Rule>
<Rule id="863" phase="generation" confidence="1" source="log_863" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages for excluded lease square feet due to commencement in a future year</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of excluded lease square feet, ensure that the correct total square feet (including both the excluded and the other square feet) is used as the denominator, and that the calculation reflects the proportion of the excluded square feet to the total relevant square feet.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of financial obligations measured using different input levels</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of long-term obligations not measured using a specific input level, the correct formula is applied: (Total Value of Obligations - Value Measured Using Specific Input Level) / Total Value of Obligations * 100</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_calculation_error" type="arithmetic_hallucination">
        <Trigger>Calculation of percentage changes or ratios in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations, especially those involving percentages or ratios, are performed with precise arithmetic operations and validated against the correct mathematical formulas, considering the context of the calculation (e.g., ((new_value - old_value) / old_value) * 100 for percentage increase).</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving multiple components of a purchase price allocation, such as intangible assets and goodwill.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of the overall purchase value, all relevant components (e.g., customer relationship intangible assets, goodwill) are accurately summed and then divided by the total purchase price, considering any adjustments (e.g., working capital settlements) to obtain the correct proportion.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="financial_reasoning_log" type="ArithmeticHallucination">
        <Trigger>Calculating percentages of financial metrics, such as debt, across multiple periods or categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always sum relevant financial metrics (e.g., total debts) across all specified periods or categories before calculating percentages of components (e.g., a specific year's debt) to ensure accurate proportional analysis</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Difference calculation between two financial values mentioned in a context, where the model's response does not match the expected result due to incorrect subtraction or miscalculation of the given amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that when calculating the difference between two amounts, the correct subtraction method is applied by subtracting the smaller amount from the larger one, regardless of their positions or descriptions in the problem statement.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="UnitError">

        <Trigger>Encountering a question that involves comparing or identifying the largest or smallest value of a financial metric, such as gross margin, across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response maintains the same unit of measurement as the input data, and verify that the numerical value is not rounded or truncated unnecessarily, potentially losing its unit (e.g., millions of dollars) during calculation or formatting.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating operating margin as a percentage, given the presence of net revenue and operating income data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that operating margin calculations involve dividing operating income by net revenue and then multiplying by 100 to obtain the percentage, avoiding direct insertion of unverified percentage values.</Action>

    </Rule>
<Rule id="870" phase="generation" confidence="1" source="log_870" type="Arithmetic Hallucination">

        <Trigger>Calculation of net cash flow from short-term debt involves comparing values between two different time periods, and the model's response does not accurately reflect the difference between the initial and final values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating net cash flow from short-term debt, ensure that the model subtracts the initial value from the final value, considering all components of short-term debt, to accurately determine the net change.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Questions asking for the difference or comparison between two financial metrics or quantities.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately identifies and applies the correct arithmetic operation (e.g., subtraction) as implied by the question, using all relevant numbers provided in the context.</Action>
    </Rule>
<Rule id="873" phase="generation" confidence="1" source="log_873" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and expense values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by first calculating the difference in expense values between the two periods, then dividing by the original expense value, and finally multiplying by 100 to obtain the percentage change</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of securities to be issued from approved plans in the context of equity compensation plans, where the model provides an incorrect percentage due to miscalculation or misunderstanding of the total and approved plan quantities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When determining the percentage of securities to be issued from approved plans, ensure to accurately calculate the proportion by dividing the number of securities from approved plans by the total number of securities, and then multiplying by 100 to convert the result into a percentage. KNOWLEDGE INJECTION: Double-check the categorization and summation of securities under approved and total plans to avoid arithmetic hallucination and ensure the use of the correct totals in the calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of payments due after a specific period in operating lease agreements</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all payments due after the specified period are accurately summed and divided by the total payments to calculate the correct percentage, considering both the payments due within and after the specified timeframe.</Action>

    </Rule>
<Rule id="876" phase="generation" confidence="1" source="log_876" type="Arithmetic Hallucination">

        <Trigger>When calculating regional sales as a percentage of total sales, and the percentage is provided in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage is converted to a decimal and then multiplied by the total sales to obtain the regional sales amount, avoiding any rounding errors during the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios of financial quantities, such as credit facilities, across different years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct quantities are being compared by identifying the specific financial metrics (e.g., credit facility amounts) for each relevant period or year, and then apply the appropriate arithmetic operation to calculate the desired ratio, avoiding the use of irrelevant or incorrectly identified quantities.</Action>

    </Rule>
<Rule id="878" phase="generation" confidence="1" source="log_878" type="Arithmetic Hallucination">

        <Trigger>When calculating time durations, such as years until a specific date, or when dealing with lease expiration dates mentioned in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of time durations is based on the correct current year and the given expiration year, taking into account the possibility of the current year not being explicitly mentioned but implied through the context or external knowledge about the current time frame.</Action>

    </Rule>
<Rule id="878" phase="generation" confidence="1" source="log_878" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative total return ratios involving multiple financial entities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant return values are accurately retrieved and divided in the correct order to calculate the ratio, and verify that the calculation accounts for the specific time frame mentioned in the question.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the value of payables added in a given year, and the model is given information about payables from previous years, but no payables were paid off between those years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the difference between the total payables at the beginning and end of the given year, taking into account any additional payables from previous years that are still outstanding, rather than just subtracting the payables from the previous year.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>When calculating the greatest amount of total other income and expense, and the model's response is significantly lower than the highest value mentioned in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model compares all relevant values mentioned in the context and selects the highest one, rather than performing unnecessary calculations or introducing incorrect scaling factors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of the final purchase price related to goodwill, and the context provides both the goodwill amount and the final purchase price.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of the final purchase price related to goodwill is performed by dividing the goodwill amount by the final purchase price, and then multiplying by 100 to get the percentage, avoiding any intermediate rounding that might affect the precision of the final result.</Action>

    </Rule>
<Rule id="883" phase="generation" confidence="1" source="log_883" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving time-series financial data, specifically when comparing two consecutive periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the signs of the values are correctly interpreted to determine if the change is an increase or a decrease, to prevent arithmetic hallucination errors</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Percentage change calculations involving yield values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage decline or increase, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and maintain the sign of the result to reflect whether it's a decline (negative) or an increase (positive)</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving numerical values, especially when dealing with decreases or increases in financial metrics such as balance of goodwill over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding percentage calculations to the appropriate decimal place as required by the context, and verify that the calculation correctly reflects the direction and magnitude of change (increase or decrease) between the two periods being compared.</Action>

    </Rule>
<Rule id="886" phase="postprocessing" confidence="1" source="precision_adjustment" type="PrecisionError">
        <Trigger>Financial calculations resulting in percentage values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Round financial percentages to the nearest tenth unless specified otherwise to maintain consistency with expected answer formats.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Discrepancy between calculated years of tax examination and actual years, potentially due to incorrect interpretation of jurisdiction years or failure to account for all relevant years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant years are accurately accounted for and correctly calculated when determining the number of years a company is subject to tax examination, by verifying the correct jurisdiction years and applying the appropriate calculation logic.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of minimum future commitments due in a specified timeframe, and the model provides an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of commitments due in a specified timeframe is expressed as a percentage of the total commitments, rather than providing an absolute value. KNOWLEDGE INJECTION: Verify that the model understands the difference between absolute values and percentages in the context of financial commitments.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="error_log_1" type="Arithmetic Hallucination">

        <Trigger>Calculating the total value of purchased shares during a specific period when given the total number of shares purchased and the average price paid per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total value of purchased shares is calculated by multiplying the total number of shares purchased by the average price paid per share, using the correct mathematical operation and avoiding any incorrect assumptions or rounding that may lead to inaccurate results.</Action>

    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="Arithmetic Hallucination">

        <Trigger>When calculating amortization expenses without a given cost, the model assumes an arbitrary cost for simplicity.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model does not assume arbitrary values for unknown costs; instead, it should express the answer as a percentage of the total cost or request the actual cost when necessary.</Action>

    </Rule>
<Rule id="902" phase="generation" confidence="1" source="log_902" type="Program Logic Failure">

        <Trigger>The model calculates the amortization expense correctly but fails to provide a clear final answer without assuming a specific cost.</Trigger>

        <Action>KNOWLEDGE INJECTION: Instruct the model to provide the final answer in a percentage format or as a formula relative to the cost when the cost is not given, to maintain generality and avoid assumptions.</Action>

    </Rule>
<Rule id="903" phase="generation" confidence="1" source="log_903" type="Context Retrieval Error">

        <Trigger>The model does not recognize that the question asks for the average yearly amortization expense as a percentage of the cost, given the useful life of the trademarks.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model understands that the average yearly amortization expense can be calculated by dividing 1 by the useful life of the asset and expressing this as a percentage, without necessarily requiring the asset's cost.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total contractual obligations, commitments, and other liabilities, especially when debt obligations are involved</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages of total contractual obligations involves accurately summing all components of debt obligations and dividing by the total of all contractual obligations, commitments, and liabilities, then multiplying by 100 to obtain the percentage, avoiding rounding errors and ensuring precision in arithmetic operations</Action>

    </Rule>
<Rule id="892" phase="generation" confidence="1" source="log_892" type="Arithmetic Hallucination">

        <Trigger>Calculations involving percentage or ratio changes to derive total costs or expenses, especially when given an increase in cost and the average price per unit.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating total costs based on a percentage or ratio change, the correct formula is applied by first determining the total quantity affected by the change (e.g., total gallons of fuel), then multiplying by the new average price per unit to find the new total cost. KNOWLEDGE INJECTION: Recognize that the increase in expenses due to price changes should be used to find the quantity affected, and then apply the new price to calculate the new total cost, avoiding direct multiplication of the increase by the new price without considering the quantity.</Action>

    </Rule>
<Rule id="893" phase="generation" confidence="1" source="log_893" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving monetary values from different time periods, especially when comparing financial metrics such as share repurchase expenditures between consecutive years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by properly calculating percentage changes using the formula: ((New Value - Old Value) / Old Value) * 100, and round the result according to the context's precision requirements, avoiding unnecessary precision that might lead to incorrect interpretations.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or dates, such as comparing balances at the start and end of a year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that all values are correctly extracted from the context and accurately represented in the calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure the result is negated if the new value is less than the original value, and include the negative sign in the final answer to indicate a decline</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Exclusion of specific adjustments from a total value, where the question asks for a balance as of a certain date, excluding particular adjustments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When a question specifies exclusion of certain adjustments, ensure to subtract those adjustments from the total value before providing the final answer, and verify that all relevant components are considered in the calculation to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Questions containing keywords like 'increase', 'decrease', 'by how much' in the context of comparing numerical values over time.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes between two time periods, ensure to apply the correct formula for percentage change if the question implies a relative comparison, rather than providing an absolute difference.</Action>
    </Rule>
<Rule id="898" phase="generation" confidence="1" source="log_898" type="ProgramLogicFailure">
        <Trigger>Percentage change information provided to calculate a previous or subsequent year's financial figure.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When applying percentage changes to deduce a previous or subsequent year's figure, ensure to correctly apply the percentage increase or decrease to the known figure, using the formula: New Figure = Old Figure * (1 + Percentage Change) for increases, and adjust accordingly for decreases.</Action>
    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="ArithmeticHallucination">
        <Trigger>Calculating percentage changes or differences between two periods</Trigger>
        <Action>CRITICAL FORMATTING RULE - Ensure calculations directly answer the question, reflecting the correct arithmetic operations. KNOWLEDGE INJECTION - Verify alignment between question requirements, data, and model response, considering potential ambiguities.</Action>
    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="ProgramLogicFailure">
        <Trigger>Calculation of debt repayment portion within a specific timeframe</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant long-term debt components due within the specified timeframe are aggregated and calculated as a portion of total expected payments within the same period.</Action>
    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years of financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage change by using the formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and round the result to the appropriate significant figure as required by the context</Action>

    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="Arithmetic_Hallucination">

        <Trigger>Calculating average total return for multiple series of stock over a period of years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for each series are correctly aggregated and averaged, taking into account the time period and series variations, to produce an accurate total return calculation</Action>

    </Rule>
<Rule id="902" phase="generation" confidence="1" source="log_902" type="Program_Logic_Failure">

        <Trigger>Incorrect application of financial formulas or failure to account for all series in the calculation</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the financial model accurately applies relevant formulas and includes all necessary series data to prevent calculation errors and ensure comprehensive analysis</Action>

    </Rule>
<Rule id="903" phase="generation" confidence="1" source="log_903" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to retrieve or incorrectly retrieving relevant historical financial data for the specified series and time frame</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the model retrieves and processes the correct historical financial data for each series, covering the entire specified period, to ensure accurate calculations and analysis</Action>

    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="ArithmeticHallucination">
        <Trigger>Questions containing phrases like 'by how much did [value] increase' or 'what is the percentage change'</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes, determine if the question asks for absolute or percentage differences, and apply the appropriate formula, i.e., (New Value - Old Value) / Old Value * 100 for percentage changes.</Action>
    </Rule>
<Rule id="904" phase="generation" confidence="1" source="log_904" type="ArithmeticHallucination">

        <Trigger>Calculation of operating expenses based on provided financial data, including income before interest and taxes and net sales.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating operating expenses, ensure that all relevant financial data points such as income before interest and taxes, and changes in net sales are accurately utilized in the calculation to avoid arithmetic hallucination. KNOWLEDGE INJECTION: Verify that the formula used for calculating operating expenses correctly accounts for the relationship between income, taxes, and sales, considering all provided financial metrics.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes between two time periods, especially in the context of financial metrics such as income tax benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentage changes are performed with precise arithmetic operations, considering the exact values before and after the change, and apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, to avoid minor but significant discrepancies.</Action>

    </Rule>
<Rule id="901" phase="generation" confidence="1" source="log_901" type="UnitOmissionError">

        <Trigger>When calculating averages or totals that involve percentages or ratios, and the model response lacks a unit of measurement (e.g., %, dollars, etc.)</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculated averages or totals include the appropriate unit of measurement (e.g., percentage sign for percentages, dollar sign for monetary values) to provide a complete and accurate answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total purchase consideration for an asset or component, such as a trade name, where the model provides an incorrect percentage due to miscalculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of percentages is performed by dividing the component's value by the total purchase consideration and then multiplying by 100, without introducing arithmetic errors or incorrect assumptions about the relationship between the component and the total.</Action>

    </Rule>
<Rule id="908" phase="generation" confidence="1" source="log_908" type="Arithmetic_Hallucination">

        <Trigger>Comparing current assets to long-term assets to determine which is greater</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing the magnitude of current assets to long-term assets, ensure that the comparison is based on the actual numerical values of the assets being considered, rather than misinterpreting the relationship between the two</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving negative numbers or losses in financial statements</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, especially in the context of losses or negative values, ensure that the formula correctly accounts for the sign of the numbers. KNOWLEDGE INJECTION: Apply the formula ((New Value - Old Value) / Old Value) * 100, considering the signs of the values to avoid incorrect percentage change calculations.</Action>

    </Rule>
<Rule id="910" phase="generation" confidence="1" source="log_910" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations between time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations follow the formula ((Old Value - New Value) / Old Value) * 100, with precise attention to the values used and the order of operations</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculation of net change in balance, especially when involving multiple factors such as increases, reductions, and year-over-year comparisons.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant adjustments (increases, decreases, reductions) are correctly accounted for and sequenced when calculating net changes over time, including but not limited to the proper handling of negative values and the accurate reflection of year-over-year differences.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Calculation of dividend yield using high bid price and dividends declared</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that dividend yield is calculated by dividing the annualized dividend by the high bid price and then multiplying by 100, and verify that the dividend is correctly annualized if the given dividend is for a quarter</Action>

    </Rule>
<Rule id="001" phase="evaluation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Comparing performance metrics of financial instruments or indices over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations of percentage changes or performance comparisons between different financial instruments or indices are based on accurate and consistent numerical data, and that the final evaluation correctly interprets the results of these calculations to provide a valid conclusion.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_error_analysis" type="Program_Logic_Failure">

        <Trigger>Evaluating whether one financial entity has outperformed another over a given time frame</Trigger>

        <Action>KNOWLEDGE INJECTION: Always compare the final values or the percentage change of the entities in question correctly, considering the initial and final values of both entities over the specified period to determine outperformance accurately.</Action>

    </Rule>
<Rule id="003" phase="interpretation" confidence="1" source="log_error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving and applying relevant financial data for comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the context retrieved for financial comparisons includes all relevant data points (e.g., start and end dates, entity names) and that these data points are correctly associated with the entities being compared to prevent mixing or misinterpretation of financial performance metrics.</Action>

    </Rule>
<Rule id="914" phase="generation" confidence="1" source="log_914" type="Arithmetic_Hallucination">

        <Trigger>When calculating the proportion of a specific component within a total, especially in financial contexts involving multiple categories (e.g., federal, state, foreign) for elements like net operating loss carryforwards.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the proportion of a component within a total involves correctly summing all relevant components before calculating the percentage, and verify that the component's value is correctly divided by the total sum of all components, then multiplied by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="914" phase="generation" confidence="1" source="log_914" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal values or multi-year comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding only at the final calculation step, and verify that all intermediate calculations maintain sufficient decimal places to prevent truncation errors, especially when computing percentage changes over multiple periods or using precise financial metrics like fair value.</Action>

    </Rule>
<Rule id="916" phase="generation" confidence="1" source="log_916" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage contribution of a specific year to the total across multiple years, and the model's response is a numerical value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage contribution is performed by dividing the specific year's value by the total value across all years, and then multiplying by 100 to obtain the percentage, rounding appropriately to match the expected precision of the answer.</Action>

    </Rule>
<Rule id="917" phase="generation" confidence="1" source="log_917" type="PercentageCalculationError">

        <Trigger>Questions asking for the difference in percentage between two time periods or categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated difference is presented as a percentage by appending the percentage sign (%) to the result, unless explicitly stated otherwise in the question context</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Keywords indicating comparison of financial values (e.g., "maximum", "minimum", "highest", "lowest") in contexts where values can be negative or positive.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When comparing financial values to determine maximum or minimum impacts, consider the absolute values of the numbers to ensure accurate interpretation of financial data, regardless of whether the values represent gains or losses.</Action>
    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of maturities of long-term debt due in a specific year, and the input data includes the aggregate carrying value and the balance as of a certain date.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the percentage is based on the correct division of the amount due in the specified year by the total aggregate carrying value, and then multiply by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that all relevant values are correctly identified and used in the calculation, avoiding any confusion between different years or amounts.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculations involving percentage changes or increases, especially when comparing values across different periods or contexts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage changes correctly accounts for the difference between the final and initial values, properly applying the formula ((final - initial) / initial) * 100, and avoid misinterpreting the context or the formula application</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ProgramLogicFailure">

        <Trigger>Situations where the model must derive a specific metric (like increase percentage) from given data that might not directly provide the required information, necessitating an understanding of the relationships between different data points</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the calculation of certain metrics might require understanding the inverse or complementary information (e.g., non-U.S. hours trading percentages) and correctly applying it to find the desired metric, ensuring the logic flow aligns with the problem's requirements</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="IncorrectContextRetrieval">

        <Trigger>Questions that imply the need for understanding the context of time series data, such as comparing trading volumes or percentages across different years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model correctly identifies and utilizes the relevant data points from the appropriate time periods, avoiding the mix-up of data from different years or contexts, and apply the correct formulaic approach to derive the requested information, such as increase percentage</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of future minimum rental receipts to be collected within a specified time period, the model introduces unnecessary and incorrect arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant cash flows are summed and then divided by the total to calculate the correct percentage, avoiding intermediate steps that do not contribute to the final calculation.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Upon encountering a multi-step problem involving the calculation of percentages of total amounts to be collected within specific time frames, the model fails to follow a logical and direct calculation path.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify the total amount and the specific amounts to be considered, then apply the formula for percentage calculation directly to these figures, avoiding unnecessary multiplication and division steps.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>The model incorrectly interprets the context by not accurately identifying the relevant time frames and their corresponding cash flows for the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation correctly accounts for the specified time frame by ensuring all relevant cash flows for that period are included and properly summed before calculating the percentage of the total.</Action>

    </Rule>
<Rule id="922" phase="generation" confidence="1" source="log_922" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages based on averages, especially when rounding is involved in the final presentation of the percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final percentage calculation is rounded appropriately according to the context's precision requirements, avoiding unnecessary precision that might suggest a higher accuracy than actually achieved by the calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating proceeds from debt obligations net of repayments, and the model's response does not match the expected result of subtracting repayments from proceeds.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all financial transactions related to debt obligations are accurately accounted for by subtracting the total repayments from the total proceeds, and verify that the signs of the numbers (positive for proceeds, negative for repayments) are correctly applied in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation of future annual commitments with non-cancelable minimum quantities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the percentage by summing all future annual commitments and then determining the proportion due in the specified year, rather than ignoring or miscalculating the commitments.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing logic for handling multi-year commitments</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a logic check to verify that the model accounts for all years of commitments when calculating percentages, especially when commitments change over time.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to consider all relevant data points for minimum quantity purchases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model retrieves and considers all data points related to minimum quantity purchases, including amounts for each year, to accurately calculate percentages of future annual commitments.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of impairment of goodwill to total goodwill balance, especially when dealing with multi-period financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula for percentage calculation is applied, considering the beginning balance, any changes during the period (e.g., impairments), and the ending balance, to accurately determine the percentage of impairment relative to the total goodwill balance</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving year-over-year comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations to avoid rounding errors</Action>

    </Rule>
<Rule id="926" phase="generation" confidence="1" source="log_926" type="Arithmetic Hallucination">

        <Trigger>Joint venture valuation or implied total value calculations involving percentage interests or additional investments</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating implied total values from joint venture investments, ensure that the additional investment amount is divided by the percentage of economic interest acquired to derive the total value, rather than directly using the investment amount as the total value</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Questions asking for the sum of financial values across multiple years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial values mentioned for different periods are accurately identified and summed without omission or incorrect inclusion of irrelevant data, considering the specific time frames mentioned in the query</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the total number of votes, the model only adds a subset of vote types (e.g., against and abstained) without considering all relevant categories (e.g., for, against, abstained, and broker non-votes).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all vote categories mentioned in the context are included in the total vote calculation to prevent undercounting.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>The model incorrectly assumes that the total number of votes can be calculated by simply adding two or more vote categories without verifying if all categories are accounted for.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation includes all relevant vote categories, and consider the total number of possible votes as a reference to validate the calculation.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Context Retrieval Failure">

        <Trigger>The model fails to retrieve or consider the total possible votes or the total number of votes for all categories, leading to an incomplete calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model retrieves and considers the total possible votes or the sum of all vote categories to accurately calculate the total number of votes that participated in a proposal.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculations involving monetary values and utilization of facilities, where a specific date is mentioned and a balance or available amount is queried</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all monetary values are processed in the same unit (e.g., millions, billions, or exact dollar amounts) and that the correct mathematical operation is applied to determine the available amount, considering the utilized portion and the total facility value</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Unit Consistency Error">

        <Trigger>Questions that involve comparing or calculating the difference between a utilized amount and a total facility amount to determine availability, where unit consistency might be at risk</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the units of measurement for the total facility and the utilized amount are consistent before performing calculations to avoid incorrect results due to unit discrepancies</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Contextual Understanding Failure">

        <Trigger>Situations where the model fails to correctly interpret the context of "availability" in relation to a facility, especially when specific dates and utilization amounts are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model understands the concept of availability as the difference between the total amount of a facility and the amount utilized, and apply this understanding to calculate the available amount correctly, considering all relevant contextual information</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change over multiple years in financial data, particularly when determining decreases or increases in specific financial metrics such as debt portions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure to subtract the later year's value from the earlier year's value and then determine the direction of change (increase or decrease) based on the sign of the result. KNOWLEDGE INJECTION: Recognize that a negative result indicates a decrease, while a positive result indicates an increase, and format the answer accordingly.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucinationError">

        <Trigger>Percentage change calculations involving multiple years or periods, especially when evaluating investments or financial performances over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated correctly by first determining the difference in values between the two periods, then dividing by the original value, and finally multiplying by 100 to get the percentage change. KNOWLEDGE INJECTION: Verify that the formula for percentage change is applied as ((New Value - Original Value) / Original Value) * 100 to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating a company's consolidated total assets based on a percentage of total cross-border outstandings, and the model provides an answer that significantly deviates from the expected scale of financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentages are correctly converted into decimal form and applied to the total value before calculating the consolidated total assets, and verify that the scale of the result matches the expected financial data range.</Action>

    </Rule>
<Rule id="934" phase="generation" confidence="1" source="log_934" type="Arithmetic Hallucination and Inconsistent Context Retrieval">

        <Trigger>When calculating net gains and losses from all hedges, the presence of multiple types of hedges (e.g., fair value hedges, cash flow hedges) and their respective ineffective net gains/losses or hedging gains on forecasted transactions that failed to occur is mentioned.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components of hedge gains and losses are correctly identified and summed. KNOWLEDGE INJECTION: Distinguish between different types of hedges and their impacts on financial statements, applying the appropriate accounting rules for each type to calculate the net effect accurately.</Action>

    </Rule>
<Rule id="935" phase="generation" confidence="1" source="log_935" type="Program Logic Failure">

        <Trigger>Encountering a scenario where multiple line items related to hedging activities are provided across different years or categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a systematic approach to categorize and aggregate hedge-related items appropriately, considering the specific accounting treatment for each category. KNOWLEDGE INJECTION: Recognize the importance of applying a consistent methodology in calculating net gains or losses from hedging activities across different periods or categories to ensure comparability and accuracy.</Action>

    </Rule>
<Rule id="936" phase="generation" confidence="1" source="log_936" type="Incorrect Context Retrieval">

        <Trigger>When faced with a question that requires the aggregation of various hedge-related financial data across different years or categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Develop a comprehensive framework to identify, extract, and organize relevant financial data related to hedging activities from the provided context. KNOWLEDGE INJECTION: Understand the significance of accurately interpreting the context to determine which data points are relevant for calculating the net gains or losses from all hedges, ensuring that all necessary information is considered in the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentual decrease calculations involving monetary values over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentual changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, avoiding arithmetic errors and rounding mistakes</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods for financial metrics such as weighted average shares outstanding</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic errors and provide accurate financial analysis</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving previous and current year financial data, particularly for metrics like total cost of common share repurchases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((Current Year - Previous Year) / Previous Year) * 100, and verify the sign of the result to accurately determine if it represents an increase or a decrease.</Action>

    </Rule>
<Rule id="938" phase="generation" confidence="1" source="log_938" type="Arithmetic Hallucination">

        <Trigger>Calculation of tax rates from net-of-tax values and total income</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the tax rate calculation accounts for all income and expenses, including impairments, reductions in tax expenses, and other one-time benefits, and apply the correct formula: (Total Income - Net-of-Tax Value) / Total Income, considering all components that affect taxable income.</Action>

    </Rule>
<Rule id="939" phase="generation" confidence="1" source="log_939" type="Program Logic Failure">

        <Trigger>Failure to consider multiple income tax benefits and reductions in expenses when calculating the tax rate</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating tax rates, critically evaluate all sections of the financial report, including but not limited to income from operations, to identify and incorporate all relevant tax benefits, reductions in expenses, and other financial adjustments that impact the taxable income and thus the effective tax rate.</Action>

    </Rule>
<Rule id="940" phase="generation" confidence="1" source="log_940" type="Incorrect Context Retrieval">

        <Trigger>Misinterpretation of financial data due to inadequate consideration of the context provided by the financial report</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always contextualize financial data within the broader framework of the company's operations, including any restructuring, legal settlements, or regulatory changes, to accurately determine the components of income and expenses that are subject to taxation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative total return involving multiple years of data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of cumulative total return is performed by subtracting the initial value from the final value and then dividing by the initial value, multiplying by 100 to get the percentage return, and adding 100 to account for the initial investment, to obtain the correct cumulative return percentage.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing calculation steps for cumulative return across different years</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model applies consistent calculation logic across all years of data provided, ensuring each step in the calculation process is correctly executed and that intermediate results are accurately carried forward to compute the final cumulative total return.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Context_Retrieval_Error">

        <Trigger>Failure to correctly identify and utilize the initial and final values of the dataset for the specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the model accurately retrieves the initial and final values of the dataset corresponding to the start and end of the period in question, ensuring these values are correctly applied in the calculation of the cumulative total return.</Action>

    </Rule>
<Rule id="940" phase="generation" confidence="1" source="log_940" type="Arithmetic_Hallucination">

        <Trigger>Percentage growth calculations between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage growth is calculated as ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="941" phase="generation" confidence="1" source="log_941" type="Program_Logic_Failure">

        <Trigger>Multiple data points provided for sequential years</Trigger>

        <Action>KNOWLEDGE INJECTION: Identify the specific years mentioned in the question and only use the corresponding values for calculation, ignoring irrelevant data points</Action>

    </Rule>
<Rule id="941" phase="generation" confidence="1" source="log_941" type="ArithmeticError">
        <Trigger>Calculation of percent change in financial metrics, such as revenue.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percent change calculations are performed using the formula (|change| / original value) * 100, with precise arithmetic to avoid rounding errors, and consider the context of the change (e.g., decrease vs. increase) to apply the correct sign.</Action>
    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total repurchase liability, the model fails to sum all relevant components, including make-whole settlements and other expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components mentioned in the financial statements, including settlements and expenses, are accurately identified and summed to calculate the total liability.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating cumulative total return over multiple years with given annual returns</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the cumulative total return is calculated as the product of (1 + annual return) for each year, then subtract 1 and multiply by 100 to get the percentage return, rather than simply reporting the final year's return value</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of long-term debt included in the current liabilities section of the balance sheet, and the model provides a response that is a direct value from the given data without performing the necessary calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of long-term debt included in current liabilities is performed by dividing the long-term debt due within the next year by the total long-term debt, and then multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="101" phase="generation" confidence="1" source="log_101" type="Arithmetic_Hallucination">

        <Trigger>Future minimum lease payments with terms in excess of one year, especially when calculating percentages due after a certain period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentages by summing all relevant lease payments and correctly applying the percentage formula to avoid arithmetic hallucination, considering all time frames mentioned in the problem statement</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">

        <Trigger>Calculating total value of shares purchased</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total number of shares purchased is multiplied by the average price paid per share to obtain the total value, and verify that the units of measurement are consistent (e.g., millions) before providing the final answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two years is required, and the model's response does not match the expected calculation based on provided context values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage, without introducing external or assumed values not provided in the context.</Action>

    </Rule>
<Rule id="948" phase="generation" confidence="1" source="log_948" type="ArithmeticHallucination">
        <Trigger>Calculation of total financial obligations or payments, especially when including uncertain or pending financial positions.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned financial components, including uncertain tax positions, are summed according to their specified timing or as per the general guidelines provided in the context, to obtain the accurate total payments or obligations.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of averages for financial metrics, such as total fair value of performance-based restricted stock units vested over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values for each year are accurately summed and then divided by the total number of years to calculate the average, avoiding any incorrect assumptions about the distribution of values or omission of relevant data points</Action>

    </Rule>
<Rule id="950" phase="generation" confidence="1" source="log_950" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage cumulative total shareholder return for comparison between two entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage cumulative return involves correctly computing the ratio of the final value to the initial value for each entity, then subtracting 1 and multiplying by 100 to obtain the percentage return, before comparing the results between entities</Action>

    </Rule>
<Rule id="951" phase="generation" confidence="1" source="log_951" type="Program Logic Failure">

        <Trigger>Comparison of percentage cumulative returns between different financial instruments or indices</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula used for calculating percentage cumulative return is consistently applied across all entities being compared, and that the results are correctly subtracted to find the difference in percentage returns</Action>

    </Rule>
<Rule id="952" phase="generation" confidence="1" source="log_952" type="Lack of Contextual Understanding">

        <Trigger>Interpreting financial data spanning multiple years for the purpose of calculating cumulative returns</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model understands the initial and final dates of the period in question, correctly identifies the corresponding values for each entity, and applies the percentage return formula accurately to these values</Action>

    </Rule>
<Rule id="950" phase="generation" confidence="1" source="log_950" type="Arithmetic Hallucination">

        <Trigger>When calculating the mathematical mean of multiple investments over a specified period, ensure that all relevant data points are accurately identified and included in the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation methodology sums all relevant values before dividing by the total number of data points to obtain the mean, ensuring that no data points are omitted or incorrectly weighted.</Action>

    </Rule>
<Rule id="952" phase="generation" confidence="1" source="log_952" type="Arithmetic_Hallucination">

        <Trigger>Percent calculation of a specific expense category from total expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all decimal places are accurately preserved during arithmetic operations to prevent rounding errors, particularly when calculating percentages of financial metrics.</Action>

    </Rule>
<Rule id="953" phase="generation" confidence="1" source="log_953" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages related to net revenues from specific financial segments, such as institutional client services, where the context includes multiple years of data and various revenue streams like reinsurance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct net revenue figure related to the specified segment and year is used as the base for calculating percentages, and verify that all relevant components (e.g., reinsurance) are properly accounted for in the calculation to avoid arithmetic hallucination or incorrect context retrieval.</Action>

    </Rule>
<Rule id="954" phase="generation" confidence="1" source="log_954" type="ArithmeticHallucination">

        <Trigger>When calculating percentage changes between two time periods, especially in the context of financial liabilities or assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates percentage changes using the correct formula ((New Value - Old Value) / Old Value) * 100, rather than just subtracting the old value from the new value to find the absolute difference.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Questions asking for percentages of items or facilities within a given context.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the model identifies all relevant quantities and applies the correct arithmetic operations to calculate percentages, considering the total number of items or facilities as the denominator and the number of items or facilities fitting the specific criteria as the numerator.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, particularly when calculating changes in net cash provided by operating activities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes between two values, the formula [(New Value - Old Value) / Old Value] * 100 is applied accurately, taking into account the proper rounding and significant figures to prevent minor discrepancies.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or values, especially when the model is expected to compute the difference between two values and then calculate a percentage change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, paying close attention to the accurate identification and use of 'New Value' and 'Old Value' from the provided context, and verify that all arithmetic operations are performed in the correct order.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving part-to-whole relationships, especially in financial contexts where specific entities' obligations are compared to total aggregate amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that when calculating percentages representing parts of a whole, the part's value is correctly identified and divided by the whole's value, then multiplied by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the context clearly distinguishes between the specific entity's obligations and the total aggregate to avoid incorrect numerator or denominator selection.</Action>

    </Rule>
<Rule id="959" phase="generation" confidence="1" source="log_959" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in allowance for doubtful accounts, involving provisions and write-offs from consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net change is calculated as the difference between the current year's provision and the previous year's provision, minus the current year's write-offs, plus the previous year's write-offs, considering the correct application of signs for provisions and write-offs</Action>

    </Rule>
<Rule id="960" phase="generation" confidence="1" source="log_960" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rate over a single year period or when the start and end years are the same, and the model responds with a static value (e.g., 0%) without performing the actual growth rate calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that growth rate calculations over any period involve comparing at least two distinct time points. If the start and end years are identical, clarify the question's intent or apply a standard approach for such scenarios, considering the possibility that the question may be probing for an understanding of how growth rates are calculated under specific, potentially limiting conditions.</Action>

    </Rule>
<Rule id="961" phase="generation" confidence="1" source="log_961" type="Arithmetic_Hallucination">

        <Trigger>Recognition of loss on held-to-maturity investment portfolio, specifically when comparing amortized cost to market value at different dates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating potential loss on a held-to-maturity investment, the difference between the amortized cost and the market value at the relevant date is accurately computed, considering all relevant financial figures provided for that specific date, including any interest receivable.</Action>

    </Rule>
<Rule id="962" phase="generation" confidence="1" source="log_962" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of total other income attributable to a specific component, and the component's value is negative, indicating a cost rather than income.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage of total other income attributable to a specific component correctly accounts for the component's value being a cost by subtracting it from the total other income before calculating the percentage, and then applying the correct mathematical operation to reflect its impact as a cost, not as a direct component of income.</Action>

    </Rule>
<Rule id="963" phase="generation" confidence="1" source="log_963" type="Program Logic Failure">

        <Trigger>When determining the total other income for the purpose of calculating percentages, ensure all relevant income and cost components are correctly identified and applied.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always sum all addends mentioned in the 'Other Income' section and subtract all costs or deductions to accurately determine the total other income before calculating percentages, ensuring that the logic of inclusion and exclusion of components is sound and based on their nature (income or cost).</Action>

    </Rule>
<Rule id="963" phase="generation" confidence="1" source="log_963" type="Arithmetic_Hallucination">

        <Trigger>When calculating the difference in performance between two financial entities over a specified period, and the model's response deviates from the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations are performed based on the initial and final values of the entities being compared, using the formula: ((final_value - initial_value) / initial_value) * 100, and that the results are accurately subtracted to determine the difference in performance.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Presence of multiple credit-related financial instruments in the context with different categories and years mentioned</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial instruments for the specified year are identified and included in the calculation, regardless of their categories, to avoid arithmetic hallucination and incorrect totals</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="ProgramLogicFailure">

        <Trigger>Inclusion of multiple financial categories (e.g., securities financing, liquidity asset purchase agreements, unfunded commitments to extend credit, standby letters of credit) in the context without clear instructions on which to include in the total</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation only includes the values explicitly mentioned for the specified year and that all such values are correctly summed, considering the context's requirement for a total</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="IncorrectContextRetrieval">

        <Trigger>Mention of previous years' data in the context that could potentially be confused with the data of the year in question</Trigger>

        <Action>CRITICAL FORMATTING RULE: Distinguish clearly between data from different years mentioned in the context and ensure that only the data corresponding to the year specified in the question is used for calculations</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating tax expenses and total specified items are provided for multiple years but the question specifically asks for a year not directly listed in the provided data, and the model responds with an indication that there's no data for that year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided data is thoroughly examined for relevant information that could be used to calculate or infer the missing year's data through logical deductions or mathematical operations, especially when after-tax impacts are given and could be used to back-calculate tax expenses.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage return for a company compared to its peer group over a specified period, where the model's response does not accurately reflect the correct percentage difference based on the provided initial and final values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage return calculations are performed using the formula: ((final_value - initial_value) / initial_value) * 100, for both the company and its peer group, and then find the difference between these two calculated percentages to determine the comparative return.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Anticipated increase calculations involving multiple time periods and capacity expansions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percent increase involves correctly identifying the initial and final values within the specified timeframe, and then applying the formula for percentage change: ((final - initial) / initial) * 100, considering all relevant capacity additions or subtractions within that timeframe.</Action>

    </Rule>
<Rule id="968" phase="generation" confidence="1" source="log_968" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving time series data with a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify if the result indicates a decrease or increase to provide the correct sign for the percentage change.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Financial transaction questions involving partial data and totals</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all provided financial data is considered and apply necessary calculations to derive totals, including but not limited to calculating share prices from given totals and share numbers, or applying given rates and percentages to base values.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percent change formula is applied correctly, considering the order of the years and the corresponding values, to calculate the percentage change as ((Current Year Value - Previous Year Value) / Previous Year Value) * 100.</Action>

    </Rule>
<Rule id="971" phase="generation" confidence="1" source="log_971" type="ContextMisinterpretation">

        <Trigger>Comparisons involving transfer of assets between individuals, particularly in cases where relational dynamics (e.g., spouse, girlfriend) are mentioned.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model distinguishes between the possession and transfer of assets among different parties, considering relational contexts to correctly assess who has more of a particular asset after a transfer, without solely relying on numerical values.</Action>

    </Rule>
<Rule id="972" phase="generation" confidence="1" source="log_972" type="Arithmetic Hallucination">

        <Trigger>When calculating changes in quantities over time, especially in the context of reserve estimates or financial metrics, and the model response does not align with the expected calculation based on provided numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values, including initial quantities, revisions, and final quantities, are correctly accounted for and mathematically processed to derive the correct percentage change or difference, taking into consideration the formula for percentage change which involves subtracting the final value from the initial value, dividing by the initial value, and then multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="973" phase="generation" confidence="1" source="log_973" type="ArithmeticLogicFailure">
        <Trigger>Encountering a scenario that involves calculating the increase or decrease in a quantity after an expansion or reduction.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of changes in quantities involves subtracting the initial value from the final value to determine the increase or decrease, rather than relying solely on provided increment values.</Action>
    </Rule>
<Rule id="974" phase="generation" confidence="1" source="log_974" type="Arithmetic_Hallucination">

        <Trigger>Presence of multiple expense values mentioned for different years in the context, requiring summation to answer a question about total expenses over a period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant expense values mentioned for each year are accurately identified and summed to calculate total expenses for the specified period, without omitting any year's expenses.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate of operating expenses involves previous and current year's operating expenses or profits and sales, but model response indicates a potential miscalculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the growth rate of operating expenses is calculated as ((Current Year's Operating Expenses - Previous Year's Operating Expenses) / Previous Year's Operating Expenses) * 100, considering that operating expenses can be derived from operating profit and net sales using the formula: Operating Expenses = Net Sales - Operating Profit, if direct operating expense values are not provided.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="PercentageCalculationError">

        <Trigger>When calculating the increase or decrease of a financial metric from one period to another, and the model response is given as an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage change, rather than simply providing the absolute difference.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of available-for-sale securities, ensure that all relevant components are correctly identified and their proportions accurately determined.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the sum of all components of available-for-sale securities is used as the denominator when calculating the percentage of each component, and apply the formula: (component amount / total amount) * 100, to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of tax rates on unrealized gains or losses from financial instruments such as interest rate swaps, especially when determining the proportion of tax provision to the net gain or loss.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating tax rates on unrealized gains from financial instruments, ensure to apply the correct tax rate by dividing the tax provision by the net unrealized gain, considering the context of cash flow hedges and other comprehensive income components.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_depreciation" type="ProgramLogicFailure">
        <Trigger>Depreciation calculation for land improvements or similar assets is required.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Apply standard depreciation rates and formulas for the specific asset type being queried, considering general accounting principles and practices for asset depreciation.</Action>
    </Rule>
<Rule id="980" phase="generation" confidence="1" source="log_980" type="Arithmetic_Hallucination">

        <Trigger>When calculating total sales or revenues across multiple years, ensure that the numbers are correctly summed and formatted.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all numerical values are correctly added and represented in the appropriate format, considering factors like significant figures and unit consistency, to prevent arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="981" phase="generation" confidence="1" source="log_981" type="Unit_Inconsistency">

        <Trigger>Encountering numerical values with different units or scales in financial calculations, such as millions versus absolute numbers.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure unit consistency by converting all values to the same scale before performing arithmetic operations, and maintain consistency in the representation of the final answer, whether in millions, thousands, or absolute numbers, based on the context provided.</Action>

    </Rule>
<Rule id="980" phase="generation" confidence="1" source="log_980" type="ArithmeticHallucination">

        <Trigger>When calculating the percentage change between two values, especially in the context of financial metrics like interest rates, and the model provides multiple calculations instead of a single answer or incorrectly applies the formula.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when a question asks for a single numerical answer representing a percentage change, the model must identify the most relevant time frame or comparison based on the context provided and apply the percentage change formula correctly as ((New Value - Old Value) / Old Value) * 100, selecting the appropriate old and new values based on the question's context.</Action>

    </Rule>
<Rule id="981" phase="generation" confidence="1" source="log_981" type="ProgramLogicFailure">

        <Trigger>When the model is expected to provide a single numerical answer but instead offers multiple calculations without selecting the most appropriate one based on the question's context.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a logic check to ensure that the model understands the context of the question and can identify when a single answer is expected. If multiple calculations are relevant, the model should be able to determine which one directly answers the question or provide a clear indication of why multiple answers are given, ensuring clarity in its response.</Action>

    </Rule>
<Rule id="982" phase="generation" confidence="1" source="log_982" type="IncorrectContextRetrieval">

        <Trigger>When the question implies a specific time frame or comparison (e.g., "what was the percent of the change") and the model fails to identify the correct baseline or comparison period from the provided context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model can accurately retrieve and interpret contextual information, such as time frames or specific financial metrics, to apply the correct calculations. The model should prioritize understanding the question's context to select the appropriate values for calculations, avoiding the provision of unnecessary or irrelevant calculations.</Action>

    </Rule>
<Rule id="982" phase="generation" confidence="1" source="log_982" type="Arithmetic Hallucination">

        <Trigger>Presence of multiple financial metrics that require aggregation to answer a question, such as total increase from acquisitions and unrealized allocations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial metrics mentioned in the context are accurately identified and summed to calculate the total, without omitting any values or incorrectly assuming their relevance.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_calculation_error" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula: (New Value - Old Value) / Old Value * 100, with proper order of operations and accurate arithmetic.</Action>
    </Rule>
<Rule id="984" phase="generation" confidence="1" source="log_984" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving financial metrics such as total carrying amount of loan receivable and purchases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct formula is applied by dividing the relevant component (e.g., purchases) by the total (e.g., total carrying amount of loan receivable) and then multiplying by 100 to get the percentage, taking into account all relevant financial metrics and their correct values.</Action>

    </Rule>
<Rule id="985" phase="generation" confidence="1" source="log_985" type="Arithmetic_Hallucination">

        <Trigger>Comparison of quantities in financial contexts, specifically when determining which type of equity grant exceeds another (e.g., ISOs vs. restricted stock units).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the comparison is made between the correct quantities of each financial instrument, considering the specific context of the question, and ensure that all relevant values are accurately identified and compared to provide a correct answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving time-series financial data, such as lease obligations, where the model's response does not accurately reflect the calculated difference between two consecutive time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the result is a numerical value representing a percentage, not the original value or an intermediate calculation result.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculation of percentages involving subcategories of financial assets</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that the formula for calculating percentages is correctly applied, with the numerator being the specific category (e.g., residential mortgages) and the denominator being the total category (e.g., total financial assets securitized), and then multiply by 100 to obtain the percentage.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage cumulative total return for multiple financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage cumulative total return is correctly applied, taking into account the initial and final values of each entity, and that the differences in returns are accurately computed to avoid arithmetic errors</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Comparison of financial performance metrics between different entities</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the context of comparative financial analysis, including the ability to calculate and compare returns between different entities, such as stocks and indices, over specified time frames</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieval of historical financial data for calculation of cumulative returns</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the model correctly retrieves and applies the relevant historical financial data for the specified period, ensuring that the data for each entity is accurately matched to the corresponding time frames</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total net revenue for a specific segment, such as investing & lending, and the model response deviates significantly from the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct components of the total net revenue are identified and that the calculation of the percentage involves dividing the specific segment's revenue by the total net revenue and then multiplying by 100, to obtain the accurate percentage representation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving negative numbers or decreases in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations account for the absolute difference between the two values and correctly apply the formula: ((New Value - Old Value) / |Old Value|) * 100, considering the sign for the direction of change</Action>

    </Rule>
<Rule id="991" phase="generation" confidence="1" source="log_991" type="ArithmeticHallucination">
        <Trigger>Questions asking for the total amount or value of financial instruments (e.g., shares) gifted or transacted over a period.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating totals related to financial gifts or transactions, ensure to multiply the number of units (e.g., shares) by their respective monetary values (e.g., weighted-average grant-date fair value) rather than merely summing the units.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Percentage increase calculations involving comparative financial data across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the respective financial metrics being compared, to avoid arithmetic hallucination errors</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increase, ensure to apply the formula ((New Value - Old Value) / Old Value) * 100 to obtain the correct percentage change, rather than simply subtracting the old value from the new value.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total cash obligations due after a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total cash obligations due after a specific year, the correct portion of obligations due after that year is used as the numerator, and the total cash obligations are used as the denominator, then multiply by 100 to get the percentage, and finally round the result to the nearest whole number or as per the context's requirement for precision.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of properties related to a specific category, such as data centers, in a given region or state.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total number of properties and the number of properties in the specified category are accurately counted before calculating the percentage, and verify that the calculation is performed as a proportion of the total (i.e., (number of properties in category / total number of properties) * 100).</Action>

    </Rule>
<Rule id="996" phase="generation" confidence="1" source="log_996" type="Arithmetic Hallucination">

        <Trigger>Calculating change in expense values between two periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the change in values is calculated as the absolute difference between the two periods, considering the correct order of subtraction to avoid sign errors, and verify that the result's sign accurately reflects an increase or decrease in the context of the question asked.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating cumulative percentage returns between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all annual returns are accurately calculated and then compounded to obtain the total cumulative return for each entity, before finding the difference in their cumulative percentage returns.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Comparing financial performance metrics, such as cumulative returns, between different entities</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula used for calculating cumulative percentage returns accounts for the initial value and correctly applies the percentage change over the specified period, avoiding any incorrect assumptions about the calculation methodology.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving historical financial data for the calculation of cumulative returns</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the correct historical data points are retrieved for both entities being compared, ensuring that the data aligns with the specified time period and that all relevant data points are included in the calculation.</Action>

    </Rule>
<Rule id="998" phase="generation" confidence="1" source="log_998" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accuracy in financial metrics computations.</Action>
    </Rule>
<Rule id="999" phase="generation" confidence="1" source="log_999" type="UnitOmissionError">

        <Trigger>Calculations involving financial metrics, such as income tax benefits, that require the inclusion of unit specifications (e.g., millions, dollars) in the final answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always include the appropriate unit of measurement (e.g., dollars, millions) in the final calculated value to ensure accuracy and completeness of the financial metric being reported.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Comparison of returns between different financial indices or stocks over a specified period, with a requirement to calculate the percentage difference.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage difference in returns between two financial indices or stocks over a specified period, ensure that the formula for percentage change is correctly applied: ((End Value - Start Value) / Start Value) * 100, for both indices or stocks, and then find the difference between these two calculated percentages.</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_1001" type="Arithmetic_Hallucination">

        <Trigger>Presence of decimal points in numerical values and requirement to provide answer in thousands</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when numerical values contain decimal points and the answer requires a specific unit (e.g., thousands), the calculation should consider the decimal places appropriately and then convert the result to the required unit without losing precision due to premature rounding.</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_1001" type="Arithmetic_Hallucination">

        <Trigger>Scenario involves calculating potential gain or loss from the difference between fair value and carrying amount of assets, and the model's response does not accurately reflect this calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating potential gain or loss from the sale of assets, the difference between the fair value and the carrying amount is accurately computed by subtracting the carrying amount from the fair value for each relevant asset category and summing these differences.</Action>

    </Rule>
<Rule id="1003" phase="generation" confidence="1" source="log_1003" type="ArithmeticHallucination">
        <Trigger>Calculation of net change in financial balances over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate the net change by subtracting the initial value from the final value, ensuring the correct order of operations and considering the direction of change (increase or decrease) to provide a meaningful financial interpretation.</Action>
    </Rule>
<Rule id="1004" phase="generation" confidence="1" source="log_1004" type="Arithmetic Confirmation Error">

        <Trigger>When calculating amortization rates related to intangible assets such as trademarks, and a specific useful life is provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the amortization rate calculation directly corresponds to the useful life of the asset, ensuring that the formula used (e.g., 1/useful life) is correctly applied to obtain the yearly rate, and that this calculation is properly differentiated from other financial ratios or rates.</Action>

    </Rule>
<Rule id="1005" phase="generation" confidence="1" source="log_1005" type="Arithmetic_Hallucination">

        <Trigger>When calculating the number of stock warrants issued for a merger, and the model response matches the correct answer but is flagged as incorrect due to the context of the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model's response is evaluated based on the mathematical accuracy and relevance to the question asked, rather than the correctness of the calculation itself. KNOWLEDGE INJECTION: Verify that the calculation logic is sound and that the model correctly interprets the context of warrant conversions and exercises in merger scenarios.</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_1001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, to calculate the growth rate between two time periods</Action>

    </Rule>
<Rule id="1002" phase="generation" confidence="1" source="log_1002" type="Unit_Mismatch">

        <Trigger>Comparison or calculation involving values with percentage or numerical outcomes</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculated result is presented in the appropriate unit, such as percentage, to ensure correct interpretation of the growth rate or change</Action>

    </Rule>
<Rule id="1003" phase="generation" confidence="1" source="log_1003" type="Contextual_Relevance">

        <Trigger>Queries involving historical financial data, such as expenses or obligations, across multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the relevant data points from the correct time periods are accurately identified and extracted before performing calculations</Action>

    </Rule>
<Rule id="1007" phase="generation" confidence="1" source="log_1007" type="ArithmeticError">

        <Trigger>Calculating percent change between two time periods, where the model's response does not match the expected result due to incorrect subtraction or division order.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure the correct order of operations by first subtracting the original value from the new value, then dividing by the original value, and finally multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the formula for percent change is applied consistently as ((New Value - Original Value) / Original Value) * 100.</Action>

    </Rule>
<Rule id="1008" phase="generation" confidence="1" source="log_1008" type="Arithmetic_Hallucination_Error">

        <Trigger>Calculation of proportion or percentage of treasury stock in relation to total issued shares or outstanding shares</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by dividing the absolute value of treasury shares by the total number of issued shares and then multiplying by 100 to obtain the percentage, accounting for negative signs indicating reduction</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_1001" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving consecutive fiscal year data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the correct formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that the signs of the values are correctly interpreted to avoid incorrect direction of change</Action>

    </Rule>
<Rule id="1010" phase="generation" confidence="1" source="log_1010" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of components within a financial portfolio or when determining the proportion of specific securities within a larger set.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components are accurately summed and then calculate the percentage of each component by dividing its value by the total value of the portfolio, multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Recognize that calculating proportions requires considering all parts of the whole.</Action>

    </Rule>
<Rule id="1011" phase="generation" confidence="1" source="log_1011" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and volatility values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and apply this formula to all relevant data points when calculating changes over time, especially in financial metrics such as volatility</Action>

    </Rule>
<Rule id="1011" phase="generation" confidence="1" source="log_1011" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage changes, ensuring the correct order of operations and accurate interpretation of the result as a decline (negative value) or increase (positive value).</Action>
    </Rule>
<Rule id="1012" phase="generation" confidence="1" source="log_1012" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple time periods and dollar values per unit</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage increases over time, the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, taking into account the correct old and new values and avoiding any arithmetic hallucination by accurately computing differences and ratios.</Action>

    </Rule>
<Rule id="1013" phase="generation" confidence="1" source="log_1013" type="Arithmetic_Hallucination">

        <Trigger>Calculation of interest payments over multiple years with semi-annual payment schedules</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating total interest paid over a period, ensure to account for the correct number of payment periods, considering the payment frequency (e.g., semi-annually) and the total duration, and then multiply by the interest amount per payment period</Action>

    </Rule>
<Rule id="1014" phase="evaluation" confidence="1" source="log_1014" type="Incorrect Context Retrieval">

        <Trigger>Calculating effective income tax rate based on gains from discontinued operations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the provision for income taxes and the gain on sale of discontinued operations before income taxes are correctly matched by year when calculating the effective income tax rate, to avoid incorrect context retrieval and ensure accurate tax rate calculations.</Action>

    </Rule>
<Rule id="1015" phase="generation" confidence="1" source="log_1015" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving negative numbers or changes from negative to positive values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly, considering the sign of the original and new values, and handle cases where the original value is negative or zero to avoid division by zero or incorrect percentage change calculations</Action>

    </Rule>
<Rule id="1017" phase="generation" confidence="1" source="log_1017" type="Arithmetic_Hallucination">

        <Trigger>When calculating net changes in quantities, such as reserves, and the result is a decrease, ensure the sign of the result is correctly applied.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the subtraction operation yields a negative result when the ending value is less than the beginning value, and apply this negative sign to the final answer to indicate a decrease.</Action>

    </Rule>
<Rule id="1017" phase="generation" confidence="1" source="log_1017" type="Arithmetic_Hallucination">

        <Trigger>Unrecognized tax benefits calculation to determine the percentage that would not impact the effective income tax rate</Trigger>

        <Action>CRITICAL FORMATTING RULE: To find the percentage of unrecognized tax benefits that would not impact the effective income tax rate if recognized, subtract the amount that would impact the rate from the total unrecognized tax benefits, then divide by the total unrecognized tax benefits and multiply by 100</Action>

    </Rule>
<Rule id="1019" phase="generation" confidence="1" source="log_1019" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculation involving before and after values, particularly in the context of financial adjustments or regulatory adoption impacts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula ((New Value - Old Value) / Old Value) * 100 to obtain the correct percentage increase or decrease, rather than merely stating the difference as the increase amount.</Action>

    </Rule>
<Rule id="1020" phase="generation" confidence="1" source="log_1020" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving country-specific distribution of properties or assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of properties or assets located in a specific country, ensure that the sum of parts (e.g., properties in the United States and properties in other countries) is accurately divided by the total sum of all parts to obtain the correct percentage, and round the result according to the context's precision requirements</Action>

    </Rule>
<Rule id="1020" phase="generation" confidence="1" source="log_1020" type="QuantitativeMiscalculation">
        <Trigger>Calculation of averages or means from a series of percentages or numerical values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant numerical values are accurately summed and then divided by the correct number of periods or items to calculate averages, avoiding rounding errors or omission of values.</Action>
    </Rule>
<Rule id="1021" phase="generation" confidence="1" source="log_1021" type="Arithmetic Hallucination">

        <Trigger>When calculating adjusted financial metrics, such as capital expenditures, and specific expenses or adjustments are mentioned as being included or excluded from a total.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all adjustments mentioned in the context (e.g., early buyouts, one-time expenses) are correctly accounted for and subtracted from or added to the total as appropriate, before providing the final calculated value.</Action>

    </Rule>
<Rule id="1022" phase="generation" confidence="1" source="log_1022" type="Arithmetic_Hallucination">

        <Trigger>When calculating the difference between two financial values from different time periods, especially when comparing low prices and high prices across quarters.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct values are identified and matched to their respective time periods and price types (low or high) before performing arithmetic operations to calculate differences. KNOWLEDGE INJECTION: Verify that the model understands the context and correctly retrieves the relevant financial data for the specified quarters and price types.</Action>

    </Rule>
<Rule id="1023" phase="generation" confidence="1" source="log_1023" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages from historical financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of growth rates involves subtracting the previous period's value from the current period's value, then dividing by the previous period's value, and finally multiplying by 100 to obtain the percentage change, while avoiding rounding errors during intermediate calculations</Action>

    </Rule>
<Rule id="1024" phase="generation" confidence="1" source="log_1024" type="Arithmetic_Rounding_Error">

        <Trigger>Calculating percentage changes in financial metrics, such as growth rates or declines, where precise arithmetic operations are crucial.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentages and financial metrics, are performed with precise rounding at the final step to avoid propagation of minor errors, and verify that the model's response is rounded correctly and consistently according to the context's precision requirements.</Action>

    </Rule>
<Rule id="1025" phase="generation" confidence="1" source="log_1025" type="Arithmetic Hallucination">

        <Trigger>Unrealized gain/loss calculations involving reclassification of investments and mark-to-market adjustments</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating unrealized gains/losses on securities, ensure that all relevant adjustments, including reclassifications and mark-to-market changes, are accurately accounted for and properly applied to the initial balance, without incorrectly assuming the net effect of these adjustments or omitting necessary steps in the calculation process</Action>

    </Rule>
<Rule id="1026" phase="generation" confidence="1" source="log_1026" type="Arithmetic Hallucination">

        <Trigger>When calculating average revenue over multiple years, and the model response does not match the sum of revenues for each year divided by the number of years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant revenue figures mentioned for different years are summed and then divided by the total number of years to calculate the average revenue, considering the context of the question about average revenue over a specified period.</Action>

    </Rule>
<Rule id="1027" phase="generation" confidence="1" source="log_1027" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decreases in revenue and specific expense revisions, where the model mistakenly calculates the percentage impact of the revision on the revenue change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage impact of a specific expense revision on a change in revenue, the absolute difference in revenue is used as the denominator, and the specific revision amount is used as the numerator, applying the formula correctly as (revision amount / absolute revenue decrease) * 100, while avoiding arithmetic errors and ensuring the correct order of operations.</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_error_calculation" type="ArithmeticError">
        <Trigger>Calculation of percentage change in financial metrics, such as net cash from operating activities.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change, which is ((New Value - Old Value) / Old Value) * 100, and ensure that the new and old values are correctly identified from the given financial data.</Action>
    </Rule>
<Rule id="1030" phase="generation" confidence="1" source="log_1030" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving accumulated values and changes in financial components</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes in accumulated financial components, ensure that the change in the accumulated value is calculated by adding the current year's change to the previous year's accumulated value, and then apply the percentage change formula correctly, avoiding arithmetic hallucination by accurately accounting for all components and their respective changes.</Action>

    </Rule>
<Rule id="1031" phase="generation" confidence="1" source="log_1031" type="Program Logic Failure">

        <Trigger>Calculations involving multiple financial components and accumulated values</Trigger>

        <Action>KNOWLEDGE INJECTION: To calculate the percentage change in accumulated other comprehensive earnings (loss), first determine the correct total accumulated value for the previous year, then calculate the new accumulated value by adding the changes in all relevant components for the current year, and finally apply the percentage change formula to these values, ensuring that all calculations are logically consistent and based on the provided financial data.</Action>

    </Rule>
<Rule id="1031" phase="generation" confidence="1" source="log_1031" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decreases in financial metrics, such as cash and cash equivalents.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and pay special attention to the sign of the result to accurately reflect increases or decreases.</Action>

    </Rule>
<Rule id="1031" phase="generation" confidence="1" source="log_1031" type="Arithmetic_Hallucination">

        <Trigger>Amortization expense calculations for intangible assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that amortization expenses are calculated as a percentage of the intangible asset's value over its useful life, rather than incorrectly assuming the expense is equal to the asset's value or a fixed portion thereof. KNOWLEDGE INJECTION: Verify that the correct amortization period and method are applied according to accounting standards.</Action>

    </Rule>
<Rule id="1033" phase="generation" confidence="1" source="log_1033" type="Arithmetic Hallucination">

        <Trigger>Percent change calculations involving comparisons between different time periods or financial statements</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percent change, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, taking into account the possibility of negative results when the new value is less than the old value, indicating a decrease</Action>

    </Rule>
<Rule id="1033" phase="generation" confidence="1" source="log_1033" type="ArithmeticHallucination">

        <Trigger>Percentage increase calculations involving multi-year data and weighted averages</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage, avoiding any intermediate rounding that could lead to precision errors.</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving 'increase' or 'decrease' keywords</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes over time that involve terms like 'increase' or 'decrease', always determine if the question requires an absolute difference or a percentage change, and apply the appropriate formula: ((New Value - Old Value) / Old Value) * 100 for percentage change.</Action>
    </Rule>
<Rule id="1036" phase="generation" confidence="1" source="log_1036" type="ArithmeticError">

        <Trigger>Percentage decrease calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage decrease, the formula (|New Value - Old Value| / Old Value) * 100 is applied correctly, taking into account the absolute difference and the original value to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1036" phase="generation" confidence="1" source="log_1036" type="Arithmetic Hallucination">

        <Trigger>When calculating the difference in total return between two entities over a specified period, and the model's response does not match the expected outcome based on provided historical data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for both entities are correctly retrieved and utilized in the calculation. KNOWLEDGE INJECTION: Verify that the formula for calculating total return is correctly applied, considering all time periods and ensuring that each period's value is accurately computed before comparing the entities.</Action>

    </Rule>
<Rule id="1040" phase="generation" confidence="1" source="log_1040" type="Arithmetic_Hallucination">

        <Trigger>When calculating the expected increase in a financial metric, such as pension expense's amortization of actuarial losses, between two time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the percentage increase is performed correctly by subtracting the base year value from the current year value, then dividing by the base year value, and finally multiplying by 100 to obtain the percentage change.</Action>

    </Rule>
<Rule id="1039" phase="postprocessing" confidence="1" source="log_1039" type="UnitOmissionError">

        <Trigger>Encountering a numerical answer without a unit of measurement or currency in the context of financial calculations, especially when the question explicitly asks for a monetary value or a value in a specific unit.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical answers are accompanied by their respective units of measurement or currency, as dictated by the context of the question, to provide a complete and accurate response.</Action>

    </Rule>
<Rule id="1040" phase="generation" confidence="1" source="log_1040" type="Arithmetic Hallucination">

        <Trigger>Calculation of effective tax rate based on tax benefits and share-based compensation costs</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the effective tax rate is calculated by dividing the tax benefits by the share-based compensation cost, and verify that all relevant numbers are correctly extracted from the context and used in the calculation</Action>

    </Rule>
<Rule id="1041" phase="generation" confidence="1" source="log_1041" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage change in outstanding stock due to restricted stock, restricted stock units, and performance shares activity</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation accounts for the correct direction of change (increase or decrease) by using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the result reflects a decrease when the new value is less than the old value</Action>

    </Rule>
<Rule id="1041" phase="generation" confidence="1" source="log_1041" type="PercentageCalculationError">
        <Trigger>Percentage decrease or increase calculations involving financial data over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula \( \left( \frac{\text{Original Value} - \text{New Value}}{\text{Original Value}} \right) \times 100 \) to ensure accuracy in financial comparisons</Action>
    </Rule>
<Rule id="1042" phase="generation" confidence="1" source="log_1042" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total floor space by business segment, and the model is given specific square footage values for owned, leased, and government-owned spaces, along with a total value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the owned space value by the total space value and then multiplying by 100, while avoiding rounding errors and maintaining precision throughout the calculation process. KNOWLEDGE INJECTION: Verify that all relevant space values (owned, leased, government-owned) are correctly identified and considered in the calculation to determine the accurate percentage of owned space.</Action>

    </Rule>
<Rule id="1043" phase="generation" confidence="1" source="log_1043" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the result of a percentage change calculation is formatted as a percentage by appending the percentage symbol (%) to the calculated value, unless explicitly stated otherwise in the context.</Action>

    </Rule>
<Rule id="1044" phase="generation" confidence="1" source="log_1044" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change in financial metrics, such as tax provisions, over a given period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations adhere to the formula: ((Ending Balance - Beginning Balance) / Beginning Balance) * 100, to avoid arithmetic errors and provide accurate financial analysis</Action>

    </Rule>
<Rule id="1046" phase="generation" confidence="1" source="log_1046" type="Arithmetic_Hallucination">

        <Trigger>Foreign currency translation loss question with multiple year values provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model compares all provided years to determine the greatest loss, considering the absolute values and correct signs (positive or negative) to accurately calculate the greatest foreign currency translation loss.</Action>

    </Rule>
<Rule id="1046" phase="generation" confidence="1" source="log_1046" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values from given high and low values within a specific timeframe, and the model response does not accurately reflect the simple arithmetic mean of these values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that averages are calculated by adding the high and low values and then dividing by the total number of values considered (in this case, 2 for high and low), to prevent arithmetic hallucination and provide accurate financial metrics.</Action>

    </Rule>
<Rule id="1048" phase="generation" confidence="1" source="log_1048" type="Arithmetic_Hallucination">

        <Trigger>Calculation of differences in value between two time periods for financial metrics, such as nonvested incentive shares.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating differences in financial metrics between two time periods, the model accurately retrieves and calculates the values for both periods, applying the correct arithmetic operations (e.g., subtraction) to derive the correct difference, and consider all relevant factors such as the number of shares and their respective fair values.</Action>

    </Rule>
<Rule id="1048" phase="generation" confidence="1" source="log_1048" type="Arithmetic_Hallucination">

        <Trigger>When calculating future noncancelable minimum rent amounts for multiple years, the presence of explicit numerical values for each year indicates a need for summation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided numerical values for different periods are summed to obtain the total, rather than selecting or hallucinating a single value.</Action>

    </Rule>
<Rule id="1050" phase="generation" confidence="1" source="log_1050" type="Arithmetic_Hallucination">

        <Trigger>When calculating expected balances or values based on percentage changes or historical data, and the model's response does not reflect the correct order of magnitude or scale.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentage increases or historical data comparisons correctly apply the percentage change to the base value and maintain the appropriate order of magnitude, considering the context of financial data which often involves large numbers and significant figures.</Action>

    </Rule>
<Rule id="1050" phase="generation" confidence="1" source="log_1050" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving large numbers or decimal places</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by maintaining consistent decimal places throughout calculations, especially when dealing with percentages and large numerical values. KNOWLEDGE INJECTION: Verify that the calculation methodology correctly applies the percentage change formula: ((New Value - Old Value) / Old Value) * 100.</Action>

    </Rule>
<Rule id="1051" phase="generation" confidence="1" source="log_1051" type="Arithmetic Hallucination">

        <Trigger>Comparing percentage changes across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Calculate percentage changes for each period separately, then compare the results by subtracting the percentage change of the shorter period from the percentage change of the longer period to find the difference in percentage change, not the percentage difference of the two percentage changes.</Action>

    </Rule>
<Rule id="1052" phase="generation" confidence="1" source="log_1052" type="Program Logic Failure">

        <Trigger>Calculating returns over multiple periods and comparing them</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that when comparing returns over different periods, the correct approach involves calculating the percentage return for each period and then finding the difference or ratio as required by the question, rather than directly comparing or manipulating the percentage values without considering the context of the comparison.</Action>

    </Rule>
<Rule id="1053" phase="generation" confidence="1" source="log_1053" type="Incorrect Context Retrieval">

        <Trigger>Identifying relevant data points for percentage change calculations across specified time frames</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct starting and ending values for each period in question are identified and used in calculations, and that these values are applied to the correct formula for percentage change, avoiding confusion between different periods or data points.</Action>

    </Rule>
<Rule id="1052" phase="generation" confidence="1" source="log_1052" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentage changes, are performed with precise calculation methods, avoiding premature rounding and ensuring the use of exact values until final presentation.</Action>
    </Rule>
<Rule id="1053" phase="generation" confidence="1" source="log_1053" type="Arithmetic_Hallucination">

        <Trigger>When calculating multi-year returns, especially in scenarios involving percentages or ratios over time, and the model response includes a percentage sign (%) without proper context or calculation verification.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify if the calculated return value should be presented as a percentage by checking the context for percentage indicators or requirements. KNOWLEDGE INJECTION: Ensure that the calculation methodology aligns with financial conventions for returns over multiple periods, including correct handling of percentage signs and values.</Action>

    </Rule>
<Rule id="1054" phase="generation" confidence="1" source="log_1054" type="ArithmeticHallucination">

        <Trigger>When calculating percentage changes or totals across different time periods or geographical locations, and the model response does not match the expected format of a percentage or total value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values are correctly summed or calculated according to the context (e.g., totals for different regions or time periods) before applying percentage change calculations. KNOWLEDGE INJECTION: Verify that the calculation aligns with the required output format, whether it's a percentage or an absolute value, and apply the correct mathematical operations to achieve the desired outcome.</Action>

    </Rule>
<Rule id="1055" phase="generation" confidence="1" source="log_1055" type="OutputFormattingError">
        <Trigger>Percentage calculation questions</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always include the percentage sign (%) in the answer when the question explicitly asks for a percent increase or decrease.</Action>
    </Rule>
<Rule id="1056" phase="generation" confidence="1" source="log_1056" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of net sales decline attributable to a specific program, and the model provides an incorrect formula or calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct percentage calculation formula is applied, where the percentage is calculated as (attributable amount / total decline amount) * 100, and not as a proportion of the percentage decline itself.</Action>

    </Rule>
<Rule id="1058" phase="generation" confidence="1" source="log_1058" type="ArithmeticHallucination">

        <Trigger>Percentage calculations involving financial metrics, such as credit facilities and accounts receivables, where the model provides a response without proper contextualization of the units or scale of the numbers involved.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in financial contexts, the model properly accounts for the scale of the numbers (e.g., recognizing that a result of 0.45 is significantly different from 45) and correctly applies units (e.g., percentage vs. whole numbers) to avoid misinterpretation of financial data.</Action>

    </Rule>
<Rule id="1059" phase="generation" confidence="1" source="log_1059" type="Arithmetic Hallucination">

        <Trigger>When calculating total income or expenses, and the model's response does not match the expected result, indicating a potential miscalculation or omission of relevant addends or subtrahends.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant income and expense components, including but not limited to fees, non-operating costs, and other income, are accurately identified and summed to obtain the total other income less fees, avoiding arithmetic hallucination by meticulously accounting for each financial element mentioned in the context.</Action>

    </Rule>
<Rule id="1060" phase="generation" confidence="1" source="log_1060" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of lease terms due in a specific year, involving multiple types of leases (operating and capital leases) with different payment schedules.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of total non-cancelable lease terms due in a specific year, ensure that the numerator only includes the payments due in that year for both operating and capital leases, and the denominator includes the total minimum lease payments for all leases with terms in excess of one year. KNOWLEDGE INJECTION: Verify that the calculation accurately reflects the proportion of lease payments due in the specified year relative to the total lease payments, considering the distinction between operating and capital leases.</Action>

    </Rule>
<Rule id="1060" phase="generation" confidence="1" source="log_1060" type="ProgramLogicFailure">

        <Trigger>Comparison of expenses across different categories, such as advertising costs and R&amp;D expenses, without considering the specific financial context or year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing expenses, the model verifies that it is comparing the correct categories for the same time period and considers all relevant financial information provided in the context before making a conclusion.</Action>

    </Rule>
<Rule id="1061" phase="generation" confidence="1" source="log_1061" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving decimal or percentage values as inputs, particularly when comparing financial metrics across different years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent growth or decline, ensure to convert percentage values to decimal form before applying the percentage change formula: ((New Value - Old Value) / Old Value) * 100, and verify that the correct order of operations is followed to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1062" phase="generation" confidence="1" source="log_1062" type="Arithmetic_Hallucination">

        <Trigger>When calculating market share or total value of common stock and the model provides an answer that corresponds to the number of holders of record instead of a financial value or percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for market share or total value of common stock is based on the correct financial metrics such as stock price and total shares outstanding, rather than the number of holders of record.</Action>

    </Rule>
<Rule id="1063" phase="generation" confidence="1" source="log_1063" type="Arithmetic_Hallucination">

        <Trigger>When calculating total operating expenses and a percentage of these expenses is given for a specific cost component, such as fuel expense</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total operating expenses is derived by dividing the given expense component by its percentage of the total, using the formula: Total Expenses = (Specific Expense / Percentage of Total Expenses), to avoid incorrect estimations or hallucinations of the total expense value</Action>

    </Rule>
<Rule id="1065" phase="generation" confidence="1" source="log_1065" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage change involving subtraction of two values to determine the denominator, where the subtraction yields a relatively small number compared to the numerator.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of change based on differences between two values (e.g., year-over-year changes), the model accurately accounts for the signs and magnitudes of the changes in both the numerator and the denominator, avoiding division by small numbers that may lead to disproportionately large results without proper context or adjustment.</Action>

    </Rule>
<Rule id="1066" phase="generation" confidence="1" source="log_1066" type="Arithmetic_Hallucination">

        <Trigger>When calculating changes in financial obligations over time, and the model response does not match the expected percentage change based on provided numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated correctly by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to get the percentage change, rather than providing an absolute numerical value without context.</Action>

    </Rule>
<Rule id="1067" phase="generation" confidence="1" source="log_1067" type="Arithmetic_Hallucination">

        <Trigger>Calculation of differences in financial gains or losses between two periods, where the model response is significantly divergent from the expected answer, suggesting a failure in arithmetic operations or data retrieval.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data points for the specified years are correctly retrieved and that the calculation of differences (subtraction or addition as appropriate) between the two periods is accurately performed, taking into account the correct mathematical operations and the signs of the values (positive for gains, negative for losses).</Action>

    </Rule>
<Rule id="1067" phase="generation" confidence="1" source="log_1067" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages that represent portions of a whole, especially in the context of revenues derived from a specific number of tenants or entities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total percentage is divided by the correct number of entities or tenants to find the average percentage per entity, avoiding arithmetic hallucination by verifying that the calculation accurately reflects the proportion of revenues each entity represents.</Action>

    </Rule>
<Rule id="1069" phase="generation" confidence="1" source="log_1069" type="ArithmeticError">

        <Trigger>Percentage change calculations involving negative numbers or decreases in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, considering the possibility of negative results which indicate a decrease, and carefully handling the signs to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1070" phase="generation" confidence="1" source="log_1070" type="Arithmetic Hallucination">

        <Trigger>When calculating aggregate values such as total square footage from multiple facilities, and the model's response does not match the expected sum.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values mentioned in the context are accurately summed, considering each facility's contribution to the total, to prevent under or overestimation of the aggregate value.</Action>

    </Rule>
<Rule id="1071" phase="generation" confidence="1" source="log_1071" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage of shares withheld for tax purposes</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage of shares withheld is calculated based on the total number of shares to which the withholding applies, not the total number of shares purchased or any other irrelevant total.</Action>
    </Rule>
<Rule id="1071" phase="generation" confidence="1" source="log_1071" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation involving two variables from different categories (e.g., allowance for borrowed funds and allowance for other funds) in a financial reasoning context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving two distinct financial metrics, the correct divisor is identified and used from the relevant category (e.g., total or other funds), and apply the formula correctly as (specific metric / relevant total or base metric) * 100 to obtain the percentage</Action>

    </Rule>
<Rule id="1073" phase="generation" confidence="1" source="log_1073" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total amounts that are payable after a specific year, especially in the context of lease commitments or similar financial obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant amounts, including those payable in the specified year and thereafter, are correctly summed before calculating the percentage, and verify that the calculation includes all necessary components without excluding any part of the total obligation.</Action>

    </Rule>
<Rule id="1074" phase="generation" confidence="1" source="log_1074" type="Program_Logic_Failure">

        <Trigger>Upon encountering a question that requires the calculation of a percentage based on future commitments, such as operating leases, where specific years and amounts are provided.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the correct calculation of percentages involves dividing the specific portion of interest (e.g., amounts payable after a certain year) by the total of all relevant portions (e.g., all years' amounts), and then multiplying by 100 to obtain the percentage, ensuring that no year's amount is overlooked in the total sum.</Action>

    </Rule>
<Rule id="1074" phase="generation" confidence="1" source="log_1074" type="Arithmetic_Hallucination">

        <Trigger>Calculating cumulative total shareholder return over a period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of cumulative total shareholder return involves determining the percentage change from the initial to the final value, using the formula: ((Final Value - Initial Value) / Initial Value) * 100, and verify that all intermediate values are correctly considered in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1075" phase="generation" confidence="1" source="log_1075" type="Program_Logic_Failure">

        <Trigger>Multiple data points are provided for calculating cumulative return over time</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating cumulative returns over multiple periods, ensure that the model correctly applies the formula for cumulative return, considering the initial and final values of the stock, and accurately computes the percentage change to provide the correct cumulative total shareholder return.</Action>

    </Rule>
<Rule id="1076" phase="generation" confidence="1" source="log_1076" type="Incorrect_Context_Retrieval">

        <Trigger>Identifying the correct initial and final values for the calculation of cumulative total shareholder return</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model correctly identifies and retrieves the initial and final values of the stock from the provided context, ensuring that these values correspond to the specified start and end dates of the period in question, to accurately calculate the cumulative total shareholder return.</Action>

    </Rule>
<Rule id="1074" phase="generation" confidence="1" source="log_1074" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage return on assets and the model response is significantly lower than expected or equals zero, indicating a possible arithmetic error or missing calculation step.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the formula for calculating the return on assets is correctly applied, including ensuring all relevant figures such as the gain or income and the total assets are accurately identified and used in the calculation. KNOWLEDGE INJECTION: Confirm that the model understands the return on assets formula as net income divided by total assets, and that it can correctly apply this formula to given financial data.</Action>

    </Rule>
<Rule id="1075" phase="generation" confidence="1" source="log_1075" type="Arithmetic_Hallucination">

        <Trigger>When calculating net valuation allowance and encountering discrete tax benefits associated with entity re-organizations or release of valuation allowances</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of the valuation allowance, including initial balances, changes due to discrete tax benefits, and any releases of valuation allowances, are accurately accounted for and summed to calculate the net valuation allowance</Action>

    </Rule>
<Rule id="1076" phase="generation" confidence="1" source="log_1076" type="ProgramLogicFailure">

        <Trigger>Comparison of target metrics against current performance metrics to determine achievement of objectives</Trigger>

        <Action>CRITICAL FORMATTING RULE: When evaluating whether a firm has met its objectives, ensure that the current metrics are compared against the target metrics, and provide a qualitative answer (e.g., "yes" or "no") based on this comparison, rather than solely reporting the current metric value.</Action>

    </Rule>
<Rule id="1078" phase="generation" confidence="1" source="log_1078" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages from given totals and subsets, especially in financial contexts involving contracts or commitments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentages are calculated by dividing the subset value by the total value and then multiplying by 100, while being mindful of the specific context or time frame (e.g., year) being queried to avoid incorrect denominators or numerators in the calculation.</Action>

    </Rule>
<Rule id="1078" phase="generation" confidence="1" source="log_1078" type="Arithmetic Hallucination">

        <Trigger>Calculating the percentage of total cash payments required for specific financial obligations, such as long-term debt maturities, rental payments, and other commitments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial obligations, including long-term debt and other commitments, are accurately summed and then divided by the total contractual obligations to calculate the correct percentage, avoiding rounding errors and confirming the accuracy of the decimal places.</Action>

    </Rule>
<Rule id="1080" phase="generation" confidence="1" source="log_1080" type="ArithmeticHallucination">
        <Trigger>Percentage calculations involving stock prices or financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial calculations are precisely performed and then rounded according to the context or standard financial rounding practices to provide accurate and contextually appropriate answers</Action>
    </Rule>
<Rule id="1080" phase="generation" confidence="1" source="log_1080" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage return on assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage returns, ensure that the return value is correctly divided by the base value and then multiplied by 100 to obtain the percentage, without introducing intermediate rounding errors.</Action>

    </Rule>
<Rule id="1082" phase="generation" confidence="1" source="log_1082" type="ProgramLogicFailure">
        <Trigger>Change in inventory levels affecting cash flow from operations</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating the effect of inventory changes on cash flow from operations, ensure that an increase in inventory levels is correctly accounted for as a reduction in cash flow, and a decrease in inventory levels is accounted for as an increase in cash flow.</Action>
    </Rule>
<Rule id="1083" phase="generation" confidence="1" source="log_1083" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed as (New Value - Old Value) / Old Value * 100 to avoid arithmetic hallucination, and verify the sign of the result to correctly indicate increase or decrease.</Action>

    </Rule>
<Rule id="1083" phase="generation" confidence="1" source="log_1083" type="ProgramLogicFailure">

        <Trigger>Comparing the quantities of two entities, where the context provides separate information about each entity's attributes, but the question asks for a comparison between them.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison is made between the relevant attributes of the two entities mentioned in the question, rather than solely relying on the provided totals or averages. KNOWLEDGE INJECTION: Recognize that a "yes" or "no" answer often requires a qualitative comparison rather than a quantitative calculation.</Action>

    </Rule>
<Rule id="1085" phase="generation" confidence="1" source="log_1085" type="Arithmetic Verification Failure">

        <Trigger>Calculation of percentages involving declared dividends and retained earnings</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the formula for calculating the percentage of dividends declared to the amount available in retained earnings is correctly applied as (dividend amount / retained earnings amount) * 100, ensuring accurate division and multiplication operations.</Action>

    </Rule>
<Rule id="1085" phase="generation" confidence="1" source="log_1085" type="Arithmetic_Hallucination_Error">

        <Trigger>Encountering a question that requires summing or aggregating financial values, especially when the context mentions multiple types of assets or accounts (e.g., cash and securities) to be considered for a total value calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial components are correctly summed and unit conversions (if necessary) are properly handled before providing the final numerical answer, paying close attention to the precision and scale (e.g., millions, billions) specified in the question.</Action>

    </Rule>
<Rule id="1087" phase="generation" confidence="1" source="log_1087" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage change is applied correctly, using the formula: ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic errors and provide accurate results.</Action>

    </Rule>
<Rule id="1088" phase="generation" confidence="1" source="log_1088" type="ArithmeticHallucination">

        <Trigger>Calculations involving percentage changes or differences between two numerical values, especially when determining increases or decreases over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied accurately, and the result is expressed as a percentage. KNOWLEDGE INJECTION: Verify that the calculation accounts for the correct order of operations and that the final result is appropriately formatted as a percentage, including the percentage sign (%).</Action>

    </Rule>
<Rule id="1089" phase="generation" confidence="1" source="log_1089" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change involving a previous and current value, particularly in the context of interest rates or financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change between two values, ensure the formula is correctly applied as ((Current Value - Previous Value) / Previous Value) * 100, and verify the order of subtraction to maintain consistency with the problem's requirement for a percentage increase or decrease.</Action>

    </Rule>
<Rule id="1090" phase="generation" confidence="1" source="log_1090" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two consecutive years in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are rounded to the appropriate number of significant figures or decimal places as required by the context, to prevent minor precision errors from affecting the final answer</Action>

    </Rule>
<Rule id="1091" phase="generation" confidence="1" source="log_1091" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of future payments under noncancelable operating leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentages by dividing the sum of future payments due after the specified year by the total of all future payments, and then multiplying by 100 to obtain the correct percentage</Action>

    </Rule>
<Rule id="1092" phase="generation" confidence="1" source="log_1092" type="Arithmetic_Hallucination">

        <Trigger>When calculating the increase in balance over two years, the model provides a numerical value that doesn't match the expected percentage change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage increase.</Action>

    </Rule>
<Rule id="1092" phase="generation" confidence="1" source="log_1092" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage decrease between two financial periods, especially in the context of expenses such as pretax pension expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage decrease is calculated using the formula ((Original Value - New Value) / Original Value) * 100, and verify that all values are correctly extracted from the context before performing the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1093" phase="generation" confidence="1" source="log_1093" type="ProgramLogicFailure/AithmeticHallucination">
        <Trigger>Percentage calculations involving financial commitments or totals that require rounding to a specific percentage or format.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations are rounded appropriately to match the expected answer format, especially in contexts where specific percentage values are implied as correct answers.</Action>
    </Rule>
<Rule id="1094" phase="generation" confidence="1" source="log_1094" type="Arithmetic Hallucination">

        <Trigger>When the question asks for an average value over a range of years and the model responds with "insufficient data" despite the presence of relevant numerical data in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model checks for the presence of all necessary numerical data (e.g., sales figures, operating profits) within the given context before responding with "insufficient data". KNOWLEDGE INJECTION: The model should be able to recognize patterns and relationships between different types of financial data (e.g., operating profit, net sales) and apply basic arithmetic operations (e.g., averaging) to derive the correct answer.</Action>

    </Rule>
<Rule id="1095" phase="generation" confidence="1" source="log_1095" type="arithmetic_hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, to obtain the percentage decrease or increase, and verify that the calculation is performed on the relevant financial metrics and time periods mentioned in the question</Action>

    </Rule>
<Rule id="1097" phase="generation" confidence="1" source="log_1097" type="ArithmeticHallucinationAndContextMisinterpretation">
        <Trigger>Percentage change calculations and potential mix-ups between financial terms (e.g., revenue vs. earnings)</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all financial terms are clearly defined and understood in the context of the question. KNOWLEDGE INJECTION: Always verify the mathematical operations applied to calculate original values from percentage changes, ensuring the correct interpretation of the task and accurate application of mathematical concepts.</Action>
    </Rule>
<Rule id="1098" phase="generation" confidence="1" source="log_1098" type="Arithmetic_Hallucination">

        <Trigger>Change calculation between two time periods, especially when calculating differences in financial metrics such as net outflows.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in financial metrics over time, ensure to subtract the earlier value from the later value to obtain the correct direction and magnitude of change, and verify the sign of the result to correctly represent an increase or decrease.</Action>

    </Rule>
<Rule id="1098" phase="generation" confidence="1" source="log_1098" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total yearly interest expense for multiple debt securities with different coupon rates and principal amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total yearly interest expense is calculated by summing the individual interest expenses for each debt security, where each individual interest expense is calculated as the product of the principal amount and the corresponding coupon rate</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_1001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving net earnings from consecutive years in pro forma financials</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by using the formula ((Current Year Value - Previous Year Value) / Previous Year Value) * 100 to calculate percentage changes, and verify the precision of the calculation to prevent rounding errors</Action>

    </Rule>
<Rule id="1101" phase="generation" confidence="1" source="log_1101" type="ComparisonError">

        <Trigger>When comparing the weighted average useful life of two or more entities, such as acquired rights to use technology and localization, to determine which is greater.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison is performed based on the values of the weighted average useful life, and the response is generated as a qualitative assessment (e.g., "yes" or "no") rather than a quantitative value, to correctly answer the question.</Action>

    </Rule>
<Rule id="1101" phase="generation" confidence="1" source="log_1101" type="Arithmetic_Hallucination">

        <Trigger>Calculation of efficiency ratio in financial reports, particularly when noninterest expenses and net revenues are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the efficiency ratio is calculated by dividing noninterest expenses by net revenue, and then multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that all components of noninterest expenses and net revenues are accurately identified and included in the calculation.</Action>

    </Rule>
<Rule id="1102" phase="generation" confidence="1" source="log_1102" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods, where the model is expected to determine the decrease or increase between two specific points in time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the direction of change (increase or decrease) is accurately represented by applying the correct mathematical operation (subtraction or addition) and maintaining the appropriate sign (+ for increase, - for decrease) in the final result.</Action>

    </Rule>
<Rule id="1103" phase="generation" confidence="1" source="log_1103" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving decimal values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentage calculations, are carried out with precise decimal handling to avoid rounding errors.</Action>
    </Rule>
<Rule id="1104" phase="generation" confidence="1" source="log_1104" type="ArithmeticHallucination">

        <Trigger>Calculating percentage return differences between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage returns are calculated correctly by using the formula: ((End Value - Start Value) / Start Value) * 100, and then find the difference between the two calculated percentage returns, considering the possibility of equal returns which would result in a 0% difference</Action>

    </Rule>
<Rule id="1105" phase="generation" confidence="1" source="log_1105" type="Arithmetic Hallucination">

        <Trigger>Calculation of differences or changes between financial values, such as weighted average fair values of options or total fair values of shares vested, across different years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values are correctly retrieved and used in calculations, and verify that the mathematical operations (e.g., subtraction, division) are accurately applied to obtain the desired metric, such as a decrease or percentage change.</Action>

    </Rule>
<Rule id="1106" phase="generation" confidence="1" source="log_1106" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multi-year stock performance comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase calculations are performed using the formula ((NewValue - OldValue) / OldValue) * 100, and verify that the old and new values are correctly identified as the starting and ending points of the comparison period, respectively</Action>

    </Rule>
<Rule id="1107" phase="generation" confidence="1" source="log_1107" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or periods, especially when comparing previous and current values in financial statements.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always apply the formula for percentage change correctly, which is ((New Value - Old Value) / Old Value) * 100, ensuring the proper order of operations and accurate identification of the new and old values based on the context provided.</Action>

    </Rule>
<Rule id="1108" phase="generation" confidence="1" source="log_1108" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving numerical values from different time periods or categories, especially when the result needs to be rounded to a whole number or to a specific decimal place.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed with precise arithmetic operations and then rounded appropriately according to the context's requirements, avoiding unnecessary decimal places unless explicitly required.</Action>

    </Rule>
<Rule id="1109" phase="generation" confidence="1" source="log_1109" type="ArithmeticPrecisionError">
        <Trigger>Calculation of percentage growth or change involving decimal points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations are performed with full precision until the final answer is derived, then round as necessary for the context.</Action>
    </Rule>
<Rule id="1111" phase="generation" confidence="1" source="log_1111" type="Arithmetic_Hallucination">

        <Trigger>Calculating rate of return on investment across multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the rate of return is calculated as the percentage change between the initial and final values, taking into account the correct time frame and avoiding incorrect rounding or truncation of intermediate calculations</Action>

    </Rule>
<Rule id="1112" phase="generation" confidence="1" source="log_1112" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing consideration of start and end dates when calculating returns over a specified period</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation of returns accounts for the exact start and end dates provided in the context, and apply the correct formula to calculate the rate of return over the specified time frame</Action>

    </Rule>
<Rule id="1113" phase="generation" confidence="1" source="log_1113" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to identify or incorrectly identifying the relevant data points for calculating returns within the given context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model retrieves and uses the correct and relevant index values corresponding to the start and end dates of the investment period in question, without relying on irrelevant or outdated information</Action>

    </Rule>
<Rule id="0001" phase="generation" confidence="1" source="log_0001" type="Arithmetic_Hallucination">

        <Trigger>Calculating debt ratios, especially when determining short-term debt as a percentage of long-term debt, across different financial years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant debt figures are accurately identified and converted into the same units before calculating percentages, and verify that the correct formula is applied (i.e., (short-term debt / long-term debt) * 100) to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1112" phase="generation" confidence="1" source="log_1112" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving percentages of totals, especially in the context of reserve balances or financial metrics, where precise arithmetic operations are critical.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of totals, all components (such as extensions, discoveries, and other additions) are accurately summed and the correct total is used as the denominator to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>Calculating operating income percentage for a specific segment or period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values, including net sales and operating income for the specified segment and period, are accurately extracted and correctly applied to the formula for calculating the operating income percentage, avoiding arithmetic errors such as incorrect division or multiplication.</Action>

    </Rule>
<Rule id="1114" phase="generation" confidence="1" source="log_1114" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a total, especially in geographic distribution or market segment analysis</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the division to calculate the percentage is performed with precise decimal places, and then round the result to the appropriate significant figure, avoiding premature rounding that could lead to inaccurate percentages</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total pension and postretirement plans due in a specific year, where multiple benefit types are involved</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation by summing benefits due in the specified year for all relevant benefit types, then dividing by the total of all benefit types before applying the percentage formula, and round the result to the appropriate decimal place as per the context or question requirements</Action>

    </Rule>
<Rule id="1116" phase="generation" confidence="1" source="log_1116" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or financial metrics, where the model's response does not accurately reflect the difference between the two values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the signs of the values are correctly interpreted to determine if the result is a decrease or an increase.</Action>

    </Rule>
<Rule id="1118" phase="generation" confidence="1" source="log_1118" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage decrease between two years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage decrease, ensure to apply the formula ((initial_value - final_value) / initial_value) * 100 to obtain the correct percentage change, rather than just subtracting the values.</Action>

    </Rule>
<Rule id="1118" phase="generation" confidence="1" source="log_1118" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of the estimated purchase price recorded as acquisition cost, and the model provides an incorrect numerical response</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the acquisition cost is correctly calculated as a percentage of the total estimated purchase price by dividing the direct acquisition costs by the total estimated purchase price and then multiplying by 100 to obtain the percentage</Action>

    </Rule>
<Rule id="1120" phase="generation" confidence="1" source="log_1120" type="Arithmetic Hallucination">

        <Trigger>Customer penetration calculation in a specific market area</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the customer penetration rate is calculated as the ratio of the number of customers in the specified market area to the estimated population served in that area, expressed as a percentage, and verify that all relevant numbers are accurately extracted and used in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1120" phase="generation" confidence="1" source="log_1120" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage representation of a specific charge in relation to pre-charge earnings, where the model's response differs from the correct answer by a margin that suggests a miscalculation or incorrect application of percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in the context of financial impairments and their impact on earnings, the formula (charge / pre-impairment earnings) * 100 is accurately applied, and verify that all relevant figures are correctly identified and used in the calculation to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1121" phase="generation" confidence="1" source="log_1121" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage contribution of a specific factor to a total change, and the factor's value and the total change value are both provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the factor's value by the total change value and then multiplying by 100, rather than simply reporting the factor's value as the answer.</Action>

    </Rule>
<Rule id="1122" phase="generation" confidence="1" source="log_1122" type="ArithmeticError">

        <Trigger>Calculation of percentage change involving a decrease in value, where the initial value is greater than the final value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change ((New Value - Old Value) / Old Value) * 100 is applied correctly, considering the sign of the change (increase or decrease) to avoid arithmetic hallucination, and verify that the result reflects the actual direction and magnitude of the change.</Action>

    </Rule>
<Rule id="1123" phase="generation" confidence="1" source="log_1123" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of change in a financial metric due to a specific component, such as cash generated by operating activities, and given the total change and the value of the component.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the percentage change is performed by dividing the specific component's value by the total change in the metric, then multiplying by 100, rather than relying on incorrect assumptions or partial information.</Action>

    </Rule>
<Rule id="1124" phase="generation" confidence="1" source="log_1124" type="Program_Logic_Failure">

        <Trigger>When given financial data that includes multiple components affecting a net change, such as cash generated, payments for acquisitions, and payments for equipment, and the task requires determining the proportion of the change due to one specific component.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that all relevant financial components are identified and correctly accounted for in the calculation, ensuring that the specific component's contribution is accurately isolated and calculated as a proportion of the total net change.</Action>

    </Rule>
<Rule id="1124" phase="generation" confidence="1" source="log_1124" type="Arithmetic Hallucination">

        <Trigger>Calculating revenues or expenses per unit (e.g., per mile, per customer) when the total revenues and total units are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total revenues are divided by the total units (e.g., miles) without introducing unnecessary decimal places or incorrect arithmetic operations, and verify the unit of measurement for the result to prevent errors in magnitude or scale.</Action>

    </Rule>
<Rule id="1125" phase="generation" confidence="1" source="log_1125" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values over multiple periods, especially for financial metrics such as long-term debt, and the model's response significantly diverges from the expected range based on given context values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all non-zero values are correctly summed and then divided by the total number of periods considered, even if some periods have zero values, to accurately compute averages and prevent arithmetic hallucination.</Action>

    </Rule>
<Rule id="1126" phase="generation" confidence="1" source="log_1126" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentage changes between two time periods based on given fair values or prices, especially when comparing year-over-year changes in financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating growth rates, ((New Value - Old Value) / Old Value) * 100, is applied accurately, taking into account the correct old and new values for the specific time period in question, and verify that all arithmetic operations are performed correctly to avoid precision errors.</Action>

    </Rule>
<Rule id="1128" phase="generation" confidence="1" source="log_1128" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of components within a total, especially when considering changes over time such as additions to reserves.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentages by correctly identifying the total and the component of interest, and apply the formula: (component / total) * 100, considering all relevant additions and changes over the specified period.</Action>

    </Rule>
<Rule id="1129" phase="generation" confidence="1" source="log_1129" type="ArithmeticCalculationError">
        <Trigger>Calculating percentage changes in financial metrics, such as interest expense, across different periods.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations, especially those involving percentage changes, are performed with precision and rounded appropriately to match the expected format or significant figures required by the context.</Action>
    </Rule>
<Rule id="1130" phase="generation" confidence="1" source="log_1130" type="ArithmeticHallucination">
        <Trigger>Questions involving calculation of percentage changes over time, especially those related to financial metrics such as additions to property, plant, and equipment.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes over time, ensure to apply the percentage change formula correctly: ((New Value - Old Value) / Old Value) * 100, to provide the percentage increase or decrease.</Action>
    </Rule>
<Rule id="1130" phase="generation" confidence="1" source="log_1130" type="Arithmetic_Hallucination_Error">

        <Trigger>Calculating the proportion of expected payments incurred within a specific time frame, where the total expected payments and the amount expected to be incurred are given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the proportion of an amount within a subset of a timeframe, the correct formula is applied by dividing the subset amount by the total amount and then multiplying by 100 to obtain the percentage, considering all decimal places for accuracy.</Action>

    </Rule>
<Rule id="1131" phase="generation" confidence="1" source="log_1131" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the correct formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and apply this formula to the specific years mentioned in the question to find the exact percentage change asked for, without calculating unnecessary averages or percentages for other year combinations.</Action>

    </Rule>
<Rule id="1132" phase="generation" confidence="1" source="log_1132" type="Program_Logic_Failure">

        <Trigger>Calculating average percentage change over multiple years when only a specific year's percentage change is requested</Trigger>

        <Action>KNOWLEDGE INJECTION: Identify the specific time frame mentioned in the question and only calculate the percentage change for that period, avoiding unnecessary calculations for other periods or averages that are not requested.</Action>

    </Rule>
<Rule id="1133" phase="generation" confidence="1" source="log_1133" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to identify the specific years or values relevant to the question asked</Trigger>

        <Action>CRITICAL FORMATTING RULE: Carefully read the question to identify the specific years or values that are relevant to the calculation requested, and ensure that the calculation is performed using these values, ignoring any irrelevant information provided in the context.</Action>

    </Rule>
<Rule id="1132" phase="generation" confidence="1" source="log_1132" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of the total purchase price consideration represented by goodwill, and the model response is significantly lower than expected.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values are converted to the same unit (e.g., millions or thousands) before performing percentage calculations, and verify that the formula used is (goodwill / total purchase price consideration) * 100.</Action>

    </Rule>
<Rule id="1133" phase="generation" confidence="1" source="log_1133" type="SignError">
        <Trigger>Calculation of the effect of a change in financial values, such as changes in accounting principles on intangible assets.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the correct application of mathematical signs when calculating differences between reported and adjusted financial values to reflect increases or decreases accurately.</Action>
    </Rule>
<Rule id="1134" phase="generation" confidence="1" source="log_1134" type="Arithmetic Hallucination">

        <Trigger>Questions asking for percentage point changes in financial ratios or requirements, especially when the context involves comparisons over time or between different standards or regulations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that percentage changes are clearly formatted as such (e.g., including the percentage sign (%) when relevant) to avoid misleading or incomplete answers that might confuse numerical values with their percentage representations.</Action>

    </Rule>
<Rule id="1135" phase="generation" confidence="1" source="log_1135" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios involving financial metrics such as depreciation and amortization, and the input data provides sales or revenue figures for different market segments over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model searches for and extracts all relevant financial metrics, including depreciation and amortization, from the provided context, even if they are not explicitly mentioned in the question, and calculate the ratio based on the extracted values.</Action>

    </Rule>
<Rule id="1136" phase="generation" confidence="1" source="log_1136" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage growth or difference between two sets of financial data, particularly when comparing projected benefit payments across different regions or years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating growth rates or differences in financial metrics, the formula correctly accounts for the percentage change by using the formula: ((New Value - Old Value) / Old Value) * 100, and apply this consistently across all comparable data sets to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1138" phase="generation" confidence="1" source="log_1138" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure the correct application of the formula (new value - old value) / old value, and verify that a decrease in value results in a negative percentage change, while an increase in value results in a positive percentage change</Action>

    </Rule>
<Rule id="1139" phase="generation" confidence="1" source="log_1139" type="Arithmetic_Hallucination">

        <Trigger>Repurchase of shares with aggregate cost mentioned in the context, requiring calculation of average price per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the average price per share is calculated by dividing the total aggregate cost by the total number of shares repurchased, considering all relevant years mentioned in the context to avoid incorrect aggregation.</Action>

    </Rule>
<Rule id="1140" phase="generation" confidence="1" source="log_1140" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving multiple time periods and monetary values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change between two time periods, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation accounts for potential negative changes, indicating a decline.</Action>

    </Rule>
<Rule id="1140" phase="generation" confidence="1" source="log_1140" type="ComparativeAnalysisError">

        <Trigger>Comparing the performance of a specific financial entity against a broader financial index to determine outperformance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When evaluating the outperformance of a financial entity against a benchmark index, ensure that the calculation compares the percentage change or absolute change in value over the same time period for both the entity and the index, rather than relying on absolute values or incorrect comparisons.</Action>

    </Rule>
<Rule id="1141" phase="generation" confidence="1" source="log_1141" type="ArithmeticHallucination">

        <Trigger>Percentage calculation involving total and subset values, especially in contexts of expenditures or financial allocations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the subset value is correctly divided by the total value, and the result is then multiplied by 100 to obtain the percentage, while also verifying the correct placement of the percentage sign in the final answer</Action>

    </Rule>
<Rule id="1142" phase="generation" confidence="1" source="log_1142" type="Arithmetic_Hallucination">

        <Trigger>Debt to equity ratio calculation with given total liabilities and total assets for a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the debt to equity ratio is calculated as total liabilities divided by (total assets - total liabilities), and verify that all variables are correctly extracted from the context before performing the calculation</Action>

    </Rule>
<Rule id="1144" phase="generation" confidence="1" source="log_1144" type="ArithmeticError">

        <Trigger>Percent change calculations involving differences in financial values over time, particularly in the context of fair values and earnings on deposits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change in financial values, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, considering all components such as the difference in fair values and earnings on deposits, to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1145" phase="generation" confidence="1" source="log_1145" type="Arithmetic Hallucination">

        <Trigger>Discrete income tax charge for valuation allowances and deferred tax assets calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of valuation allowance for deferred tax assets, all relevant discrete income tax charges are accurately allocated and computed, considering the specific portions of deferred tax assets they relate to, before finalizing the percentage calculation.</Action>

    </Rule>
<Rule id="1145" phase="generation" confidence="1" source="log_1145" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods in financial data, especially when calculating the change in expenses or allowances.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by recalculating percentages using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the result is correctly rounded to the appropriate decimal place or percentage format as required by the context of the question.</Action>

    </Rule>
<Rule id="1146" phase="generation" confidence="1" source="log_1146" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving reserves or quantities over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((End Value - Start Value) / Start Value) * 100, to avoid arithmetic hallucination and provide accurate percentage increase or decrease values.</Action>

    </Rule>
<Rule id="1148" phase="generation" confidence="1" source="log_1148" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that all values are correctly extracted from the relevant time periods before performing the calculation</Action>

    </Rule>
<Rule id="1148" phase="generation" confidence="1" source="log_1148" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total of a specific metric, such as commercial medical membership, and multiple relevant numbers are mentioned in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numbers mentioned in the context are summed and any potential overlaps or duplications are considered to obtain the accurate total, rather than relying on a single mentioned figure.</Action>

    </Rule>
<Rule id="1150" phase="evaluation" confidence="1" source="log_1150" type="LogicError">

        <Trigger>When comparing costs and benefits of financial transactions, such as early extinguishment of notes, and the model provides a numerical value instead of a qualitative assessment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model evaluates the relationship between costs (e.g., early extinguishment charges) and benefits (e.g., interest savings) qualitatively, determining whether one exceeds the other, rather than providing an absolute numerical value.</Action>

    </Rule>
<Rule id="1151" phase="generation" confidence="1" source="log_1151" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentages involving shares withheld for taxes, especially in the context of share-based compensation agreements and restricted stock awards.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of shares withheld for taxes, the correct formula is applied: (Number of shares withheld / Total number of shares) * 100. KNOWLEDGE INJECTION: Verify that the calculation considers the specific time frame and type of shares mentioned in the context to avoid incorrect context retrieval and ensure accurate arithmetic operations.</Action>

    </Rule>
<Rule id="1152" phase="generation" confidence="1" source="log_1152" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages from averages, especially in financial contexts involving multi-year data and totals.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always round intermediate calculations and final percentages to the appropriate number of significant figures or decimal places as required by the context or question, ensuring consistency with the expected answer format.</Action>

    </Rule>
<Rule id="1152" phase="generation" confidence="1" source="log_1152" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving large financial transactions, such as collateral exchange, where the model needs to compute the net amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating net adjustments, subtract the delivered amount from the received amount, and then apply the correct unit conversion if necessary (e.g., from billions to millions), to avoid arithmetic hallucination and provide accurate financial figures.</Action>

    </Rule>
<Rule id="1153" phase="generation" confidence="1" source="log_1153" type="ProgramLogicFailure">
        <Trigger>Calculation of totals involving multiple categories or types of items</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned categories or types are aggregated when calculating totals to avoid undercounting.</Action>
    </Rule>
<Rule id="1154" phase="generation" confidence="1" source="log_1154" type="Arithmetic_Hallucination">

        <Trigger>Question asks for percentage decrease between two time periods and model provides an absolute value instead of a percentage change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes over time, ensure that the response format matches the question's requirement, providing either an absolute difference or a percentage change as requested, and verify that the calculation correctly accounts for the difference between the two specified periods.</Action>

    </Rule>
<Rule id="1155" phase="generation" confidence="1" source="log_1155" type="Arithmetic_Hallucination">

        <Trigger>Change in balance of money pool over time, specifically when calculating cash flow affected by the difference between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures for both years are correctly identified and subtracted to find the change, and then apply this change to calculate the affected cash flow, taking into account the direction of the change (increase or decrease) and its impact on the cash flow calculation</Action>

    </Rule>
<Rule id="1157" phase="generation" confidence="1" source="log_1157" type="ArithmeticLogicFailure">
        <Trigger>Contract terms and depreciation rates are provided for calculating total expenses over a period.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that depreciation rates for both the decrease and increase in asset life are correctly applied and compounded over the contract term to calculate the total expense accurately.</Action>
    </Rule>
<Rule id="1158" phase="generation" confidence="1" source="log_1158" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two values, especially in financial contexts involving liabilities or assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, considering the order of operations and the signs of the values to avoid incorrect calculations of increases or decreases.</Action>

    </Rule>
<Rule id="1158" phase="generation" confidence="1" source="log_1158" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of owned or leased facilities, and the model is given specific numbers of total facilities and facilities in a particular region or category.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for percentages involves dividing the number of facilities in the specified category by the total number of owned facilities, and then multiplying by 100 to convert the result to a percentage, without introducing external or unrelated numbers into the calculation.</Action>

    </Rule>
<Rule id="1160" phase="postprocessing" confidence="1" source="log_1160" type="UnitOmissionError">

        <Trigger>When the model's response is a numerical value and the question asks for a percentage or ratio, check if the unit is explicitly mentioned in the response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response includes the appropriate unit (e.g., "%", "ratio", etc.) when answering questions that require a percentage or ratio, especially in financial contexts where unit precision is crucial.</Action>

    </Rule>
<Rule id="1161" phase="generation" confidence="1" source="log_1161" type="Arithmetic_Hallucination">

        <Trigger>Lease renewal or updates to contractual obligations are mentioned, and the task involves calculating total obligations after a specific year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant lease agreements and their corresponding values are accounted for in the calculation, especially those with a significant impact on future obligations. KNOWLEDGE INJECTION: Recognize that updates to lease agreements can substantially alter the total contractual obligations and must be factored into calculations for future timeframes.</Action>

    </Rule>
<Rule id="1161" phase="generation" confidence="1" source="log_1161" type="Arithmetic Hallucination">

        <Trigger>Calculating the total number of common shares outstanding using earnings per share and net earnings values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise decimal calculation when deriving share quantities from earnings per share and net earnings to prevent truncation or rounding errors, maintaining full precision until the final answer is presented</Action>

    </Rule>
<Rule id="1163" phase="generation" confidence="1" source="log_1163" type="Arithmetic_Hallucination_Error">

        <Trigger>When calculating ratios involving year-on-year changes, especially in financial contexts such as derivative and transaction gains/losses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of ratios from year-on-year changes involves dividing the change in the current year by the change in the previous year, and verify the signs of the changes (increase/decrease) to correctly compute the ratio, avoiding potential arithmetic errors due to incorrect handling of positive and negative values.</Action>

    </Rule>
<Rule id="1163" phase="generation" confidence="1" source="log_1163" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or declines in financial metrics, such as wholesale lending-related commitments, and the model response provides an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for percentage changes includes dividing the absolute difference by the original value and then multiplying by 100 to obtain the percentage, rather than just providing the absolute difference as the answer.</Action>

    </Rule>
<Rule id="1164" phase="generation" confidence="1" source="log_1164" type="Arithmetic_Hallucination">

        <Trigger>Presence of multiple types of non-vested shares or units with respective quantities mentioned in the context, requiring summation for a total value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all quantities of different types of non-vested shares or units mentioned in the context are summed together to obtain the total quantity, without omitting any category.</Action>

    </Rule>
<Rule id="1165" phase="generation" confidence="1" source="log_1165" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating growth rates or percentage changes, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly to avoid arithmetic errors, and verify that the result is expressed as a percentage.</Action>

    </Rule>
<Rule id="1167" phase="generation" confidence="1" source="log_1167" type="Arithmetic_Hallucination">

        <Trigger>Ratio calculations involving total cash and total long-term debt, where the model response does not match the expected format of a ratio (e.g., 1:50) and instead provides a numerical value that does not accurately represent the relationship between the two financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios of financial metrics such as total cash to total long-term debt, ensure that the response is formatted as a ratio (e.g., 1:x) rather than a single numerical value, to accurately reflect the proportional relationship between the two metrics. KNOWLEDGE INJECTION: Verify that the calculation correctly accounts for the relationship between the numerator and denominator, considering the context of financial ratios and their typical representations.</Action>

    </Rule>
<Rule id="1168" phase="generation" confidence="1" source="log_1168" type="Arithmetic_Hallucination">

        <Trigger>When calculating combined amounts over multiple years from a financial data pool, and the model response does not match the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures mentioned for each year are accurately identified and summed to obtain the total amount, without omitting any values or including incorrect ones.</Action>

    </Rule>
<Rule id="1169" phase="generation" confidence="1" source="log_1169" type="Program_Logic_Failure">

        <Trigger>Upon encountering a series of financial values associated with different years, where the task involves aggregation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation logic correctly aggregates all specified values for the relevant time period, considering each value's contribution to the total, and applies the correct units of measurement as specified in the problem statement.</Action>

    </Rule>
<Rule id="1168" phase="generation" confidence="1" source="log_1168" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of debt obligations due in specific years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of components of a total (such as debt obligations due in specific years), the formula used accurately reflects the relationship between the part and the whole, by dividing the component by the total and then multiplying by 100 to get the percentage, taking care to include all relevant components in the calculation.</Action>

    </Rule>
<Rule id="1170" phase="generation" confidence="1" source="log_1170" type="Arithmetic_Hallucination">

        <Trigger>Percentage attribution calculations involving multiple factors, such as changes in revenue and pricing, that require accurate decomposition and proportion attribution.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage attributed to a specific factor (e.g., change in retail electric price) from a total change (e.g., increase in net revenue), the calculation correctly isolates the contribution of that factor by considering its original and changed values relative to the total, without conflating it with other factors or incorrectly scaling the attribution.</Action>

    </Rule>
<Rule id="1171" phase="generation" confidence="1" source="log_1171" type="arithmetic_error">

        <Trigger>Percentage difference calculations involving future minimum rental commitments</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences between two consecutive years, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, taking into account the order of the years and the sign of the result to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1172" phase="generation" confidence="1" source="log_1172" type="ArithmeticHallucination">
        <Trigger>Questions involving calculation of total return on investment over a specified period.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that returns are calculated as a percentage change from the initial to the final value, then apply this percentage to the initial investment amount to find the total return, maintaining consistent units throughout the calculation.</Action>
    </Rule>
<Rule id="1173" phase="generation" confidence="1" source="log_1173" type="Arithmetic Hallucination">

        <Trigger>When calculating expiration dates for lease agreements with renewal options, ensure all options are considered in the calculation to avoid premature termination dates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always sum the initial lease term with all renewal option periods to determine the total agreement duration, taking into account any specified expiration dates for each option.</Action>

    </Rule>
<Rule id="1174" phase="generation" confidence="1" source="log_1174" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change between two time periods for financial metrics, such as weighted average shares outstanding</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the change between two values, the correct order of subtraction is applied (later year value minus earlier year value) to obtain the accurate difference, and verify that the sign of the result correctly reflects an increase or decrease.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="CalculationError">
        <Trigger>When calculating totals from multiple given numerical values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all provided numerical values are included and correctly summed to calculate the total</Action>
    </Rule>
<Rule id="1175" phase="generation" confidence="1" source="log_1175" type="ContextualUnderstandingError">

        <Trigger>When calculating percentage change over time and the question specifies a time period that is not fully covered by the provided data, but related data for adjacent time periods is available.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model identifies and uses the correct time periods mentioned in the question for calculations, even if it means acknowledging the absence of data for a specific year and possibly interpolating or using available adjacent years' data correctly, while avoiding arithmetic operations on unrelated or incorrectly matched data points.</Action>

    </Rule>
<Rule id="1176" phase="generation" confidence="1" source="log_1176" type="ArithmeticHallucinationError">

        <Trigger>When the model performs arithmetic operations to calculate percentage changes between two specific time points but incorrectly selects or matches the data points for those calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a validation check to confirm that the data points used for calculating percentage changes are the correct ones as per the question's context, ensuring that the model does not mistakenly use data from incorrect time periods or unrelated values, thereby avoiding incorrect arithmetic hallucinations.</Action>

    </Rule>
<Rule id="1177" phase="generation" confidence="1" source="log_1177" type="TemporalContextError">

        <Trigger>When the question requires a calculation involving specific years and the model has access to data for those years but fails to apply it correctly due to misunderstanding the temporal context of the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the calculation aligns with the temporal requirements of the question, ensuring that the model correctly applies the data relevant to the specified time frame and avoids using data outside this frame unless explicitly required by the context of the question.</Action>

    </Rule>
<Rule id="1177" phase="generation" confidence="1" source="log_1177" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving a decrease in value from a previous period to a current period</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to correctly apply the formula (New Value - Old Value) / Old Value, and maintain the sign of the result to accurately represent increases or decreases</Action>

    </Rule>
<Rule id="1177" phase="generation" confidence="1" source="log_1177" type="Arithmetic_Hallucination">

        <Trigger>Presence of multiple values to be summed in a financial context, such as shares available under different plans</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned quantities are accurately added together, considering each source separately to avoid omission or incorrect aggregation of values</Action>

    </Rule>
<Rule id="1179" phase="generation" confidence="1" source="log_1179" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total number of shares purchased as part of publicly announced plans or programs, where the model's response does not match the ground truth, indicating a potential arithmetic error.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages, ensure that the correct total number of shares is used as the denominator, and that the numerator accurately reflects the number of shares purchased under publicly announced plans or programs. Verify that all relevant numbers are correctly retrieved from the context and that the arithmetic operations are performed accurately.</Action>

    </Rule>
<Rule id="1180" phase="generation" confidence="1" source="log_1180" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving time series data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly to avoid arithmetic errors, and verify that the result is expressed as a percentage.</Action>

    </Rule>
<Rule id="1180" phase="generation" confidence="1" source="log_1180" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods, particularly when determining decreases or increases in financial metrics over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, considering the context of increase or decrease and the specific financial metric being analyzed</Action>

    </Rule>
<Rule id="1181" phase="generation" confidence="1" source="log_1181" type="Arithmetic_Hallucination">

        <Trigger>Depreciation expense increase calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage increase, rather than merely subtracting the two values.</Action>

    </Rule>
<Rule id="1182" phase="generation" confidence="1" source="log_1182" type="ProgramLogicFailure">

        <Trigger>Comparison of Return on Equity (ROE) between different financial services, where the model incorrectly compares the change in values instead of the actual ROE values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing ROE values, ensure that the actual ROE percentages are used for comparison, not the change in values or any other irrelevant metrics. KNOWLEDGE INJECTION: Always identify and extract the relevant ROE values for each financial service being compared.</Action>

    </Rule>
<Rule id="1183" phase="generation" confidence="1" source="log_1183" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in stock options outstanding, where the model's response has an incorrect sign or magnitude compared to the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of net change in stock options outstanding correctly accounts for the difference between the beginning and ending balances, considering the direction of change (increase or decrease) and applying the correct arithmetic operation (addition or subtraction) to arrive at the accurate net change value.</Action>

    </Rule>
<Rule id="1185" phase="generation" confidence="1" source="log_1185" type="Arithmetic_Hallucination">

        <Trigger>Acquisition-related costs recorded in selling, general, and administrative expenses as a percentage of current assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant expenses are summed before calculating the percentage of current assets, including considering multiple years of data if applicable, to accurately determine the total expense as a proportion of current assets.</Action>

    </Rule>
<Rule id="1186" phase="generation" confidence="1" source="log_1186" type="Program_Logic_Failure">

        <Trigger>Calculating percentages of current assets based on multiple periods of expense data</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that when calculating percentages over multiple periods, it is essential to aggregate expenses across those periods before dividing by the current assets to obtain an accurate representation of the expense as a percentage of current assets.</Action>

    </Rule>
<Rule id="1186" phase="generation" confidence="1" source="log_1186" type="ProgramLogicFailure">
        <Trigger>Questions asking for "increase" or "decrease" in financial values over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model determines whether the question requires an absolute or percentage change in value before calculating the difference, based on keywords like "increase by" or "raised by what percent."</Action>
    </Rule>
<Rule id="1187" phase="postprocessing" confidence="1" source="log_1187" type="RoundingError">
        <Trigger>Percentage change calculations that require rounding to a specific decimal place or to the nearest whole number.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all final numerical answers are rounded according to the context or specific instructions provided in the question prompt.</Action>
    </Rule>
<Rule id="1188" phase="generation" confidence="1" source="log_1188" type="ArithmeticHallucination">

        <Trigger>Calculation of growth rate involving consecutive years' financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure percentage change calculations are performed as ((Current Year - Previous Year) / Previous Year) * 100 to avoid arithmetic errors</Action>

    </Rule>
<Rule id="1189" phase="generation" confidence="1" source="log_1189" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of total minimum lease payments due after a specific period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant lease payments, including both capital and non-cancellable operating leases, are accurately summed and considered when calculating percentages of total minimum lease payments due after a specified timeframe. KNOWLEDGE INJECTION: Verify that the calculation accounts for the total minimum lease payments and the portion due after the specified period, using the correct formula: (Total minimum lease payments due after the period / Total minimum lease payments) * 100.</Action>

    </Rule>
<Rule id="1190" phase="generation" confidence="1" source="log_1190" type="Arithmetic Hallucination">

        <Trigger>Context mentions replacement awards and exercise price per share, but the model response does not reflect a calculation involving the total number of shares or award value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the total value of awards, the model multiplies the number of awards by the exercise price per share, considering any additional relevant factors such as vesting periods or acquisition impacts, before providing a final numerical answer.</Action>

    </Rule>
<Rule id="1191" phase="generation" confidence="1" source="log_1191" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and monetary values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that the old and new values are correctly identified and ordered in time for the calculation.</Action>

    </Rule>
<Rule id="1191" phase="generation" confidence="1" source="log_1191" type="ProgramLogicFailure">
        <Trigger>Calculations involving percentages of financial statement components</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that calculations for percentages directly relate to the question's specific requirements, avoiding unnecessary averaging or misinterpretation of the financial data provided.</Action>
    </Rule>
<Rule id="1192" phase="generation" confidence="1" source="log_1192" type="Arithmetic_Hallucination">

        <Trigger>Comparing expenses of different categories across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing expenses, ensure that the correct year's data is used for both categories being compared, and verify that all relevant expenses are considered before making a comparison.</Action>

    </Rule>
<Rule id="1193" phase="generation" confidence="1" source="log_1193" type="ArithmeticError">

        <Trigger>Percent difference calculation between two financial metrics, such as total assets and net assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percent difference calculation is performed using the correct formula: ((Total Value - Net Value) / Total Value) * 100, and verify that all values are accurately retrieved from the context before performing the calculation</Action>

    </Rule>
<Rule id="1194" phase="generation" confidence="1" source="log_1194" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total expenditures associated with specific costs, such as leasing costs, in financial reasoning problems</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation is performed by dividing the specific cost by the total expenditure and then multiplying by 100 to obtain the percentage, avoiding any premature rounding or incorrect placement of the decimal point</Action>

    </Rule>
<Rule id="1195" phase="generation" confidence="1" source="log_1195" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving share quantities and exercise prices to determine total dollar amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct arithmetic operations are applied, specifically multiplication of share quantities by exercise prices, to calculate total dollar amounts, and verify the calculation logic to prevent numerical inaccuracies</Action>

    </Rule>
<Rule id="1196" phase="generation" confidence="1" source="log_1196" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating average percentage change, ensure to apply the formula correctly: ((End Value - Start Value) / Start Value) * 100, and then find the average of the individual percentage changes for each period. KNOWLEDGE INJECTION: Confirm that the direction of calculation aligns with the question's requirements, considering whether an increase or decrease is being queried.</Action>

    </Rule>
<Rule id="1197" phase="generation" confidence="1" source="log_1197" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase or decrease in financial metrics, such as free cash flow, between two time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100, rather than merely subtracting the old value from the new value. KNOWLEDGE INJECTION: Always verify the context to ensure the correct old and new values are used for the calculation.</Action>

    </Rule>
<Rule id="1198" phase="generation" confidence="1" source="log_1198" type="Arithmetic_Hallucination">

        <Trigger>Encountering a question that requires calculating a value without a specific benefit or gain, where the given information includes multiple years' data and changes in fair values of derivatives.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating a loss or gain without the benefit of a specific factor, isolate and subtract the mentioned factor's value from the total loss or gain to obtain the adjusted value, rather than incorrectly adding unrelated values from different periods.</Action>

    </Rule>
<Rule id="1200" phase="generation" confidence="1" source="log_1200" type="ArithmeticHallucination">

        <Trigger>Calculating percentage change or decrease in financial metrics, such as fair market value of plan assets, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage change, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, and verify that the response format matches the question's requirement for a percentage, rather than an absolute value or incorrect units</Action>

    </Rule>
<Rule id="1201" phase="generation" confidence="1" source="log_1201" type="ArithmeticHallucination">
        <Trigger>Presence of net expense values for multiple years and a question asking for total expense.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating total interest expense from net values provided for different years, ensure to sum the absolute values of the expenses for each year, considering the context of the question to determine if net or gross values are required.</Action>
    </Rule>
<Rule id="1201" phase="generation" confidence="1" source="log_1201" type="ArithmeticHallucination">
        <Trigger>Calculation of combined allowances for a specific year</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant allowances for the specified year are accurately identified and summed, excluding allowances from other years or irrelevant financial figures.</Action>
    </Rule>
<Rule id="1202" phase="generation" confidence="1" source="log_1202" type="ArithmeticHallucination">
        <Trigger>Calculations involving multiplication of outstanding units by per-unit values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure accurate multiplication of total units by per-unit values, verifying each step of the calculation to prevent arithmetic errors.</Action>
    </Rule>
<Rule id="1203" phase="generation" confidence="1" source="log_1203" type="Arithmetic_Hallucination">

        <Trigger>Calculation of EBIT (Earnings Before Interest and Taxes) values when given EBITDA (Earnings Before Interest, Taxes, Depreciation, and Amortization) and depreciation and amortization expenses for specific years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that EBIT is calculated by subtracting the total depreciation and amortization expenses from the EBITDA for the corresponding year, using the formula EBIT = EBITDA - (Depreciation + Amortization), for all cases involving the calculation of EBIT from given EBITDA and expense values.</Action>

    </Rule>
<Rule id="1204" phase="generation" confidence="1" source="log_1204" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the precise formula ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed without introducing rounding errors or incorrect arithmetic operations.</Action>
    </Rule>
<Rule id="1205" phase="generation" confidence="1" source="log_1205" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or financial metrics, especially when the model provides a response close to but not exactly matching the correct calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always re-evaluate and double-check arithmetic operations, especially percentage change calculations, to ensure accuracy by recalculating the difference and dividing by the original value, then multiplying by 100 to confirm the percentage change.</Action>

    </Rule>
<Rule id="1206" phase="generation" confidence="1" source="log_1206" type="Arithmetic_Hallucination">

        <Trigger>Insufficient or incorrect calculation of percentages in financial reports, particularly when calculating the proportion of total shares repurchased during a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values are accurately extracted and utilized in calculations. KNOWLEDGE INJECTION: Always verify that the calculation for percentages, such as the percentage of total shares repurchased, correctly divides the number of shares repurchased by the total number of shares and then multiplies by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="1207" phase="generation" confidence="1" source="log_1207" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages related to changes in financial balances, especially in the context of tax benefits or positions taken during prior periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages is based on the correct identification and use of the base value (the original total unrecognized tax benefits) and the change value (increases related to tax positions taken during a prior period), and that the formula for percentage change is correctly applied as (change in value / original value) * 100.</Action>

    </Rule>
<Rule id="1208" phase="generation" confidence="1" source="log_1208" type="ArithmeticError">
        <Trigger>Calculations involving percentage changes or growth rates</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, particularly those involving percentage calculations, are executed with precise values and rounding is applied only at the final presentation step to avoid intermediate rounding errors.</Action>
    </Rule>
<Rule id="1209" phase="generation" confidence="1" source="log_1209" type="Arithmetic_Hallucination">

        <Trigger>When calculating total expenses over multiple years, and the text mentions increases or decreases in expenses for each year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all expense values mentioned for each year are correctly summed, taking into account both increases and decreases, to calculate the total expenses over the specified period.</Action>

    </Rule>
<Rule id="1211" phase="generation" confidence="1" source="log_1211" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving multiple categories of commercial membership, where the model incorrectly computes the proportion of fully insured plans among total commercial medical plans.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of specific plan types within a broader category, the model sums the relevant subcategories correctly and then divides by the total category size, avoiding arithmetic hallucination by verifying the accuracy of intermediate calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="discounted_cash_flow_analysis" type="ArithmeticLogicError">
        <Trigger>Calculation of average discounted cash flow balances over multiple periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all future cash flows are discounted to their present value using an appropriate discount rate before calculating averages or totals, to accurately reflect the time value of money.</Action>
    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving numerical values from financial statements, such as net cash provided by operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the difference between the two values is calculated first, and then this difference is divided by the original value, finally multiplying by 100 to obtain the percentage, avoiding rounding errors by maintaining precision throughout the calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="arithmetic_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage calculations involving large numbers or financial data.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentages, are performed with precise decimal places before rounding to the nearest whole number or percentage, to maintain calculation accuracy.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating ratios involving financial metrics such as operating cash flow and total debt, where the model's response does not accurately reflect the provided data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all financial metrics are accurately extracted and used in calculations, and verify that the calculation logic correctly applies to the provided data to obtain the desired ratio, avoiding arithmetic hallucination by cross-checking against the given numbers.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Situations where the model fails to correctly apply the formula for calculating financial ratios, such as the ratio of operating cash flow to total debt, due to a misunderstanding of the relationship between the metrics.</Trigger>

        <Action>KNOWLEDGE INJECTION: Understand that calculating financial ratios involves dividing one financial metric by another, and ensure that the model applies the correct formula and logic to derive the ratio, considering the context and definitions of the metrics involved.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Scenarios where the model incorrectly identifies or retrieves the relevant financial data (e.g., operating cash flow and total debt) for the specified year, leading to miscalculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a rigorous data retrieval and validation process to ensure that the model accurately identifies and uses the relevant financial data for the specified time period, avoiding errors due to incorrect context retrieval.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Questions asking for increase or decrease in a metric over time, implied by phrases such as 'by how much did [metric] increase/decrease'.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes over time, determine if the question implies a need for percentage change versus absolute change, and apply the appropriate formula; KNOWLEDGE INJECTION: Recognize keywords and phrases that indicate the need for percentage calculations, such as 'increase by what percentage' or similar phrasings.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value from a previous period to a current period</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the direction of change (increase or decrease) is accurately reflected by applying the correct sign to the result, particularly when the current value is less than the previous value, to avoid incorrect representation of the change as a positive percentage when it should be negative.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of future minimum lease payments due in a specific year, and the model's response is significantly lower than expected.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly calculates percentages by dividing the amount due in the specified year by the total amount of future minimum lease payments, and then multiplying by 100 to convert the result to a percentage. KNOWLEDGE INJECTION: Verify that the model is using the correct formula for percentage calculation, which is (part/whole) * 100.</Action>

    </Rule>
<Rule id="1218" phase="generation" confidence="1" source="log_1218" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of a program remaining available for purchase, and the model's response is an absolute value (e.g., 100%) without considering the total amount allocated or spent.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages of remaining amounts are based on the total amount initially allocated for the program, taking into account any amounts already spent or utilized, to avoid arithmetic hallucination and provide accurate proportional values.</Action>

    </Rule>
<Rule id="1220" phase="generation" confidence="1" source="log_1220" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and monetary values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by reevaluating calculations, especially when determining percentage changes between consecutive periods to prevent rounding errors</Action>

    </Rule>
<Rule id="1221" phase="generation" confidence="1" source="log_1221" type="Arithmetic_Hallucination">

        <Trigger>Calculation of loss carryforwards expiration percentage</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the portion of federal operating loss carryforwards that expires within a given time frame, ensure that the calculation is performed as a percentage of the total federal loss carryforwards, rather than providing an absolute value or incorrect calculation. KNOWLEDGE INJECTION: Verify that the total amount of federal loss carryforwards is used as the denominator in the calculation to obtain the correct percentage.</Action>

    </Rule>
<Rule id="1221" phase="generation" confidence="1" source="log_1221" type="Arithmetic_Hallucination">

        <Trigger>When calculating ratios of financial metrics, such as cash income tax payments to cash interest payments, across multiple periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculated ratios for each period are correctly computed with precise arithmetic operations, and then verify if an average or a specific ratio is required by the question to avoid incorrect aggregation or misinterpretation of the task.</Action>

    </Rule>
<Rule id="1222" phase="generation" confidence="1" source="log_1222" type="Program_Logic_Failure">

        <Trigger>Upon encountering a question that requires a comparison or aggregation of financial data across different time periods.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the question might implicitly or explicitly ask for a specific year's ratio or an average ratio across multiple years, and adjust the calculation logic accordingly to provide the correct answer based on the question's requirements.</Action>

    </Rule>
<Rule id="1223" phase="generation" confidence="1" source="log_1223" type="Incorrect_Context_Retrieval">

        <Trigger>When retrieving financial data for calculations, such as cash income tax payments and cash interest payments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the correct and relevant financial data for the specified years are accurately retrieved and applied in the calculations to avoid using incorrect or outdated information.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="precision_error_log" type="PrecisionError">
        <Trigger>Calculation of percentage changes, especially in financial metrics like rental income.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations are performed with sufficient decimal precision before rounding the final answer.</Action>
    </Rule>
<Rule id="R001" phase="postprocessing" confidence="1" source="error_analysis_log" type="FormattingError">
        <Trigger>Financial questions involving rates of return or percentage calculations</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all results from financial calculations indicating percentage changes or rates of return are formatted as percentages, including the appendage of a percentage sign (%) unless explicitly stated otherwise by the question context.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic Hallucination">

        <Trigger>Presence of multiple financial figures mentioned for different types of securities or debt instruments in the context, which requires summation to find the total amount that can be issued.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all specified financial amounts for various securities or debt instruments are summed correctly, considering both short-term and long-term debt, as well as any other mentioned financial instruments, to calculate the total amount that can be issued.</Action>

    </Rule>
<Rule id="1225" phase="generation" confidence="1" source="log_1225" type="arithmetic_hallucination">

        <Trigger>Calculation of change in financial metrics, such as total outstandings, between two different years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the difference between two financial figures is performed accurately, considering the correct order of operations and the units of measurement, and verify that the result is correctly formatted and scaled to match the required output units</Action>

    </Rule>
<Rule id="1226" phase="generation" confidence="1" source="log_1226" type="Arithmetic_Hallucination">

        <Trigger>Calculating cumulative total return percentages for comparative financial analysis, especially when evaluating the performance of stocks or indices over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that cumulative total returns are calculated using the correct formula, considering the initial and final values of the investment or index, and that the percentage change is accurately computed to reflect the true difference in performance over the specified timeframe. KNOWLEDGE INJECTION: Verify that the calculation accounts for all relevant data points and applies the appropriate mathematical operations to derive the correct percentage return, avoiding arithmetic errors or hallucinations that might skew the results.</Action>

    </Rule>
<Rule id="1227" phase="generation" confidence="1" source="log_1227" type="ArithmeticHallucination">
        <Trigger>Calculating percentages of financial commitments due after a specific year</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial data is accurately identified and summed before calculating percentages, and verify that the calculation correctly accounts for the time frame specified in the question.</Action>
    </Rule>
<Rule id="1228" phase="generation" confidence="1" source="log_1228" type="ArithmeticHallucination">

        <Trigger>When calculating the percentage of revenue increase due to a specific factor, and the model provides a numerical answer that seems plausible but does not accurately reflect the correct calculation based on given data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages are double-checked for accuracy, paying close attention to the correct order of operations and ensuring that the percentage is calculated as a proportion of the relevant total, not just a simple ratio of two numbers. KNOWLEDGE INJECTION: Recognize that percentage calculations often require dividing a part by a whole and then multiplying by 100, and verify that this process is correctly applied in the calculation.</Action>

    </Rule>
<Rule id="1230" phase="generation" confidence="1" source="log_1230" type="Arithmetic_Hallucination">

        <Trigger>When calculating the net change in a financial metric, such as receivables, over a specific time period, and the model provides an answer with an incorrect sign (positive instead of negative or vice versa).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the direction of change (increase or decrease) is correctly applied to the calculation of the net change, considering whether the initial value is being added to or subtracted from the final value, and verify that the sign of the result accurately reflects the direction of change.</Action>

    </Rule>
<Rule id="1231" phase="generation" confidence="1" source="log_1231" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of purchase price spent on goodwill</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula is applied to calculate the percentage, where the amount spent on goodwill is divided by the total consideration, and then multiplied by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="analysis_log" type="Calculation Error">
        <Trigger>Encountering numerical values and calculations within financial projections or benefit payments</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all numerical values are directly extracted from the context or calculated based on explicitly provided formulas or relationships, avoiding arithmetic hallucination and ensuring each step of the calculation is logically consistent with the given information.</Action>
    </Rule>
<Rule id="1232" phase="generation" confidence="1" source="log_1232" type="Arithmetic_Hallucination">

        <Trigger>Calculating rate of return for a given time period across different indices or investment vehicles</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the rate of return calculation is based on the correct formula, taking into account the initial and final values of the investment, and that the time period is accurately defined to avoid calculation errors, using the formula: ((final_value - initial_value) / initial_value) * 100</Action>

    </Rule>
<Rule id="1234" phase="generation" confidence="1" source="log_1234" type="Arithmetic_Hallucination">

        <Trigger>When calculating the number of shares outstanding and the model provides a response that is close to but not exactly equal to the correct answer, indicating a possible miscalculation or incorrect rounding.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical calculations, especially those involving percentages and totals, are performed with precise arithmetic operations and rounding rules consistently applied to avoid minor discrepancies that could lead to incorrect answers.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ProgramLogicFailure">

        <Trigger>Comparing lease commitments with purchase commitments for contract manufacturers and suppliers in financial statements</Trigger>

        <Action>CRITICAL FORMATTING RULE: When evaluating financial commitments, ensure to separately compare and contrast lease commitments and purchase commitments, considering the specific entities involved such as contract manufacturers and suppliers, to accurately determine which type of commitment is greater.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage increase or decrease between two time periods, and the model's response is a fixed number rather than a percentage value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations are performed by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to obtain the percentage change, rather than providing an absolute difference.</Action>

    </Rule>
<Rule id="1236" phase="generation" confidence="1" source="log_1236" type="Arithmetic_Hallucination">

        <Trigger>Calculating the percentage of net cash used for investing activities in relation to net cash provided by operating activities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages from financial data, the model rounds the result to the appropriate decimal place as specified by the context or conventional financial rounding practices, and verify that the calculation logic correctly divides the absolute value of the net cash used for investing activities by the net cash provided by operating activities, then multiplies by 100 to obtain the percentage</Action>

    </Rule>
<Rule id="FINQA_001" phase="generation" confidence="1" source="log_analysis" type="ProgramLogicFailure">
        <Trigger>Questions involving comparative analysis of financial metrics (e.g., benefits vs. revenue changes)</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model interprets the question correctly by identifying the key financial metrics to be compared and performs the necessary arithmetic operations to provide a logical answer (yes/no, greater than, less than, etc.) rather than just providing a relevant numerical value.</Action>
    </Rule>
<Rule id="1240" phase="generation" confidence="1" source="log_1240" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, particularly when determining changes in balances over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by rechecking all calculations, especially when computing percentage changes using the formula: ((Ending Balance - Beginning Balance) / Beginning Balance) * 100, and verify that all values are correctly inputted and that the order of operations is correctly followed.</Action>

    </Rule>
<Rule id="1240" phase="generation" confidence="1" source="log_1240" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving consecutive year-end values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of percentage changes by using the formula: ((New Value - Old Value) / Old Value) * 100, and verify the calculation through re-evaluation to minimize rounding errors</Action>

    </Rule>
<Rule id="1241" phase="generation" confidence="1" source="log_1241" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ratio involving negative numbers or subtraction in financial contexts, particularly when determining the proportion of one financial metric to another.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When computing ratios involving financial metrics, ensure that the sign of the numbers (positive or negative) is correctly interpreted and applied, especially in cases where subtraction or negative values are involved, to avoid incorrect inversion of the ratio.</Action>

    </Rule>
<Rule id="1241" phase="generation" confidence="1" source="log_1241" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages or proportions of a total, especially in the context of financial carryforwards and their expiration periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate the percentage or proportion by dividing the specific portion by the total and then multiplying by 100, rather than relying on absolute values or incorrect assumptions about the proportion of the total</Action>

    </Rule>
<Rule id="1242" phase="generation" confidence="1" source="log_1242" type="Program_Logic_Failure">

        <Trigger>When given multiple time periods and corresponding financial values, and asked to find a percentage or proportion related to a specific time frame</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the correct time period and corresponding values are identified and used in calculations, and that the calculation methodology (e.g., percentage of a total) is correctly applied to those values</Action>

    </Rule>
<Rule id="1243" phase="generation" confidence="1" source="log_1243" type="Incorrect_Context_Retrieval">

        <Trigger>When distinguishing between different types of financial data (e.g., federal vs. state, different years) in a question about carryforwards and their expiration</Trigger>

        <Action>CRITICAL FORMATTING RULE: Carefully identify and isolate the relevant financial data and context (e.g., state operating loss carryforwards) mentioned in the question to ensure that calculations are based on the correct dataset and time frame</Action>

    </Rule>
<Rule id="1242" phase="generation" confidence="1" source="log_1242" type="Arithmetic_Hallucination">

        <Trigger>When calculating growth rates from joint ventures and encountering a decrease in earnings, ensure that the direction of change is correctly interpreted.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the numerator and denominator are correctly positioned and that the formula accurately reflects the percentage change, considering whether the change is an increase or a decrease, to avoid sign errors in the calculation of growth rates.</Action>

    </Rule>
<Rule id="1243" phase="generation" confidence="1" source="log_1243" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal values, particularly when determining the difference between two rates or percentages over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that all decimal values are accurately represented and computed to avoid rounding errors that could lead to incorrect results.</Action>

    </Rule>
<Rule id="1244" phase="generation" confidence="1" source="log_1244" type="Arithmetic Hallucination">

        <Trigger>When calculating averages from a series of values over multiple years, especially in financial contexts involving revenues, expenses, or receivables.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant numerical values are correctly summed and then divided by the total number of years to calculate the average, without omitting any values or including extraneous data.</Action>

    </Rule>
<Rule id="1246" phase="generation" confidence="1" source="log_1246" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change due to a specific factor in financial data, where the model provides a numerical answer close to but not exactly matching the correct calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations, especially those involving percentages and changes over time, are rounded appropriately and consistently to match the expected precision of the answer, considering the context of financial reasoning and the usual standards for such calculations.</Action>

    </Rule>
<Rule id="1247" phase="generation" confidence="1" source="log_1247" type="Arithmetic Hallucination and Context Misunderstanding">

        <Trigger>Encountering a question about the correctness of financial information for a specific year, especially when the provided text includes information about lawsuits, damages, or other financial events that may affect the financial statements.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When evaluating the financial information for a specific year, ensure that all relevant financial events mentioned in the text, including but not limited to lawsuits, damages, and lease expenses, are considered and properly accounted for in the calculation to avoid under or overestimation of costs. KNOWLEDGE INJECTION: Always verify if there are any pending or unresolved financial events (like lawsuits) that could impact the financial statements but have not been accounted for due to ongoing legal proceedings or other reasons.</Action>

    </Rule>
<Rule id="1248" phase="generation" confidence="1" source="log_1248" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the order of operations and the signs of the values are correctly applied to avoid arithmetic errors</Action>

    </Rule>
<Rule id="1249" phase="generation" confidence="1" source="log_1249" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change or proportion in financial data, particularly when comparing components of cash flow statements or balance sheets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations, especially those involving percentages or ratios, are performed with precise arithmetic operations, considering the potential for rounding errors and maintaining consistency in significant figures throughout the calculation process.</Action>

    </Rule>
<Rule id="1250" phase="generation" confidence="1" source="log_1250" type="Arithmetic Hallucination">

        <Trigger>When calculating time periods or durations based on given context or jurisdiction-specific information, and the model provides a response without explicitly considering all provided years or dates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant dates or years provided in the context are considered and properly evaluated to determine the correct duration or period, without making assumptions based on incomplete information.</Action>

    </Rule>
<Rule id="1251" phase="generation" confidence="1" source="log_1251" type="ArithmeticError">
        <Trigger>Calculation of percentage changes in financial contributions or expenses</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed with precise arithmetic operations, considering the exact values of the previous and current periods, and apply appropriate rounding rules to avoid precision errors.</Action>
    </Rule>
<Rule id="1251" phase="generation" confidence="1" source="log_1251" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving negative numbers or decreases in financial metrics, such as asset impairment losses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, especially for decreases, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and maintain the negative sign when the new value is less than the old value to indicate a decrease.</Action>

    </Rule>
<Rule id="1252" phase="generation" confidence="1" source="log_1252" type="Arithmetic_Hallucination">

        <Trigger>ROI calculation involving multiple time periods and percentage changes</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the ROI over multiple periods, ensure that the final value is compared to the initial value, taking into account any compounding effects, and verify that the percentage change is calculated correctly, considering both increases and decreases in value over the investment period.</Action>

    </Rule>
<Rule id="1253" phase="generation" confidence="1" source="log_1253" type="Arithmetic_Hallucination">

        <Trigger>When calculating growth rates or percentage changes between two time periods, especially in financial contexts involving expenses or revenues.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical values are accurately extracted and applied to the correct formula for calculating percentage changes, which typically involves dividing the difference between the two values by the original value and then multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="1254" phase="generation" confidence="1" source="log_1254" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage growth between two consecutive time periods in financial data, where the model's response does not accurately reflect the correct mathematical operation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that all intermediate calculations are accurate and rounded correctly to prevent minor discrepancies.</Action>

    </Rule>
<Rule id="1256" phase="generation" confidence="1" source="log_1256" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving weighted averages and actual values, particularly in the context of financial metrics such as grant date fair value and vested shares.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When computing differences or totals involving weighted averages, ensure that all relevant components (e.g., actual vested shares, weighted average grant date fair value) are accurately calculated and considered. KNOWLEDGE INJECTION: Verify that the formula used correctly accounts for the relationship between the weighted average and the actual values, avoiding arithmetic hallucination by cross-checking with given data points.</Action>

    </Rule>
<Rule id="1256" phase="generation" confidence="1" source="log_1256" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the increase from one period to another, ensure to apply the percentage change formula correctly: ((New Value - Old Value) / Old Value) * 100, to obtain the accurate percentage increase or decrease.</Action>

    </Rule>
<Rule id="1258" phase="generation" confidence="1" source="log_1258" type="ArithmeticHallucination">

        <Trigger>Calculation of growth rate or difference between financial metrics, such as benefit payments and subsidy receipts, across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that growth rates or differences are calculated as a percentage change by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100, to obtain a percentage. KNOWLEDGE INJECTION: Verify that the formula used for calculating the difference or growth rate between two financial metrics is correctly applied and takes into account the initial and final values of the metrics in question.</Action>

    </Rule>
<Rule id="1259" phase="generation" confidence="1" source="log_1259" type="Arithmetic Hallucination">

        <Trigger>Calculating proportions or percentages of a total quantity, especially when dealing with geographical distribution or coverage areas across multiple countries.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the proportion of a total, all relevant quantities are accurately summed and the proportion is calculated based on the correct total, taking into account all mentioned geographical areas or coverage without assuming uniform distribution or omitting any specified quantities.</Action>

    </Rule>
<Rule id="1260" phase="generation" confidence="1" source="log_1260" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase between two time periods for a financial metric, such as liability for interest</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage increase, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination and provide accurate percentage change calculations</Action>

    </Rule>
<Rule id="1261" phase="generation" confidence="1" source="log_1261" type="Arithmetic Hallucination">

        <Trigger>When calculating the outperformance of a stock or index over a given period, and the model's response is a percentage or ratio value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of outperformance is based on the correct formula, which typically involves subtracting the benchmark's return from the stock's return and then dividing by the benchmark's return, to obtain the percentage difference. KNOWLEDGE INJECTION: Verify that all necessary values, such as initial and final prices or indices, are accurately retrieved and used in the calculation.</Action>

    </Rule>
<Rule id="1262" phase="generation" confidence="1" source="log_1262" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total assets attributable to specific components, such as goodwill, within a disposal group.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves correctly dividing the value of the specific component (e.g., goodwill) by the total assets of the disposal group, and then multiplying by 100 to obtain the percentage, while avoiding rounding errors or incorrect significant figure considerations.</Action>

    </Rule>
<Rule id="1263" phase="generation" confidence="1" source="log_1263" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of an offsetting increase to an overall decrease in sales, and the model provides an answer that does not match the ground truth, indicating a potential miscalculation in percentage change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage offset is performed by dividing the absolute value of the offsetting increase by the absolute value of the total decrease, then multiplying by 100 to obtain the percentage, and verify that all relevant factors contributing to the decrease and increase are accurately accounted for and computed.</Action>

    </Rule>
<Rule id="1263" phase="generation" confidence="1" source="log_1263" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods for financial metrics such as accounts payable and other current liabilities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation adheres to the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result correctly indicates an increase or decrease</Action>

    </Rule>
<Rule id="1264" phase="generation" confidence="1" source="log_1264" type="ArithmeticHallucination">
        <Trigger>Calculating percentage change between two consecutive years for financial metrics like net sales.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change, ensuring proper subtraction, division, and multiplication, and verify the precision and rounding of the final result to match the context's requirements.</Action>
    </Rule>
<Rule id="1265" phase="generation" confidence="1" source="log_1265" type="Arithmetic_Hallucination">

        <Trigger>Calculation of rate of return for an investment over a specific period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating the rate of return ((End Value - Start Value) / Start Value) * 100 is applied correctly, with precise arithmetic operations and proper consideration of the time period to avoid rounding errors or incorrect calculations.</Action>

    </Rule>
<Rule id="1267" phase="generation" confidence="1" source="log_1267" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of a total, especially when determining proportions outside of a specific geographic or categorical context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant quantities are accurately summed and that the calculation of percentages is based on the correct total, taking care to avoid rounding errors and to verify that the context properly accounts for all parts of the whole being considered</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_acquisitions" type="ArithmeticHallucination">
        <Trigger>Calculation of averages from totals and quantities in financial transactions</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant totals are summed and all quantities are accounted for before calculating averages, using the formula: Average = Total Sum / Total Quantity.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_error_log" type="ProgramLogicFailure">
        <Trigger>Calculating percentages from financial data, such as current allowance as a percent of the beginning balance.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentages are calculated by dividing the part by the whole (in this case, current year increase by the beginning balance) and then multiplying by 100, to avoid arithmetic hallucination or program logic failure.</Action>
    </Rule>
<Rule id="1270" phase="generation" confidence="1" source="log_1270" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of future minimum payments under non-cancelable operating leases due in a specific time frame, and the model provides a numerical value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation involves dividing the amount due in the specified time frame by the total minimum future lease payments and then multiplying by 100 to obtain the correct percentage.</Action>

    </Rule>
<Rule id="1270" phase="generation" confidence="1" source="log_1270" type="ArithmeticHallucination">

        <Trigger>Amortization rate calculations involving fractional representations of useful life years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating yearly amortization rates from the useful life of an asset, ensure to round the result to the appropriate number of decimal places as per the financial context, avoiding unnecessary precision that might lead to inaccuracies in financial reporting or decisions</Action>

    </Rule>
<Rule id="1272" phase="generation" confidence="1" source="log_1272" type="Contextual Misinterpretation">

        <Trigger>Comparison of geographical areas between continents or countries without explicit numerical values for their sizes</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing sizes or quantities between different geographical entities, ensure to either use explicitly provided numerical values for their areas or retrieve the relevant data to calculate the comparison accurately, rather than relying on unrelated or insufficient data such as financial metrics</Action>

    </Rule>
<Rule id="1273" phase="generation" confidence="1" source="log_1273" type="Arithmetic Hallucination">

        <Trigger>Presence of numerical values in the context that are not relevant to the question being asked, potentially leading to incorrect calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify the relevance of numerical data to the specific question or problem at hand before incorporating it into calculations or comparisons, and prioritize the use of data that directly pertains to the query</Action>

    </Rule>
<Rule id="1274" phase="generation" confidence="1" source="log_1274" type="Program Logic Failure">

        <Trigger>Failure to recognize the necessity of converting or calculating area sizes when comparing different geographical entities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a step to identify and calculate or retrieve the necessary metrics (such as area sizes) when comparing different entities, ensuring that the comparison is based on relevant and correctly scaled data</Action>

    </Rule>
<Rule id="1272" phase="generation" confidence="1" source="log_1272" type="Arithmetic_Hallucination">

        <Trigger>Revenue impact calculation due to higher selling prices, where the context mentions sales increase percentage and segment income.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating revenue impact due to price changes, ensure to apply the percentage increase to the relevant base sales figure and account for all factors contributing to the change in revenue, including but not limited to sales volumes and pricing adjustments, to derive the correct financial impact.</Action>

    </Rule>
<Rule id="1273" phase="generation" confidence="1" source="log_1273" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving beginning and ending balances</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages involving beginning and ending balances, ensure that the correct beginning balance is used in relation to the correct ending balance for the specified year, and verify the arithmetic operation to avoid incorrect calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticRepresentationError">
        <Trigger>Calculations involving percentages for financial metrics such as non-interest revenue as a percent of total revenues.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations are completed to the appropriate precision and formatted as percentages, rounding as necessary to match the context's requirements.</Action>
    </Rule>
<Rule id="1275" phase="generation" confidence="1" source="log_1275" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving decimal values or percentages</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and that the result is rounded to the correct number of decimal places as required by the context, to avoid precision errors.</Action>

    </Rule>
<Rule id="1276" phase="generation" confidence="1" source="log_1276" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total number of shares repurchased, the model fails to accurately sum the values provided in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all share repurchase amounts mentioned in the context are properly aggregated, considering both the numerical values and their corresponding units, to calculate the total number of shares repurchased.</Action>

    </Rule>
<Rule id="1277" phase="generation" confidence="1" source="log_1277" type="Program_Logic_Failure">

        <Trigger>The model incorrectly interprets the context or applies an incorrect formula, leading to a discrepancy between the calculated and actual number of shares repurchased.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model accurately interprets the context, identifies the relevant share repurchase amounts, and applies the correct mathematical operations to calculate the total number of shares repurchased, considering factors such as the sign and magnitude of the values.</Action>

    </Rule>
<Rule id="1278" phase="generation" confidence="1" source="log_1278" type="Incorrect_Context_Retrieval">

        <Trigger>The model fails to retrieve or consider all relevant information from the context, resulting in an incomplete or inaccurate calculation of the total number of shares repurchased.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model comprehensively retrieves and considers all context information related to share repurchases, including multiple entries, to accurately calculate the total number of shares repurchased.</Action>

    </Rule>
<Rule id="1278" phase="generation" confidence="1" source="log_1278" type="Arithmetic_Hallucination">

        <Trigger>Calculation of maximum exposure to loss for a subsidiary when no cash is repaid to domestic utility companies</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all subsidiary amounts are accurately summed and the portion of the maximum exposure to loss is calculated as a percentage of the total maximum exposure to loss, using the formula: (Subsidiary Amount / Total Amount) * 100</Action>

    </Rule>
<Rule id="1278" phase="generation" confidence="1" source="log_1278" type="ProgramLogicFailure">

        <Trigger>Comparing costs across different categories, such as R&D and advertising, to determine which exceeded the other.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing costs, ensure that the correct categories are identified and their respective totals are compared directly, rather than relying on intermediate calculations or assumptions about the relative magnitudes of the costs.</Action>

    </Rule>
<Rule id="1280" phase="generation" confidence="1" source="log_1280" type="Arithmetic_Hallucination">

        <Trigger>Context mentions specific percentages or proportions of a total, and the question asks for a count or quantity based on those percentages or proportions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating quantities based on percentages or proportions, the model correctly applies the percentage or proportion to the relevant total or whole, rather than misinterpreting or directly using the percentage or proportion as the final answer.</Action>

    </Rule>
<Rule id="1281" phase="generation" confidence="1" source="log_1281" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving multiple time periods or datasets, where the model incorrectly averages results instead of considering the specific query context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages that involve time-series data or multiple datasets, ensure that the calculation directly answers the query without introducing unnecessary averaging or aggregation, unless explicitly required by the context of the question.</Action>

    </Rule>
<Rule id="1281" phase="generation" confidence="1" source="log_1281" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in financial metrics, such as unrealized tax benefits, across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the direction of change (increase or decrease) is correctly accounted for when calculating net changes in financial metrics by subtracting the initial value from the final value, considering the correct order of operations and avoiding sign errors</Action>

    </Rule>
<Rule id="1283" phase="generation" confidence="1" source="log_1283" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total granted RSU cost, the model multiplies the granted number of shares by the weighted average grant date fair value per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the multiplication result is scaled correctly according to the unit of measurement for the granted number of shares (e.g., thousands) to obtain the correct total cost.</Action>

    </Rule>
<Rule id="1283" phase="generation" confidence="1" source="log_1283" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage change over a period, especially in the context of financial indices and involving multiple dates or values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula, i.e., ((New Value - Old Value) / Old Value) * 100, to prevent incorrect calculations and provide accurate percentage change representations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="payment_schedule_analysis" type="ProgramLogicFailure">
        <Trigger>Detection of a payment schedule with multiple tiers or changes in payment amount over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all payment tiers are correctly identified and that the payment amounts are accurately applied for each respective period, taking into account the start and end dates of each tier and the total number of payments within each tier</Action>
    </Rule>
<Rule id="1286" phase="generation" confidence="1" source="log_1286" type="Arithmetic Hallucination">

        <Trigger>Calculations involving averages or totals over a period, especially when the question explicitly mentions a range of years or a sequence of events</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating averages or totals over multiple years, the model accurately divides the total by the number of years or periods to avoid overestimation or underestimation of the average value. KNOWLEDGE INJECTION: Recognize the importance of identifying the correct divisor (in this case, the number of years) when computing averages to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="1287" phase="generation" confidence="1" source="log_1287" type="Arithmetic_Hallucination">

        <Trigger>Change in maximum aggregate outstanding amount over a specified period in financial programs backed by credit facilities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in financial quantities over time, subtract the initial value from the final value to obtain the correct difference, considering all intermediate adjustments or changes that may have occurred during the specified period.</Action>

    </Rule>
<Rule id="1288" phase="generation" confidence="1" source="log_1288" type="ArithmeticLogicFailure">
        <Trigger>Percent change calculations involving declines or increases over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct percent change formula ((New Value - Old Value) / Old Value) * 100, ensuring proper subtraction and division to accurately reflect increases or decreases</Action>
    </Rule>
<Rule id="1289" phase="generation" confidence="1" source="log_1289" type="Arithmetic_Hallucination">

        <Trigger>Percentage performance calculations involving multiple data points over a period of time, especially when comparing the performance of a specific company to its peer group.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points are correctly identified and used in the calculation, including the starting and ending values for both the company and its peer group. Verify that the formula for percentage change is accurately applied: ((Ending Value - Starting Value) / Starting Value) * 100, for both the company and the peer group, and then find the difference between these two percentage changes to determine the relative performance.</Action>

    </Rule>
<Rule id="1290" phase="generation" confidence="1" source="log_1290" type="ArithmeticHallucination">

        <Trigger>When calculating the percentage of income from a specific region or segment, and the model provides a response that significantly deviates from the expected range based on given financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages from financial data involves correctly dividing the specific segment's income by the total income from continuing operations and then multiplying by 100, without introducing arithmetic errors or incorrect rounding.</Action>

    </Rule>
<Rule id="1300" phase="generation" confidence="1" source="log_1300" type="ContextMisinterpretationError">
        <Trigger>Calculation of customer or market penetration percentages in financial analysis questions</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that customer penetration rates are calculated based on the relevant provided data, including but not limited to the number of customers and the estimated population served, rather than merely selecting a given percentage from the context without proper calculation or justification.</Action>
    </Rule>
<Rule id="1291" phase="generation" confidence="1" source="log_1291" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage increase in a financial metric, such as tier 1 capital, due to a specific factor like net income, where the model provides an answer that is close to but not exactly the correct percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage contribution of one financial metric to another, ensure that the model rounds the final result to the nearest whole number or to a specific decimal place as required by the context, to prevent minor precision errors from affecting the overall accuracy of the response.</Action>

    </Rule>
<Rule id="1293" phase="generation" confidence="1" source="log_1293" type="ArithmeticHallucination">
        <Trigger>Calculation of cash flow from financing activities involving changes in long-term debt.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all changes in debt are accurately calculated and applied according to standard financial accounting principles to determine their impact on cash flow statements.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_average_net_earnings" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values over a range of years, especially in financial contexts such as net earnings.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points are accurately summed and then divided by the total number of years to calculate the average, without omitting any year's data or incorrectly assuming a uniform distribution of values.</Action>

    </Rule>
<Rule id="1294" phase="generation" confidence="1" source="log_1294" type="Arithmetic_Hallucination">

        <Trigger>Estimated future value calculation of options granted, involving fair value, expected life, and dividend yield</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the estimated future value of options granted, ensure that all relevant factors such as fair value, expected life, dividend yield, and time to expiration are correctly incorporated into the calculation, using appropriate financial formulas and models, such as the Black-Scholes model or other relevant methodologies, to prevent arithmetic hallucination and provide an accurate estimate</Action>

    </Rule>
<Rule id="1295" phase="generation" confidence="1" source="log_1295" type="Arithmetic_Hallucination">

        <Trigger>Calculation of Return on Investment (ROI) over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of ROI by applying the formula correctly, considering the initial and final values of the investment, and accounting for compounding over multiple periods, avoiding rounding errors.</Action>

    </Rule>
<Rule id="1297" phase="generation" confidence="1" source="log_1297" type="ArithmeticHallucination">

        <Trigger>Repurchase agreements involving share prices and quantities, where the model's response does not accurately reflect the product of the share price and the number of shares.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating total purchase prices from repurchase agreements, the model accurately multiplies the price per share by the total number of shares, and verify that this calculation is correctly represented in the response, without introducing arithmetic errors.</Action>

    </Rule>
<Rule id="1298" phase="generation" confidence="1" source="log_1298" type="ArithmeticError">

        <Trigger>Calculating growth rates or percentages from given financial data, especially when dealing with sequential yearly data or comparing financial metrics across different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating growth rates is correctly applied, using the formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that the correct values for the current and previous years are used in the calculation to avoid arithmetic hallucination or incorrect results.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculating percentage changes or growth rates in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change and growth rates, which is ((Current Value - Previous Value) / Previous Value) * 100, to ensure accurate calculations of changes over time.</Action>
    </Rule>
<Rule id="1300" phase="generation" confidence="1" source="log_1300" type="ComparativeError">

        <Trigger>Comparing the weighted average useful life of different intangibles to determine which has a greater life expectancy</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing the weighted average useful life of different intangibles, ensure that the values are directly compared using the correct relational operator (greater than, less than, equal to) to determine the correct relationship between the intangibles, without introducing arithmetic hallucination or incorrect context retrieval</Action>

    </Rule>
<Rule id="1300" phase="generation" confidence="1" source="log_1300" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total other purchase commitments, especially when breaking down components such as noncancelable operating leases over different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate summation of all relevant components before calculating percentages, and verify that the calculation correctly reflects the proportion of the specific component (e.g., noncancelable operating leases) to the total commitments, avoiding rounding errors and ensuring precision in the final percentage calculation.</Action>

    </Rule>
<Rule id="1301" phase="generation" confidence="1" source="log_1301" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rates involving negative changes</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating growth rates, ensure that the formula ((Current Year - Previous Year) / Previous Year) * 100 is applied correctly, taking into account the potential for negative growth rates and verifying the order of operations and the accuracy of arithmetic calculations.</Action>

    </Rule>
<Rule id="1303" phase="generation" confidence="1" source="log_1303" type="ArithmeticHallucination">
        <Trigger>Calculating total shares based on dividend payments per share and total dividend amount over a period.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the dividend payment per share and the frequency of payment (e.g., quarterly) are correctly used to calculate the total number of shares. This involves dividing the total expected dividend payment by the dividend paid per share over the same period, taking into account the payment frequency.</Action>
    </Rule>
<Rule id="1303" phase="generation" confidence="1" source="log_1303" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes over time for financial metrics such as dividends per share and the model's response is a static value (e.g., 0) that doesn't reflect a realistic rate of change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100, ensuring to correctly identify and use the relevant old and new values for the metric in question, and verify that the result reflects a plausible rate of change given the context.</Action>

    </Rule>
<Rule id="1304" phase="generation" confidence="1" source="log_1304" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of a component of the total purchase price, where the result needs rounding to two decimal places.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure to round the calculated percentage to the correct number of decimal places as required by the context, typically two decimal places for financial calculations, to maintain precision and accuracy.</Action>

    </Rule>
<Rule id="1305" phase="generation" confidence="1" source="log_1305" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in financial metrics, such as total accumulated other comprehensive losses, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the change in a financial metric between two periods, ensure that the calculation is performed as (Later Period Value) - (Earlier Period Value), and consider the sign of the values to determine if the result should be positive or negative, indicating an increase or decrease, respectively</Action>

    </Rule>
<Rule id="1307" phase="generation" confidence="1" source="log_1307" type="Arithmetic_Hallucination">

        <Trigger>When calculating ratios involving financial quantities, ensure that the model correctly interprets the relationship between different components of sales proceeds.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model accurately identifies and separates the values of each component (e.g., trucks and equipment, containers) before performing division to calculate the ratio, and ensure the correct order of operations is applied.</Action>

    </Rule>
<Rule id="1307" phase="generation" confidence="1" source="log_1307" type="Arithmetic Hallucination">

        <Trigger>Calculating the ratio of cumulative total returns between two financial entities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the cumulative total returns for both entities are calculated correctly by considering the initial and final values, and then compute the ratio of these cumulative totals to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="1308" phase="generation" confidence="1" source="log_1308" type="ArithmeticHallucination">

        <Trigger>When calculating the number of remaining shares under a repurchase authorization, and an average share price is provided, along with the remaining amount authorized for repurchase.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the number of remaining shares divides the remaining authorized amount by the average share price, and then rounds to the nearest whole number if necessary, considering all decimal places for accuracy before rounding.</Action>

    </Rule>
<Rule id="1309" phase="generation" confidence="1" source="log_1309" type="Arithmetic_Hallucination">

        <Trigger>When calculating the value of a specific financial asset, such as goodwill, and given the total value of intangible assets, the model incorrectly adds unrelated values or fails to consider the total value of intangible assets in relation to the specific asset's value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of a specific financial asset's value, such as goodwill, is based on the correct total value of related assets, and that unrelated values are not included in the calculation. KNOWLEDGE INJECTION: Verify that the model understands the relationship between the total value of intangible assets and the specific asset's value, and apply the correct calculation methodology to determine the asset's value.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Incorrect_Context_Retrieval">

        <Trigger>When the model is asked for data from a specific year but responds with "no data" despite the presence of a pattern or related data in the context that could be extrapolated or used to estimate the answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always attempt to establish a relationship or pattern between given data points, especially when dealing with time-series data, to provide a more accurate or estimated response when direct information is not available.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>When the model fails to perform basic arithmetic operations or logic deductions required to derive an answer from given numerical data.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that all relevant numerical data provided in the context is utilized in arithmetic operations or logical deductions to derive the answer, focusing on understanding the mathematical relationships between different financial metrics such as revenue, operating income, and expenses.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_finqa" type="Program_Logic_Failure">

        <Trigger>When the model does not apply the appropriate financial formulas or logic to calculate required financial metrics, such as operating expenses, given other related metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a systematic approach to apply basic financial formulas and logic, such as understanding that operating expenses can be derived from the relationship between revenue and operating income, to ensure accurate calculations and responses.</Action>

    </Rule>
<Rule id="1311" phase="generation" confidence="1" source="log_1311" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years and specific investment types (e.g., equity method investments)</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the old and new values are correctly identified and matched to the corresponding years or periods being compared</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_debt_calculation" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change in financial metrics, such as long-term debt, over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied, using the initial and final values of the metric. KNOWLEDGE INJECTION: Verify that the calculation considers the actual values and does not rely on assumed or hallucinated numbers</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula for percentage change as (New Value - Old Value) / Old Value * 100, ensuring the correct order of operations and accurate calculation of differences and ratios.</Action>
    </Rule>
<Rule id="1314" phase="generation" confidence="1" source="log_1314" type="Arithmetic_Hallucination">

        <Trigger>When calculating ratios involving increases in financial metrics, such as net sales or volume of sales, and the model provides a response that does not accurately reflect the proportion of increase between two related financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations of ratios involving increases in financial metrics are derived by dividing the increase in one metric by the increase in another, taking care to accurately identify and apply the correct numerical values from the given context, and double-checking the arithmetic operations to prevent precision errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage decline between two consecutive years in financial statements, particularly in the context of allowance for doubtful accounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the correct formula: ((Ending Value - Beginning Value) / Beginning Value) * 100, and verify that the values used are from the appropriate periods to avoid incorrect calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage changes by subtracting the original value from the new value, then dividing by the original value, and finally multiplying by 100 to obtain the percentage change, avoiding rounding errors by maintaining precision throughout the calculation process</Action>

    </Rule>
<Rule id="1318" phase="generation" confidence="1" source="log_1318" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving monetary values, particularly when determining year-over-year changes in financial metrics such as net revenue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent changes, ensure that the difference between the two values is divided by the original value and then multiplied by 100, with proper rounding to the desired decimal place to avoid precision errors.</Action>

    </Rule>
<Rule id="1318" phase="generation" confidence="1" source="log_1318" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values over a period, especially in financial contexts involving fees or expenses, and the model provides a response that does not align with the expected arithmetic mean of the given values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of averages involves summing all relevant values for the period in question and then dividing by the number of periods, without omitting or misinterpreting any data points.</Action>

    </Rule>
<Rule id="1320" phase="generation" confidence="1" source="log_1320" type="ArithmeticHallucinationError">

        <Trigger>Calculating the percentage of total cash obligations for aggregate principal payments of long-term debt maturities due in a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total cash obligations, all relevant payments due in the specified year are accurately summed and then divided by the total cash obligations, considering potential rounding differences that may affect the final percentage calculation</Action>

    </Rule>
<Rule id="1321" phase="generation" confidence="1" source="log_1321" type="PercentageCalculationError">

        <Trigger>Percentage reduction calculations involving comparison of financial metrics across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage reductions, the formula (|difference| / original value) * 100 is applied correctly, and the result is properly formatted as a percentage value, including the percentage sign (%) to avoid confusion with absolute values</Action>

    </Rule>
<Rule id="1322" phase="generation" confidence="1" source="log_1322" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving a decrease in a quantitative value, such as square footage or area, given initial and final values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change due to a decrease, ensure to use the formula: ((initial_value - final_value) / initial_value) * 100, to avoid arithmetic hallucination and provide accurate results.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Calculation of average values for comparison across different fiscal years</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for the specified years are correctly identified, summed, and then averaged. Subsequently, KNOWLEDGE INJECTION: Verify that the calculation for the difference between a specific year's value and the calculated average is performed accurately, taking into account the correct mathematical operations and the context of the comparison.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_delinquency_rate" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage change or improvement rates, especially in contexts involving ratios or rates of change over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied, which involves subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to get the percentage change. KNOWLEDGE INJECTION: Always verify that the direction of change (increase or decrease) is correctly interpreted and reported as per the question's requirements.</Action>

    </Rule>
<Rule id="1324" phase="generation" confidence="1" source="log_1324" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving multiple values or time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the correct formula ((New Value - Old Value) / Old Value) * 100, considering all relevant values and time periods to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="1325" phase="generation" confidence="1" source="log_1325" type="Program_Logic_Failure">

        <Trigger>Rounding errors or precision issues in financial calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that financial calculations maintain sufficient precision until final rounding to prevent propagation of small errors, particularly in percentage change calculations where small differences can significantly impact results</Action>

    </Rule>
<Rule id="1326" phase="generation" confidence="1" source="log_1326" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to consider all relevant financial data points for a calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all necessary financial data points, including but not limited to initial and final values, are correctly identified and utilized in calculations to prevent errors due to incomplete or misleading information</Action>

    </Rule>
<Rule id="1325" phase="generation" confidence="1" source="log_1325" type="Arithmetic_Hallucination">

        <Trigger>When calculating aggregate financial values, such as total long-term debt, from a series of given values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values mentioned in the context are accurately summed to derive the total, without ignoring any part of the provided data.</Action>

    </Rule>
<Rule id="1326" phase="generation" confidence="1" source="log_1326" type="Arithmetic Hallucination">

        <Trigger>When calculating the average of high and low stock prices, ensure that the correct values are selected and applied to the formula.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the high and low stock prices used in calculations are the most relevant and up-to-date values for the specified time period, and apply the correct arithmetic operations to calculate the average, which is the sum of the high and low prices divided by 2.</Action>

    </Rule>
<Rule id="1328" phase="generation" confidence="1" source="log_1328" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative percentage change over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the cumulative percentage change over multiple periods, the final result is formatted as a numerical value without a percentage sign, to avoid confusion between the actual percentage change and its representation as a percentage value.</Action>

    </Rule>
<Rule id="1329" phase="generation" confidence="1" source="log_1329" type="Program_Logic_Failure">

        <Trigger>Series of index values provided over time with a request for cumulative change</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that cumulative change calculations require comparing the final value to the initial value, and ensure the correct application of the formula for percentage change, which is ((final_value - initial_value) / initial_value), and then multiply by 100 if a percentage representation is needed, but format accordingly based on the context of the question asked.</Action>

    </Rule>
<Rule id="1329" phase="generation" confidence="1" source="log_1329" type="Arithmetic Hallucination">

        <Trigger>Calculating the portion of unrecognized tax benefits that would impact the effective income tax rate if recognized</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of a total amount, ensure that the correct mathematical operation (i.e., division) is applied, and consider the context to determine if the result should be expressed as a percentage or an absolute value, KNOWLEDGE INJECTION: Always consider the problem is asking for a percentage of a total when the problem mentions "portion" or similar keywords</Action>

    </Rule>
<Rule id="1330" phase="generation" confidence="1" source="log_1330" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total balance, especially in financial contexts involving central bank balances or similar metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the specific balance by the total balance and then multiplying by 100, while also considering the precision and rounding of the result to match the expected output format.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Calculation of net change in financial positions given increases and decreases.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all increases are summed as positive values and all decreases as negative values before calculating the net change.</Action>
    </Rule>
<Rule id="1332" phase="generation" confidence="1" source="log_1332" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total allowance for borrowed funds used during construction, where the model's response does not match the expected result based on provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a specific component (such as allowance for borrowed funds used during construction) of a total (like total AFUDC), the model accurately sums all relevant components of the total and then calculates the percentage by dividing the specific component by the total and multiplying by 100, without introducing arithmetic errors or hallucinations.</Action>

    </Rule>
<Rule id="1332" phase="generation" confidence="1" source="log_1332" type="Arithmetic_Hallucination">

        <Trigger>When calculating net revenue and a stipulated settlement or regulatory liability is mentioned, especially in the context of business combinations or similar events that affect financial reporting.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all adjustments, including those related to regulatory liabilities or settlements, are correctly accounted for in the calculation of net revenue. This includes understanding the direction of the adjustment (whether it increases or decreases net revenue) and applying it appropriately to the original figure, considering both the gross and net-of-tax implications.</Action>

    </Rule>
<Rule id="1333" phase="generation" confidence="1" source="log_1333" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving multiple years or time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and rounding is applied correctly to match the required precision</Action>

    </Rule>
<Rule id="1334" phase="generation" confidence="1" source="log_1334" type="ArithmeticHallucination">

        <Trigger>When calculating the difference in total performance between two financial entities over a period, and the result is presented as a numerical value without percentage sign.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final result is correctly formatted as a percentage by appending a percentage sign to the calculated difference, and verify that the calculation correctly represents the relative change or difference between the two entities' performances over the specified period.</Action>

    </Rule>
<Rule id="1336" phase="generation" confidence="1" source="log_1336" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and spot rates</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula, ((New Value - Old Value) / Old Value) * 100, and that the old and new values are accurately identified and plugged into the formula, to avoid arithmetic errors and hallucinations</Action>

    </Rule>
<Rule id="1337" phase="generation" confidence="1" source="log_1337" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total OCI (Other Comprehensive Income) and the model response differs significantly from the expected answer, indicating a possible error in summing or subtracting components of OCI such as foreign currency translation, cash flow hedges, unrealized gains on securities, and defined benefit plan items.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of OCI are correctly summed, considering the signs of each component (positive or negative) to avoid arithmetic hallucination, and verify that the calculation accurately reflects the addition and subtraction of these components without introducing incorrect values or operations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ContextRetrievalError">

        <Trigger>When calculating the percent of net change in revenue between two specific years and the model is missing data for one of the years, but has data for other years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model does not proceed with calculations using irrelevant years when the data for the specified years is incomplete, and instead, identify the missing data as a limitation or request additional information.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="ProgramLogicFailure">

        <Trigger>When a question explicitly asks for a calculation involving specific years and the model has a choice between using the provided years or other available years.</Trigger>

        <Action>KNOWLEDGE INJECTION: Prioritize using the years specified in the question for calculations over using other available data years to maintain context relevance and accuracy.</Action>

    </Rule>
<Rule id="1338" phase="generation" confidence="1" source="log_1338" type="Arithmetic Hallucination">

        <Trigger>Estimated average return calculations for financial indices, particularly when given historical data and an initial investment amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the estimated average return for financial indices, ensure that the percentage change is calculated correctly by using the formula: ((New Value - Old Value) / Old Value) * 100, and then apply this percentage change to the initial investment to find the return, rather than directly using the index values as returns.</Action>

    </Rule>
<Rule id="1339" phase="generation" confidence="1" source="log_1339" type="Program Logic Failure">

        <Trigger>Comparisons or analyses involving multiple financial indices or investment scenarios, where the model is expected to compute and compare returns or performance metrics.</Trigger>

        <Action>KNOWLEDGE INJECTION: In financial calculations, especially when comparing the performance of different indices or investment options, always ensure that the initial investment amount is consistently applied across all scenarios, and that returns are calculated based on the change in value relative to this initial amount, rather than absolute changes in the indices' values.</Action>

    </Rule>
<Rule id="1340" phase="generation" confidence="1" source="log_1340" type="Incorrect Context Retrieval">

        <Trigger>Situations where the model needs to select the appropriate data or context for calculating financial metrics, such as returns on investment for specific indices over a given period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model correctly identifies and retrieves the relevant historical data for the specified financial indices and time frame, ensuring that calculations are based on the correct initial and final values for each index, and that these values are correctly associated with their respective indices and dates.</Action>

    </Rule>
<Rule id="1340" phase="generation" confidence="1" source="log_1340" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total change in liability over a period, involving multiple components such as cash payments, cash received, and additional charges.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components (additions and subtractions) affecting the liability are correctly summed and accounted for, with attention to the signs of the values (positive for increases, negative for decreases) to accurately determine the net change in liability.</Action>

    </Rule>
<Rule id="1341" phase="generation" confidence="1" source="log_1341" type="ProgramLogicFailure">
        <Trigger>Percentage change calculations between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure the calculation of changes over time, especially for financial metrics, is expressed in the appropriate unit (e.g., percentage) by applying the formula ((New Value - Old Value) / Old Value) * 100, to provide meaningful comparisons.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log_001" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage changes over time, especially in contexts involving decline or increase in financial metrics.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct percentage change formula: ((Initial Value - Final Value) / Initial Value) * 100 for declines, and ((Final Value - Initial Value) / Initial Value) * 100 for increases, to ensure accurate calculations of changes in financial data over time.</Action>
    </Rule>
<Rule id="1342" phase="generation" confidence="1" source="log_1342" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial values, specifically derivatives designated as hedging instruments versus those not designated, to determine if one is greater than the other.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values, including notional/contract amounts and fair values, are accurately compared without confusion between different types of derivatives or instruments. KNOWLEDGE INJECTION: Verify that the comparison is based on the correct interpretation of GAAP guidelines regarding hedging instruments.</Action>

    </Rule>
<Rule id="1343" phase="generation" confidence="1" source="log_1343" type="ArithmeticHallucination">

        <Trigger>When calculating the number of shares that can still be bought, and the average price remains the same, the model should correctly apply the formula using the total amount available for purchase and the average price per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial parameters, including total budget and average price, are correctly applied to calculate the remaining number of shares that can be purchased, without introducing arithmetic errors or assumptions not supported by the given data.</Action>

    </Rule>
<Rule id="1344" phase="generation" confidence="1" source="log_1344" type="ProgramLogicFailure">

        <Trigger>The scenario involves calculating a quantity based on a total budget and an average cost per unit, where the model fails to correctly utilize the given financial data to deduce the correct quantity.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation for the number of units (e.g., shares) that can be acquired is directly derived from dividing the remaining budget by the average cost per unit, ensuring that the logic for calculating quantities based on budgets and prices is consistently applied across different financial reasoning tasks.</Action>

    </Rule>
<Rule id="1344" phase="generation" confidence="1" source="log_1344" type="ArithmeticError">

        <Trigger>When calculating percent increase between two time periods, especially in the context of financial metrics such as cross-border outstandings, and the model response does not match the expected positive growth rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the formula for percent increase is correctly applied as ((New Value - Old Value) / Old Value) * 100, ensuring that the old value is indeed the base from which the increase is calculated, and that all values are correctly identified and extracted from the provided context.</Action>

    </Rule>
<Rule id="1346" phase="generation" confidence="1" source="log_1346" type="RoundingError">

        <Trigger>Percentage calculations involving decimal results and a requirement for precise representation to a specific number of decimal places</Trigger>

        <Action>CRITICAL FORMATTING RULE: Round the final calculated percentage to the nearest tenth or as per the specified precision in the problem statement to ensure accurate representation of the result, especially in financial contexts where precision is crucial</Action>

    </Rule>
<Rule id="1347" phase="generation" confidence="1" source="log_1347" type="ArithmeticAccuracy">

        <Trigger>Calculations involving ratios or proportions, particularly those requiring conversion to percentages</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that all arithmetic operations are executed with attention to the precision of the input values and that the final result is presented with the appropriate number of significant figures or decimal places as dictated by the context or specific requirements of the problem</Action>

    </Rule>
<Rule id="1347" phase="generation" confidence="1" source="log_1347" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage change between two different downgrade scenarios</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of additional collateral or termination payments for a higher-notch downgrade over a lower-notch downgrade, the formula (higher-notch value / lower-notch value) * 100 is used, and verify that the values for the respective downgrades are correctly retrieved from the relevant time period</Action>

    </Rule>
<Rule id="1348" phase="generation" confidence="1" source="log_1348" type="Arithmetic_Hallucination">

        <Trigger>Calculating average revenue over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for the specified time period are correctly summed and then divided by the total number of years to calculate the average revenue.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log_001" type="ArithmeticHallucination">
        <Trigger>Calculation of cumulative quantities over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant quantities mentioned for each period are correctly summed to obtain the total.</Action>
    </Rule>
<Rule id="1350" phase="generation" confidence="1" source="log_1350" type="InsufficientContextError">
        <Trigger>When calculating percentages or ratios that require specific numerical data from previous or subsequent years, and the provided context lacks these necessary details.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all required numerical data for calculations, especially those involving comparisons across different years, are explicitly mentioned or retrievable from the given context before attempting to compute percentages or ratios.</Action>
    </Rule>
<Rule id="1351" phase="generation" confidence="1" source="log_1351" type="ArithmeticHallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change is calculated using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified as the amounts for the respective years being compared.</Action>

    </Rule>
<Rule id="1351" phase="generation" confidence="1" source="log_1351" type="Arithmetic Hallucination">

        <Trigger>Calculating the proportion of pretax income from outside the US</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the proportion of pretax income from outside the US is calculated by dividing the non-US income by the total pretax income, and then multiplying by 100 to obtain the percentage</Action>

    </Rule>
<Rule id="1352" phase="generation" confidence="1" source="log_1352" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes involving negative values or decreases, especially in financial metrics such as crack spreads.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage decrease calculations are performed as ((New Value - Old Value) / Old Value) * 100 to accurately reflect decreases as negative percentages, avoiding incorrect positive percentage outputs.</Action>

    </Rule>
<Rule id="1353" phase="generation" confidence="1" source="log_1353" type="Arithmetic_Hallucination">

        <Trigger>Percentual fluctuation calculations involving multiple time periods and different financial indices or peer groups</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values for each period are accurately identified and correctly applied to the percentage change formula, considering the specific time frame and entities involved in the comparison, to prevent miscalculations and provide a precise figure that reflects the actual fluctuation between the specified periods</Action>

    </Rule>
<Rule id="1354" phase="generation" confidence="1" source="log_1354" type="Arithmetic_Hallucination">

        <Trigger>When the question asks for a value in millions and the context provides specific numerical values with dollar signs, indicating currency.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model interprets the numerical values correctly, removing any dollar signs and considering the units (e.g., millions) as specified in the question to provide the final answer in the correct format and unit.</Action>

    </Rule>
<Rule id="1355" phase="generation" confidence="1" source="log_1355" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a subset within a larger set, especially in the context of geographic or categorical distributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves accurately identifying the total relevant set and the specific subset in question, applying the formula correctly as (subset / total set) * 100, without omitting or misinterpreting any part of the data provided.</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_arithmetic" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change involving subtraction and division</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving division and subtraction in percentage change calculations, are performed with precise decimal places to avoid rounding errors.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of growth rate or percentage change between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations are performed using the correct formula, ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic errors</Action>
    </Rule>
<Rule id="1359" phase="generation" confidence="1" source="log_1359" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages from given data, especially when determining the proportion of a specific category within a total.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the formula (specific category value / total value) * 100 is applied accurately, considering all relevant decimal places for precise results.</Action>

    </Rule>
<Rule id="1360" phase="generation" confidence="1" source="log_1360" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of outstanding amounts under long-term financing arrangements</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the current portion of long-term obligations is correctly calculated by subtracting the less current portion from the total, and then dividing by the total to obtain the percentage, while avoiding arithmetic hallucination by verifying the accuracy of intermediate calculations</Action>

    </Rule>
<Rule id="1361" phase="generation" confidence="1" source="log_1361" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage where the unpaid principal balance exceeds the aggregate fair value for non-structured liabilities classified as long-term debt</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving comparisons between aggregate values (e.g., unpaid principal balance vs. aggregate fair value), the formula is correctly applied as (difference / base value) * 100, where the difference is the amount by which one value exceeds the other, and the base value is the original or reference value from which the excess is calculated</Action>

    </Rule>
<Rule id="1362" phase="generation" confidence="1" source="log_1362" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in financial metrics, such as receivables, between two periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of net change involves subtracting the earlier period's value from the later period's value, taking into account the possibility of negative values or changes in the context that might affect the direction of the calculation</Action>

    </Rule>
<Rule id="1363" phase="generation" confidence="1" source="log_1363" type="Program_Logic_Failure">

        <Trigger>Inconsistent or incorrect application of arithmetic operations in financial calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly applies arithmetic operations, considering the context and the specific financial metrics being calculated, and ensure that the model can handle changes in values, including negative numbers and decreases in financial metrics</Action>

    </Rule>
<Rule id="1364" phase="generation" confidence="1" source="log_1364" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to correctly identify and apply the relevant financial context, such as the specific years or periods being compared</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and applies the relevant context, including the specific years or periods being compared, to calculate the net change in financial metrics correctly</Action>

    </Rule>
<Rule id="1362" phase="generation" confidence="1" source="log_1362" type="Arithmetic_Hallucination">

        <Trigger>Consolidation of lease payments or any financial metrics that require aggregation of different types of payments or expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant payments, including operating leases, capital leases, and any other specified lease types (such as VIE leases), are accurately summed to calculate the total minimum lease payments or other consolidated financial metrics.</Action>

    </Rule>
<Rule id="1364" phase="generation" confidence="1" source="log_1364" type="Arithmetic_Hallucination">

        <Trigger>Comparison of total return between two financial instruments over a period of time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total return calculation for each financial instrument is performed by dividing the final value by the initial value and then subtracting 1, and then compare the results to determine which instrument outperformed the other</Action>

    </Rule>
<Rule id="1365" phase="generation" confidence="1" source="log_1365" type="Program_Logic_Failure">

        <Trigger>Multiple time-series data points for financial instruments are provided, but the model fails to calculate the total return correctly</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating total return over multiple periods, verify that the model accounts for the change in value over the entire period, rather than just comparing individual yearly returns</Action>

    </Rule>
<Rule id="1366" phase="generation" confidence="1" source="log_1366" type="Incorrect_Context_Retrieval">

        <Trigger>Financial data for multiple instruments and time periods is given, but the model incorrectly applies the data to the wrong instrument or time period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately matches the provided data to the corresponding financial instrument and time period, and that the data is correctly used in calculations</Action>

    </Rule>
<Rule id="1364" phase="generation" confidence="1" source="log_1364" type="Arithmetic_Hallucination">

        <Trigger>When calculating net tax expense over multiple years, especially in relation to changes in pension and postretirement items, and the model provides an answer that does not match the sum of the given tax expenses and benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all tax expenses and benefits mentioned for each year are accurately summed, considering both the expenses and the benefits as separate addends or subtrahends as appropriate, to calculate the correct net tax expense.</Action>

    </Rule>
<Rule id="1366" phase="generation" confidence="1" source="log_1366" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of recurring capital expenditures associated with leasing costs</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages, ensure that the divisor is the total relevant cost for the given period, and the dividend is the specific cost component (e.g., leasing costs) for that period. Round the calculated percentage to the appropriate decimal place as per the context requirements, ensuring consistency with the expected answer format.</Action>

    </Rule>
<Rule id="1366" phase="generation" confidence="1" source="log_1366" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or data points</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the correct values are used for 'New Value' and 'Old Value' based on the context of the question</Action>

    </Rule>
<Rule id="1367" phase="generation" confidence="1" source="log_1367" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rate or percentage change in financial metrics, such as rental expenses, where the model provides an incorrect numerical answer despite having the correct formula or context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the difference between the two relevant values is calculated correctly, and then this difference is divided by the original value (not the new value) before multiplying by 100 to get the percentage change. KNOWLEDGE INJECTION: Verify that the formula for percentage change ((New Value - Original Value) / Original Value) * 100 is applied correctly in all cases involving growth rates or percentage changes in financial metrics.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="percentage_change_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((Final Value - Initial Value) / Initial Value) * 100, to avoid arithmetic errors.</Action>
    </Rule>
<Rule id="1370" phase="generation" confidence="1" source="log_1370" type="Arithmetic_Hallucination">

        <Trigger>Derivative notional contract amount calculations involving percentages of total gross derivatives</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate identification and summation of relevant contract amounts for both total gross derivatives and derivatives not designated as hedging instruments under GAAP before calculating percentages to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="1371" phase="generation" confidence="1" source="log_1371" type="Arithmetic_Hallucination_Error">

        <Trigger>Percentage change calculations involving multiple time periods and contractual obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant time periods are considered and that the percentage change calculation is performed using the correct initial and final values, with attention to potential decreases as well as increases, and apply the formula correctly as (final value - initial value) / initial value * 100</Action>

    </Rule>
<Rule id="1371" phase="generation" confidence="1" source="log_1371" type="ArithmeticHallucination">

        <Trigger>Calculating operating income without non-cash charges, particularly when dealing with goodwill impairment or other one-time expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When adjusting operating income to exclude non-cash charges, ensure that all relevant non-cash items are identified and subtracted from the total operating income, and verify that the resulting value is properly scaled and represented in the correct units (e.g., millions of dollars).</Action>

    </Rule>
<Rule id="1372" phase="generation" confidence="1" source="log_1372" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving direct amounts and amounts assumed from other companies</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of assumed amounts relative to direct amounts, ensure that the calculation involves dividing the assumed amount by the direct amount and then multiplying by 100 to obtain the correct percentage, avoiding rounding errors by maintaining precision until the final step.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticError">
        <Trigger>Calculation of growth rate or percentage change between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the correct application of the percentage change formula ((New Value - Old Value) / Old Value) * 100, and verify that all arithmetic operations are performed accurately to avoid calculation errors.</Action>
    </Rule>
<Rule id="1374" phase="generation" confidence="1" source="log_1374" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage return difference between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage return for each entity is calculated separately using the formula ((End Value - Start Value) / Start Value) * 100, and then find the difference between these two percentages to obtain the final answer</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of fluctuation or difference involving averages and specific financial metrics (e.g., operating margins)</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant values are correctly averaged before calculating any differences or fluctuations, and verify that the correct base value (e.g., lowest margin) is used in calculations</Action>
    </Rule>
<Rule id="1376" phase="generation" confidence="1" source="log_1376" type="Arithmetic_Hallucination">

        <Trigger>Ratio calculations involving share repurchases across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios of financial metrics, such as share repurchases, across different periods, the correct formula is applied by dividing the metric of the current period by the metric of the previous period, and verify that all values are correctly extracted from the context before performing the calculation</Action>

    </Rule>
<Rule id="1377" phase="generation" confidence="1" source="log_1377" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that all values are correctly extracted from the context before performing the calculation</Action>

    </Rule>
<Rule id="1378" phase="generation" confidence="1" source="log_1378" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a total, especially in a geographical distribution context where multiple regions' values are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model calculates percentages by dividing the specific region's total by the overall total and then multiplying by 100, avoiding any rounding errors and considering all provided values for an accurate calculation</Action>

    </Rule>
<Rule id="1380" phase="generation" confidence="1" source="log_1380" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of future minimum payments on leases, and marketing and sponsorship for operating leases that are due in a specific year, the presence of multiple years with corresponding lease values is detected.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant lease values are correctly summed and the appropriate percentage calculation is applied, taking into account the total lease value and the specific year's lease value, to avoid arithmetic errors and provide an accurate percentage result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage increase or decrease between two time periods or values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula ((New Value - Old Value) / Old Value) * 100, applying it consistently across all financial metrics and periods</Action>
    </Rule>
<Rule id="1381" phase="generation" confidence="1" source="log_1381" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages for lease terms due in a specific year, where total operating non-cancelable lease terms exceed one year and specific yearly lease payments are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of total operating non-cancelable lease terms due in a specific year, divide the specific year's lease payment by the total minimum lease payments of operating leases, then multiply by 100 to get the percentage, accounting for all relevant lease payments and total lease duration.</Action>

    </Rule>
<Rule id="1382" phase="generation" confidence="1" source="log_1382" type="Arithmetic_Hallucination">

        <Trigger>Calculating dividend yield changes over time, especially when given historical dividend payments and stock prices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that dividend yield calculations involve correctly averaging the dividend payments per share for each period and then calculating the percentage change based on the stock prices at the beginning and end of the period, taking into account the correct number of quarterly payments and their respective values.</Action>

    </Rule>
<Rule id="1383" phase="generation" confidence="1" source="log_1383" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total amount spent on purchased shares, the model provides an incorrect response that does not match the expected outcome of multiplying the total shares purchased by the average price paid per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving the total amount spent on purchased shares are performed by accurately multiplying the total number of shares purchased by the average price paid per share, and then summing any additional relevant costs, before providing the final answer.</Action>

    </Rule>
<Rule id="1384" phase="generation" confidence="1" source="log_1384" type="ArithmeticError">

        <Trigger>Percent change calculations involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure the formula is applied correctly as ((New Value - Old Value) / Old Value) * 100, regardless of whether the change is an increase or a decrease, to avoid sign errors.</Action>

    </Rule>
<Rule id="1386" phase="generation" confidence="1" source="log_1386" type="Arithmetic_Hallucination">

        <Trigger>Calculation of financial ratios, particularly when determining the current ratio, where the model divides current assets by current liabilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division by verifying that the dividend and divisor are correctly identified and that the operation is performed without introducing incorrect rounding or truncation, and KNOWLEDGE INJECTION: Recall that the current ratio is calculated as the ratio of total current assets to total current liabilities, and this should be applied universally across all financial analysis tasks involving liquidity measurements.</Action>

    </Rule>
<Rule id="1387" phase="generation" confidence="1" source="log_1387" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving multiple time periods or values, especially when determining increases or decreases in financial contributions or expenditures.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that the old and new values are correctly identified and matched to their respective time periods to avoid sign errors that could mistakenly indicate an increase instead of a decrease or vice versa.</Action>

    </Rule>
<Rule id="1388" phase="generation" confidence="1" source="log_1388" type="Arithmetic Hallucination">

        <Trigger>Rate of return calculations that involve comparing values across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the rate of return is calculated as a percentage by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100, to provide a precise and formatted result</Action>

    </Rule>
<Rule id="1389" phase="generation" confidence="1" source="log_1389" type="ArithmeticHallucination">
        <Trigger>When calculating ownership percentages of facilities, ensure all relevant data points are considered.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always sum all owned facilities and all leased facilities separately before calculating percentages to ensure accurate representation of the company's total facilities ownership.</Action>
    </Rule>
<Rule id="1390" phase="generation" confidence="1" source="log_1390" type="ContextRetrievalError">
        <Trigger>Calculation of rate of return over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that start and end values are correctly identified for the specified period before applying the rate of return formula. KNOWLEDGE INJECTION: The formula for rate of return is ((End Value - Start Value) / Start Value) * 100.</Action>
    </Rule>
<Rule id="1391" phase="generation" confidence="1" source="log_1391" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial product balances across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing product balances between periods, ensure that the calculation involves the correct corresponding values for each period, considering all relevant financial products and their respective balances, and verify that the comparison is logically sound and correctly interprets the relationship between the balances.</Action>

    </Rule>
<Rule id="1391" phase="generation" confidence="1" source="log_1391" type="Arithmetic Hallucination">

        <Trigger>Calculations involving the allocation of total assets to goodwill</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage of total assets allocated to goodwill is calculated by dividing the value of goodwill by the total net assets acquired, then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="1392" phase="generation" confidence="1" source="log_1392" type="Arithmetic_Hallucination_Error">

        <Trigger>Calculating growth rate or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied, using the formula: ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination errors</Action>

    </Rule>
<Rule id="1393" phase="generation" confidence="1" source="log_1393" type="ArithmeticError">

        <Trigger>Calculating ratios involving total assets and total liabilities, where a negative value is provided for liabilities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios involving assets and liabilities, absolute values are considered for liabilities to correctly represent the relationship between assets and liabilities, unless the context explicitly defines a different handling for negative values.</Action>

    </Rule>
<Rule id="1394" phase="generation" confidence="1" source="log_1394" type="ArithmeticHallucination">
        <Trigger>Calculating percentages of rated exposures or derivatives across different rating categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant percentage values are accurately identified and summed to derive the total percentage for a given category, without omitting any part of the data that contributes to the final calculation.</Action>
    </Rule>
<Rule id="1395" phase="generation" confidence="1" source="log_1395" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change in account balance based on reconciliation data, particularly when dealing with unrecognized tax benefits over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change ((New Value - Old Value) / Old Value) * 100 is applied correctly, considering the direction of change (increase or decrease) to avoid sign errors, and that all relevant values are accurately retrieved from the reconciliation data.</Action>

    </Rule>
<Rule id="1396" phase="generation" confidence="1" source="log_1396" type="ArithmeticLogicFailure">
        <Trigger>Calculation of total debt from subsidiary components</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all specified subsidiary debts are summed without omission to calculate the total long-term debt.</Action>
    </Rule>
<Rule id="1398" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Questions involving percentage change or increase over a period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure calculations involving change over time are interpreted as requiring percentage calculations when the question format implies a proportional increase or decrease, unless explicitly stated otherwise.</Action>
    </Rule>
<Rule id="1398" phase="generation" confidence="1" source="log_1398" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ROI (Return on Investment) over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the ROI of an investment over multiple periods, ensure that the formula used correctly accounts for the percentage change from the initial value to the final value, taking into account the compounding effect of annual returns, and apply the formula: ((Final Value - Initial Value) / Initial Value) * 100, to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1400" phase="generation" confidence="1" source="log_1400" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by rounding percentages to the nearest whole number only after final calculation, avoiding premature rounding that may lead to precision errors</Action>

    </Rule>
<Rule id="1401" phase="generation" confidence="1" source="log_1401" type="Arithmetic_Hallucination">

        <Trigger>When encountering a question that requires retrieving a specific numerical value from a given context, especially related to financial transactions or authorizations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model carefully parses the context to identify the exact figure mentioned without introducing external knowledge or performing unwarranted calculations, focusing solely on the information provided within the context.</Action>

    </Rule>
<Rule id="1401" phase="generation" confidence="1" source="log_1401" type="Arithmetic_Hallucination">

        <Trigger>Calculation of a portion of a total amount where the given numbers do not logically align with the response provided, indicating a potential misunderstanding in percentage calculation or data interpretation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model double-checks its arithmetic operations, especially when calculating percentages or portions of a total, to verify that the numbers are correctly aligned and that the calculation methodology is sound and logically consistent with the context provided.</Action>

    </Rule>
<Rule id="1402" phase="generation" confidence="1" source="log_1402" type="RoundingError">

        <Trigger>Encountering calculations involving percentages or rates derived from average useful life or amortization periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that numerical calculations, especially those involving percentages or rates, are rounded appropriately and consistently to the required number of decimal places as specified by the context or standard financial practices, to prevent precision errors.</Action>

    </Rule>
<Rule id="1404" phase="generation" confidence="1" source="log_1404" type="ArithmeticHallucination">
        <Trigger>Calculating cumulative total shareholder return over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for cumulative return ((Final Value / Initial Value) - 1) * 100 is applied correctly, taking into account all relevant values and time points to avoid arithmetic hallucination.</Action>
    </Rule>
<Rule id="1404" phase="generation" confidence="1" source="log_1404" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total exposure or similar financial metrics involving categorization and subtotals</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of a total (such as exposure net of all collateral), the model correctly identifies and sums all relevant components of the total before calculating the percentage. This includes verifying that the denominator for the percentage calculation is the total exposure or the relevant base figure, not a subtotal or an incorrect aggregation of subcategories. KNOWLEDGE INJECTION: Validate that the model understands the hierarchy of financial categories and their relationships to correctly apply percentage calculations.</Action>

    </Rule>
<Rule id="1405" phase="generation" confidence="1" source="log_1405" type="ArithmeticError">

        <Trigger>Percentage change calculations involving time-series financial data, such as comparing aggregate notional amounts over different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is executed with precise arithmetic operations to avoid rounding errors</Action>

    </Rule>
<Rule id="1406" phase="generation" confidence="1" source="log_1406" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of derivative receivables with a specific rating, and multiple rating categories are provided with corresponding exposure values and percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant rating categories are considered and their corresponding percentages are correctly calculated and summed to obtain the total percentage of derivative receivables with the specified rating, by following the formula: (sum of exposures of the specified rating categories / total exposure) * 100.</Action>

    </Rule>
<Rule id="1407" phase="generation" confidence="1" source="log_1407" type="Arithmetic_Hallucination">

        <Trigger>Unfavorable movement in foreign currency exchange rates and calculation of growth rate in fair value of forward exchange contracts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of growth rate is performed using the correct formula, which should be (New Value - Old Value) / Old Value, and verify that the arithmetic operations are executed precisely without rounding errors to obtain the accurate percentage change</Action>

    </Rule>
<Rule id="1408" phase="generation" confidence="1" source="log_1408" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentual growth of expenses, such as depreciation and amortization, across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied, using the precise values from the relevant time periods and verifying that all intermediate calculations, including subtraction and division, are accurately performed to obtain the correct percentage growth rate</Action>

    </Rule>
<Rule id="1409" phase="generation" confidence="1" source="log_1409" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of annual future minimum payments under operating leases, and the model response is an absolute value (e.g., 100%).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the percentage by dividing the portion of payments due in the specified year by the total payments and then multiplying by 100, rather than assuming the entirety of payments is due in that year.</Action>

    </Rule>
<Rule id="1411" phase="generation" confidence="1" source="log_1411" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total capital expenditures for specific categories, such as transmission and distribution, in financial reasoning questions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the formula (specific category expenditure / total capital expenditures) * 100 is applied accurately, and rounding is considered to match the required precision level of the answer format.</Action>

    </Rule>
<Rule id="ARITHMETIC_HALLUCINATION_001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucinationError">

        <Trigger>When calculating percentage changes or prior year values based on given percentage increases or decreases, and the model provides a numerical answer without clear arithmetic steps shown in its reasoning trace.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model explicitly calculates prior year values by reversing the percentage change (e.g., dividing by 1 plus the percentage increase in decimal form) and applies this calculation to the given current year value to derive the correct prior year value, avoiding arithmetic hallucination by forcing step-by-step logical and mathematical derivations.</Action>

    </Rule>
<Rule id="1412" phase="generation" confidence="1" source="log_1412" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values over multiple periods, such as trailing two-year net revenue amounts, the presence of incorrect arithmetic operations triggers this rule.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of averages involves summing all relevant data points for the specified period and then dividing by the number of periods, rather than relying on potentially inaccurate intermediate calculations or assumed values.</Action>

    </Rule>
<Rule id="1413" phase="generation" confidence="1" source="log_1413" type="Arithmetic_Hallucination">

        <Trigger>When calculating total costs or amounts over multiple years and the model response is significantly lower than the sum of individual years, indicating a potential issue with unit conversion or summation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values extracted from different time periods are converted to the same unit (e.g., millions) before summation, and verify that the model sums all relevant addends without introducing arbitrary scaling factors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating total estimated future benefit payments, the model fails to sum all relevant components, such as U.S. and non-U.S. plans.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant plan components are identified and summed to calculate the total estimated future benefit payments, considering both geographical and categorical divisions.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Calculation of debt-to-equity ratio</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that total liabilities are divided by total equity (calculated as total assets minus total liabilities) when calculating the debt-to-equity ratio, to avoid arithmetic hallucination and provide accurate financial analysis.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis_log" type="Program_Logic_Failure">

        <Trigger>Debt-to-equity ratio calculation in financial statements</Trigger>

        <Action>KNOWLEDGE INJECTION: Always calculate total equity by subtracting total liabilities from total assets before proceeding with the debt-to-equity ratio calculation, to prevent program logic failure and ensure adherence to fundamental accounting principles.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving a decrease in values, especially when determining the percentage decrease between two consecutive time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent changes, ensure the correct application of the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result correctly indicates the direction of change (a negative result for a decrease, a positive result for an increase).</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="UnitMismatchError">

        <Trigger>When calculating financial metrics such as net income and the question involves hypothetical scenarios where certain expenses are not considered, ensure that all units are consistent.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the units of all financial values are identical before performing arithmetic operations, and adjust the calculation accordingly to avoid unit mismatches.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="ScaleError">

        <Trigger>When the model's response is significantly off-scale compared to the expected answer, indicating a possible misunderstanding of the financial metric's scale.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that financial data can be represented in various scales (e.g., thousands, millions), and ensure that calculations account for the correct scale to provide accurate results.</Action>

    </Rule>
<Rule id="1418" phase="generation" confidence="1" source="log_1418" type="Arithmetic_Hallucination">

        <Trigger>When calculating portions or percentages of financial data, such as debt, and the model provides an absolute value instead of a relative measure.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations involving portions or percentages of total values are normalized to their respective bases before providing an answer, using the correct mathematical operations such as division and multiplication to obtain the desired relative measure.</Action>

    </Rule>
<Rule id="1419" phase="generation" confidence="1" source="log_1419" type="Program_Logic_Failure">

        <Trigger>When the model is tasked with determining a specific category's contribution to a total (like current liabilities to total debt) but fails to apply the appropriate formula or logic to derive the percentage.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the formula used to calculate the percentage contribution of a subset to a total is correctly applied as (subset / total) * 100, to ensure accuracy in financial reasoning tasks.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_debt_calculation" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of long-term debt reported as current liabilities, and the model response is significantly different from the expected answer, indicating a potential arithmetic error.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant debt figures are properly identified and considered, and that the calculation accurately reflects the proportion of long-term debt reported as current liabilities, taking into account the specific reporting date and the company's debt structure.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_context_retrieval" type="Incorrect Context Retrieval">

        <Trigger>When the question asks for a specific date or period, and the model fails to retrieve or apply the correct context, leading to an incorrect response.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly retrieves and applies the relevant financial data and context for the specified date or period, and that it accurately distinguishes between different time frames and reporting periods.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_program_logic" type="Program Logic Failure">

        <Trigger>When the model's response indicates a lack of understanding of the financial concepts or relationships between different debt figures, leading to an incorrect calculation or response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model's program logic accurately reflects the relationships between different financial figures, including long-term debt, current liabilities, and the proportion of debt reported as current liabilities, and that it applies the correct formulas and calculations to arrive at the correct answer.</Action>

    </Rule>
<Rule id="1420" phase="generation" confidence="1" source="log_1420" type="Arithmetic_Hallucination">

        <Trigger>Consolidated cash flow calculations involving multiple time periods and potential misinterpretation of cash flow components</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages related to consolidated cash flow, ensure that the correct components of cash flow are being considered and that all relevant time periods are accurately accounted for, avoiding misinterpretation of cash flow components and ensuring that the numerator and denominator reflect the same category and time frame of cash flow to prevent incorrect percentage calculations</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of long-term debt to be included in current liabilities, and the model response is significantly lower than expected or zero.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of long-term debt to be included in current liabilities considers the debt due within the next fiscal year, by properly analyzing the debt maturity schedule and applying the appropriate percentage or amount based on the given context.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the balance without an accounting change, and given the initial balance and the additional liability or change recorded due to the accounting change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure to subtract the additional liability recorded from the cumulative effect of the accounting change from the final balance to correctly calculate the balance without the accounting change, considering all adjustments and changes that occurred during the period.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="amortization_expense_calculation" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of estimated amortization expense to be recognized in a given year, and the model response is a raw value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation involves dividing the amortization expense for the given year by the total amortization expense, and then multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the question asks for a percentage, and the model response should be a ratio or proportion of the total, not an absolute value.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="CalculationError">
        <Trigger>Percentage change calculations involving financial metrics such as earnings per share.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, particularly percentage calculations, are performed with precise decimal places and rounded appropriately at the final step to avoid intermediate rounding errors.</Action>
    </Rule>
<Rule id="1425" phase="generation" confidence="1" source="log_1425" type="ArithmeticHallucination">

        <Trigger>Calculation of percentages involving total credit commitments and specific credit lines</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total credit commitments, the specific credit line amount is accurately divided by the total credit commitment amount and then multiplied by 100 to obtain the correct percentage, avoiding rounding errors or incorrect placement of decimal points.</Action>

    </Rule>
<Rule id="1426" phase="generation" confidence="1" source="log_1426" type="ProgramLogicFailure">

        <Trigger>Comparison of credit card lines to total credit commitments for percentage calculation</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation logic correctly identifies and sums all relevant credit line amounts and the total credit commitment amount before calculating the percentage, ensuring that the formula used is correct and consistently applied across different geographic or temporal subsets of the data.</Action>

    </Rule>
<Rule id="1427" phase="generation" confidence="1" source="log_1427" type="IncorrectContextRetrieval">

        <Trigger>Selection of relevant data points for calculating percentages of credit card lines within total credit commitments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the data points selected for the calculation, such as specific dates and geographic locations, align with the question being asked, and that all necessary data for the calculation (e.g., total credit commitments and specific credit line amounts) are correctly retrieved and used in the calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculations involving growth rates or percentage changes</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that the base period and the calculation period match the context of the question, applying the formula for percentage change correctly: (New Value - Old Value) / Old Value * 100, and verify that the "anticipated" growth is calculated based on the appropriate time frame and values as implied by the question.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating portions of total amounts, such as percentages due within a specific timeframe, and the model responds with an absolute value instead of a proportional value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response is formatted as a proportion (e.g., percentage) of the total when the question asks for a portion of the whole, by dividing the amount due within the specified timeframe by the total amount and multiplying by 100 to convert to a percentage, if applicable.</Action>

    </Rule>
<Rule id="1429" phase="generation" confidence="1" source="log_1429" type="ArithmeticHallucination">
        <Trigger>Calculations involving financial metrics over time, especially those requiring the understanding of units (e.g., dollars, thousands, millions) in warranty obligations or similar financial instruments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the unit of measurement (dollars, thousands, etc.) is consistently applied throughout the calculation. KNOWLEDGE INJECTION: Verify that the model understands the scale of financial metrics and can correctly convert between different units when necessary.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic Logic Error">
        <Trigger>Calculation of total expected payments over multiple periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all payments for each period are correctly identified and summed to calculate the total expected payments over the specified timeframe.</Action>
    </Rule>
<Rule id="1431" phase="generation" confidence="1" source="log_1431" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years of financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by recalculating percentage changes using the formula: ((New Value - Old Value) / Old Value) * 100, and round the result to the nearest whole number or as per the context's precision requirement</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Comparison Error">

        <Trigger>Comparison of effects between changes in financial assumptions, such as discount rates and expected returns, on financial metrics like pension expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When evaluating the impact of percentage changes in different financial assumptions on a specific metric, ensure that the comparison is based on the relative effects of these changes on the metric, rather than solely on the absolute values of the changes. KNOWLEDGE INJECTION: Consider the mathematical relationship between the assumptions and the metric in question to accurately determine which change has a greater effect.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>Calculation of average receivable turnover using proxy values for accounts receivable balance</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data, including collected amounts and accounts receivable, are accurately summed and divided by the respective time periods to calculate turnover ratios, and verify that the correct formula is applied to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">

        <Trigger>Failure to correctly apply the receivable turnover formula or misunderstanding of the concept of average receivable turnover</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm understanding of the receivable turnover formula and its components, including the need to divide total collections by the average accounts receivable balance, and ensure that the calculation is performed over the correct time period to obtain the average turnover.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="ContextRetrievalError">

        <Trigger>Inadequate consideration of contextual information regarding the value of undivided interest and its relation to accounts receivable</Trigger>

        <Action>CRITICAL FORMATTING RULE: When using proxy values for financial calculations, ensure that the relationship between the proxy (e.g., undivided interest) and the actual financial metric (e.g., accounts receivable) is clearly understood and properly accounted for in the calculation to avoid context retrieval errors.</Action>

    </Rule>
<Rule id="1433" phase="generation" confidence="1" source="log_1433" type="Arithmetic_Hallucination">

        <Trigger>Non-cancelable future minimum lease payments percentage calculations due after a specific time period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage of non-cancelable future minimum lease payments due after a specific time period correctly subtracts the total payments due before that period from the total payments, then divides by the total payments and multiplies by 100 to obtain the percentage, avoiding incorrect assumptions about remaining payments.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages from given data, especially when dealing with multi-year comparisons and segment versus consolidated values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating growth rates or percentages over multiple years, especially in the context of financial data (such as net sales), the model first identifies all relevant data points including the base year value, the final year value, and any intermediary values or percentages that might influence the calculation, such as segment sales as a percentage of consolidated sales. KNOWLEDGE INJECTION: Apply the formula for percentage change correctly, accounting for any variations in the base or the need to calculate consolidated values from segment data and percentages.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>Incorrectly assuming that segment net sales directly equate to consolidated net sales or failing to use given percentages to calculate consolidated figures when necessary.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When dealing with segment and consolidated financial data, ensure that a clear distinction is made between the two. If only segment data and its percentage of the consolidated is given, use this information to calculate the consolidated values before performing growth rate calculations. KNOWLEDGE INJECTION: Recognize that segment sales are a part of, but not the entirety of, consolidated sales, and adjust calculations accordingly to avoid logic errors.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to retrieve or correctly apply given contextual information, such as the percentage of segment sales to consolidated sales over different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure thorough retrieval and correct application of all contextual information provided in the problem statement, including percentages, growth rates, and any other relevant financial data. KNOWLEDGE INJECTION: Understand the importance of context in financial questions, particularly how percentages and growth rates are used to derive consolidated figures from segment data, and apply this understanding to guide calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the result is rounded correctly to the required precision, and KNOWLEDGE INJECTION: Validate that the old value is not zero to avoid division by zero errors</Action>

    </Rule>
<Rule id="1437" phase="generation" confidence="1" source="log_1437" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total value of repurchased shares involves multiplication of number of shares and average price per share</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the multiplication result is properly scaled (e.g., considering the unit of measurement, such as millions) before providing the final answer, and verify that the calculation is correctly rounded to the appropriate number of significant figures.</Action>

    </Rule>
<Rule id="BK001" phase="generation" confidence="1" source="log_BK001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((End Value - Start Value) / Start Value) * 100 for each entity, and then find the difference between these percentage changes to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="BK002" phase="generation" confidence="1" source="log_BK002" type="Program_Logic_Failure">

        <Trigger>Comparative financial analysis requiring subtraction of percentage changes</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the correct calculation of the difference in percentage changes between two financial indices or entities involves subtracting the percentage change of one entity from the percentage change of the other, and format the result as a percentage value</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages in financial projections</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages or growth rates are performed using precise arithmetic operations, considering the exact values and avoiding rounding errors during intermediate calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the average percent change in a time series, especially in financial metrics such as commodity prices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percent change is based on the correct formula, which involves dividing the difference between the current and previous values by the previous value, and then averaging these changes over the specified period. KNOWLEDGE INJECTION: Verify that all relevant data points are included and correctly ordered in time to avoid errors in calculating averages and percent changes.</Action>

    </Rule>
<Rule id="1441" phase="generation" confidence="1" source="log_1441" type="ArithmeticError">

        <Trigger>Percentage change calculations involving multiple time periods or benchmarks</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((NewValue - OldValue) / OldValue) * 100, where NewValue and OldValue are the values for the respective periods or benchmarks being compared, to avoid arithmetic errors and provide accurate calculations.</Action>

    </Rule>
<Rule id="1441" phase="generation" confidence="1" source="log_1441" type="Arithmetic_Hallucination">

        <Trigger>Presence of both additive and subtractive adjustments in the calculation of pro forma net income, where the model incorrectly calculates the total adjustment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all adjustments, whether additive or subtractive, are correctly applied with their respective signs (positive for additions, negative for subtractions) when calculating the total adjustment to arrive at pro forma net income.</Action>

    </Rule>
<Rule id="1443" phase="generation" confidence="1" source="log_1443" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or comparison of yields across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100, and apply this formula to each relevant year or period separately before comparing or averaging the results, to avoid incorrect simplifications or omissions of steps in the calculation process</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations to avoid rounding errors.</Action>

    </Rule>
<Rule id="1444" phase="generation" confidence="1" source="log_1444" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the growth rate calculation follows the formula (New Value - Old Value) / Old Value, and verify that the signs of the values are correctly interpreted to determine the direction of change (increase or decrease)</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ContextRetrievalError">

        <Trigger>When the model is asked about a specific year or time frame and the provided context contains multiple years or time frames, ensure the model identifies and uses the relevant information for the specified year or time frame.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the context year or time frame matches the question's requirements before generating a response, and adjust calculations or information retrieval accordingly to prevent incorrect context retrieval errors.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucinationError">

        <Trigger>When the question requires a percentage calculation based on the relationship between two financial metrics (e.g., cash generated by operating activities and cash used in investing activities), ensure the model accurately computes the percentage by dividing the relevant portion by the total and multiplying by 100.</Trigger>

        <Action>KNOWLEDGE INJECTION: To calculate percentages in financial contexts, always identify the portion and the whole, then apply the formula: (portion / whole) * 100, to derive the correct percentage, ensuring accuracy in arithmetic operations.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_analysis" type="ProgramLogicFailure">

        <Trigger>When the model encounters a scenario where it must compare or utilize financial data across different years or time frames mentioned in the context, ensure the model logic can distinguish between these periods and apply the correct data for calculations or comparisons as specified by the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a systematic approach to identify and isolate relevant financial data by their respective time frames or years, ensuring that calculations, comparisons, or data retrievals are performed using the correct and corresponding financial figures to prevent program logic failures.</Action>

    </Rule>
<Rule id="1447" phase="generation" confidence="1" source="log_1447" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage change attributed to a specific factor from a total change</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of total change attributed to a specific factor, the correct formula is applied: (change in factor / total change) * 100, considering all relevant changes and their impacts.</Action>
    </Rule>
<Rule id="1448" phase="generation" confidence="1" source="log_1448" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving time-series financial data, such as unrecognized tax benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two periods, ensure that the formula correctly captures the difference between the ending and beginning balances of the respective periods, and applies the percentage change formula accurately: ((Ending Balance - Beginning Balance) / Beginning Balance) * 100.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>When calculating totals for financial metrics such as goodwill, and multiple components with different weights or values are involved</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components (e.g., purchased technology, backlog) are correctly summed, taking into account their respective values and units, before finalizing the calculation for the total amount</Action>

    </Rule>
<Rule id="1450" phase="generation" confidence="1" source="log_1450" type="Arithmetic Hallucination">

        <Trigger>Calculations involving changes in financial balances, particularly when determining total changes in carrying amounts of loan receivables over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the total change in a financial balance, the difference between the ending and beginning balances is computed correctly, considering the direction of change (increase or decrease) to avoid sign errors, and verify that the arithmetic operations are performed in the correct order to reflect the actual change in the balance.</Action>

    </Rule>
<Rule id="1450" phase="generation" confidence="1" source="log_1450" type="ArithmeticHallucination">

        <Trigger>When calculating the total number of sites acquired and constructed across multiple regions, and the model's response does not match the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant regional data mentioned in the context is accurately summed to obtain the total, without omitting any region or misinterpreting the context.</Action>

    </Rule>
<Rule id="1452" phase="generation" confidence="1" source="log_1452" type="Arithmetic_Hallucination">

        <Trigger>Calculating losses or gains over multiple periods where some values are positive and others are negative, indicating potential mistakes in summing or subtracting these values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values, whether positive or negative, are correctly summed, considering their signs to accurately calculate total losses or gains over the specified periods.</Action>

    </Rule>
<Rule id="1452" phase="generation" confidence="1" source="log_1452" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial obligations and asset values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing projected benefit obligations to plan assets at fair value, ensure that the comparison is based on the actual numerical values of the obligations and assets, rather than incorrectly calculating or hallucinating the result, and provide a boolean answer (yes/no) based on whether the obligation exceeds the asset value.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="average_calculation_log" type="ArithmeticHallucination">
        <Trigger>Calculating averages from multiple given numbers or categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always sum all provided numbers and divide by the total count of numbers or categories to calculate an average, ensuring each step of the calculation is accurately performed.</Action>
    </Rule>
<Rule id="1454" phase="generation" confidence="1" source="log_1454" type="Arithmetic_Hallucination">

        <Trigger>When the model is asked to provide a numerical value as a percentage and the correct answer is a numerical value without the percentage sign, but the model includes the percentage sign in its response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response format matches the question's requirements, removing any unnecessary symbols such as percentage signs when the context does not require them.</Action>

    </Rule>
<Rule id="1455" phase="generation" confidence="1" source="log_1455" type="Arithmetic_Hallucination">

        <Trigger>Calculation of projected values based on percentage changes or rates of change from previous periods, especially when applying these changes to predict future outcomes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating projected future values based on historical rates of change, ensure that the correct base value from which the percentage change is derived is used, and apply the percentage change correctly to avoid calculation errors. KNOWLEDGE INJECTION: Double-check the formula used for calculating the projected value, particularly ensuring that the rate of change is applied to the correct base year's value.</Action>

    </Rule>
<Rule id="1456" phase="generation" confidence="1" source="log_1456" type="Arithmetic_Hallucination">

        <Trigger>When the question asks for the range of exposures for outstanding financial instruments, such as letters of credit, and the context provides a specific range of values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response provides the upper limit of the range as a numerical value, rather than a range or text description, by extracting the maximum value mentioned in the context.</Action>

    </Rule>
<Rule id="1457" phase="generation" confidence="1" source="log_1457" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of capital spending from a specific segment, the model provides an incorrect response due to miscalculation or incorrect application of arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages from specific segments involves accurate division and multiplication operations, where the segment's value is divided by the total value from continuing operations and then multiplied by 100 to obtain the correct percentage.</Action>

    </Rule>
<Rule id="1458" phase="generation" confidence="1" source="log_1458" type="Arithmetic_Hallucination">

        <Trigger>When calculating the impact of a percentage increase on an average yield, and the initial yields for multiple years are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the average yield is recalculated by first applying the percentage increase to the yield of the specific year mentioned in the question, then averaging the yields of the three years, including the adjusted yield for the specified year, to obtain the new average yield.</Action>

    </Rule>
<Rule id="1459" phase="generation" confidence="1" source="log_1459" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage changes in financial metrics, such as net loss or profit, from one period to another.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially percentage calculations, are performed with precise decimal places until the final answer, where rounding can be applied as per the required precision.</Action>
    </Rule>
<Rule id="1460" phase="generation" confidence="1" source="log_1460" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the values are correctly retrieved and applied to the formula to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="1462" phase="generation" confidence="1" source="log_1462" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula, ((New Value - Old Value) / Old Value) * 100, and that all values are correctly retrieved from the context, considering the specific time frames mentioned in the question</Action>

    </Rule>
<Rule id="1462" phase="generation" confidence="1" source="log_1462" type="Arithmetic_Hallucination">

        <Trigger>Revenue multiple calculations involving aggregate purchase prices and operating revenues</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the revenue multiple is calculated by dividing the total aggregate purchase price by the operating revenue of the relevant period, using the correct formula and verifying the input values for accuracy</Action>

    </Rule>
<Rule id="1463" phase="generation" confidence="1" source="log_1463" type="ArithmeticHallucination">
        <Trigger>Multi-period aggregation or summation of financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all values from each period are correctly summed without omission or duplication, using precise arithmetic operations as dictated by the context of the question.</Action>
    </Rule>
<Rule id="1464" phase="generation" confidence="1" source="log_1464" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal numbers</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed with precise decimal arithmetic to avoid rounding errors, and verify that the final answer is rounded correctly according to the context's precision requirements.</Action>

    </Rule>
<Rule id="1466" phase="generation" confidence="1" source="log_1466" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving net cash from operating activities across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations to avoid rounding errors, and verify that the calculation is applied to the correct values for the specified years.</Action>

    </Rule>
<Rule id="1466" phase="generation" confidence="1" source="log_1466" type="Arithmetic_Hallucination">

        <Trigger>Presence of multiple classes of derivatives with respective exposure values and percentages, requiring summation of specific categories to determine the total amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant classes of derivatives are correctly identified and their respective exposure values are accurately summed, considering the context of the question to avoid inclusion of irrelevant data, and verify that the calculation aligns with the question's requirements for a specific time frame or rating equivalent.</Action>

    </Rule>
<Rule id="1467" phase="generation" confidence="1" source="log_1467" type="Program_Logic_Failure">

        <Trigger>Calculations involving rating equivalents and exposure net of all collateral, where incorrect application of percentages or misunderstanding of the exposure categories could lead to errors.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the calculation of total exposure for a specific rating equivalent requires careful consideration of the percentages provided and the context in which they are applied, ensuring that the model correctly interprets and applies these percentages to the relevant exposure values to derive the accurate total amount.</Action>

    </Rule>
<Rule id="1468" phase="generation" confidence="1" source="log_1468" type="Context_Retrieval_Error">

        <Trigger>Failure to distinguish between different rating equivalents (e.g., BBB+/Baa1 to BBB-/Baa3 and BB+/Ba1 to B-/B3) and their respective exposures when calculating the total amount for a specific class of derivatives.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and distinguishes between different rating equivalents and their corresponding exposure values, applying the correct calculation based on the question's context to avoid confusion between categories and ensure that only relevant data is included in the calculation.</Action>

    </Rule>
<Rule id="1468" phase="generation" confidence="1" source="log_1468" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving multiple entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change differences between two entities over a period, ensure to first calculate the individual percentage changes for each entity using the formula ((EndValue - StartValue) / StartValue) * 100, and then find the difference between these two calculated percentage changes.</Action>

    </Rule>
<Rule id="1469" phase="generation" confidence="1" source="log_1469" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or values, especially when calculating year-over-year changes in financial metrics such as allowances for loan and lease losses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change ((New Value - Old Value) / Old Value) * 100 is correctly applied, paying close attention to the correct identification and use of old and new values corresponding to the specific time periods being compared.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of percentages involving total assets or liabilities across different periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all components of the total asset or liability are accurately summed and the correct base year total is used for percentage calculations. Verify that all adjustments (e.g., foreign currency translation adjustments) are appropriately accounted for in the calculation.</Action>
    </Rule>
<Rule id="1470" phase="generation" confidence="1" source="log_1470" type="Arithmetic_Hallucination">

        <Trigger>Amortization expense calculation for intangible assets with specific amortization periods and discount rates mentioned in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the amortization expense calculation takes into account the correct amortization period and asset value, using the formula: (Asset Value) / (Amortization Period), considering any additional factors such as discount rates if applicable to the asset's valuation or amortization schedule.</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating average values for a range of years when given the net sales for each year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the average is calculated by summing all relevant values and then dividing by the total number of values, rather than relying on an incorrect or assumed calculation method</Action>

    </Rule>
<Rule id="1472" phase="generation" confidence="1" source="log_1472" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage increase or decrease between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to subtract the initial value from the final value, then divide by the initial value, and finally multiply by 100 to obtain the percentage change, avoiding direct provision of numerical values as answers when percentages are requested</Action>

    </Rule>
<Rule id="1473" phase="generation" confidence="1" source="log_1473" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of future minimum payments due under non-cancelable agreements, particularly in the context of operating leases versus total or capital leases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of components (like future minimum payments due under non-cancelable agreements) to totals (such as total operating leases or total capital leases), the correct numerator and denominator are identified and used, considering the context of the question to avoid misinterpretation of the relationship between different financial figures.</Action>

    </Rule>
<Rule id="1474" phase="generation" confidence="1" source="log_1474" type="Incorrect Comparison">

        <Trigger>Comparison of weighted-average grant date fair values between different types of shares, such as non-vested incentive/performance units and non-vested restricted shares.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing weighted-average grant date fair values, ensure that the comparison is made between the correct corresponding values of the respective share types, and verify that the relationship between the values (e.g., greater than, less than) is accurately determined based on the provided data.</Action>

    </Rule>
<Rule id="1475" phase="generation" confidence="1" source="log_1475" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multi-year financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified and extracted from the context before performing the calculation</Action>

    </Rule>
<Rule id="1477" phase="generation" confidence="1" source="log_1477" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of capital leases that are current liabilities, and the model provides an answer without explicitly calculating the ratio of current liabilities to total capital leases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the portion of capital leases that are current liabilities involves determining the current liabilities portion and dividing it by the total capital leases, then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="1478" phase="generation" confidence="1" source="log_1478" type="Program_Logic_Failure">

        <Trigger>When the model is required to compute a percentage based on given financial data, such as capital leases, but fails to apply the correct formula or incorrectly applies arithmetic operations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model applies the correct formula for calculating percentages, which involves dividing the part by the whole and then multiplying by 100, and ensure that all relevant financial data is accurately incorporated into the calculation.</Action>

    </Rule>
<Rule id="1478" phase="generation" confidence="1" source="log_1478" type="ProgramLogicFailure">
        <Trigger>Calculating percentage changes over time in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula for percentage change as ((New Value - Old Value) / Old Value) * 100 when calculating increases or decreases in financial metrics over different periods.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving collateralization of derivative receivables</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of net derivative receivables collateralized by other than cash, the correct formula is applied: (non-cash collateral / total net derivative receivables) * 100, and verify that all values are accurately extracted from the given context and correctly plugged into the formula to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1480" phase="generation" confidence="1" source="log_1480" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total proven undeveloped reserves, and the model is given beginning and end of year values for extensions, discoveries, and other additions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the percentage based on the difference between the end of year and beginning of year values for the specific category (in this case, extensions and discoveries), rather than incorrectly using the beginning of year value as the percentage or misunderstanding the context of the question.</Action>

    </Rule>
<Rule id="1481" phase="generation" confidence="1" source="log_1481" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving multiple variables, where a model might misinterpret the relationship between total sales and subset sales.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in financial contexts, the model accurately identifies and isolates the specific subset and total values relevant to the question, and then applies the correct formula without rounding prematurely.</Action>

    </Rule>
<Rule id="1481" phase="generation" confidence="1" source="log_1481" type="Arithmetic_Hallucination">

        <Trigger>Customer penetration calculations involving percentages of total customers and estimated population served</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating customer penetration, ensure that the correct formula is applied, considering both the number of customers and the estimated population served, and verify that the result is properly scaled to represent a percentage of the total relevant population, rather than just a percentage of total customers or operating revenues.</Action>

    </Rule>
<Rule id="1482" phase="generation" confidence="1" source="log_1482" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that all relevant values (e.g., beginning and end of period) are accurately retrieved and applied to the formula ((End Value - Start Value) / Start Value) * 100, to prevent arithmetic hallucination errors</Action>

    </Rule>
<Rule id="1483" phase="generation" confidence="1" source="log_1483" type="Arithmetic Hallucination">

        <Trigger>Collateral calculations involving multiple types of collateral and total reduction in credit risk balance</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all collateral amounts, including liquid securities, cash collateral, received collateral, and posted collateral, are aggregated and considered when calculating the total reduction in credit risk balance.</Action>

    </Rule>
<Rule id="1485" phase="generation" confidence="1" source="log_1485" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial metrics where one value is a component of the other (e.g., total deposits vs. total senior and subordinated debt) and the context may suggest a misleading comparison due to differences in scale or category.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing financial metrics, all relevant components are identified and considered, and comparisons are made within the correct context, taking into account the categorization and scale of the financial figures involved.</Action>

    </Rule>
<Rule id="1486" phase="generation" confidence="1" source="log_1486" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage changes in financial metrics, such as amortization expenses over time.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentage changes are performed with precise values and consider the rounding effects at the final step to maintain accuracy.</Action>
    </Rule>
<Rule id="1487" phase="generation" confidence="1" source="log_1487" type="Arithmetic Hallucination and Program Logic Failure">

        <Trigger>Encountering a question that requires calculating an average rate per period, such as average dividend payment per share per quarter, after a repurchase of common stock.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total dividend payments are properly allocated to the correct number of shares and that the averaging period (e.g., quarters) directly relates to the timeframe over which dividend payments were made and shares were repurchased. KNOWLEDGE INJECTION: Understand that repurchased shares do not receive dividend payments; hence, dividend payments should be averaged over the outstanding shares that actually received the dividends, not the repurchased shares.</Action>

    </Rule>
<Rule id="1488" phase="generation" confidence="1" source="log_1488" type="Arithmetic_Hallucination">

        <Trigger>Encountering a question that requires calculating a ratio of eligibility limits for different participant types in a financial program or fund.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios of eligibility limits, the correct mathematical operation (division) is applied, and the result is presented as a numerical value without appending a colon or including the compared values' units, unless explicitly required by the context.</Action>

    </Rule>
<Rule id="1489" phase="generation" confidence="1" source="log_1489" type="Arithmetic_Hallucination">

        <Trigger>When calculating future expense provisions based on historical data, and the model provides an incorrect numerical value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for future expense provisions takes into account the correct mathematical operations (addition, subtraction, etc.) and maintains consistency in the sign of the values (positive or negative) to reflect the nature of expenses accurately.</Action>

    </Rule>
<Rule id="1489" phase="generation" confidence="1" source="log_1489" type="ProgramLogicFailure">
        <Trigger>Change in financial metrics from one period to another, especially involving prepaid expenses or similar items.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always determine the direction of change (increase or decrease) when calculating the usage or remaining balance of prepaid items from one period to the next, and apply the appropriate arithmetic operation to reflect this change accurately.</Action>
    </Rule>
<Rule id="1490" phase="generation" confidence="1" source="log_1490" type="ArithmeticLogicError">
        <Trigger>Calculating percentage changes between two financial values over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage increases or decreases over time, the formula [(Final Value - Initial Value) / Initial Value] * 100 is applied correctly to avoid arithmetic errors.</Action>
    </Rule>
<Rule id="1491" phase="generation" confidence="1" source="log_1491" type="Arithmetic_Hallucination">

        <Trigger>Calculating total return difference between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that total return calculations involve determining the percentage change for each entity over the specified period, then finding the difference between these two percentage changes, taking into account the correct application of the percentage change formula to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1492" phase="generation" confidence="1" source="log_1492" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total contractual obligations comprised of short-term debt, where the model's response does not match the correct calculation based on provided financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total contractual obligations, all relevant components of short-term debt are accurately summed and then divided by the total contractual obligations, considering all time frames (less than 1 year, 1-3 years, 4-5 years, and after 5 years) to obtain the correct percentage.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of investments due within a specific timeframe and the model is given multiple due dates with corresponding amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the portion due within the specified timeframe involves dividing the total amount due within that timeframe by the total amount of investments, considering all provided due dates and their respective amounts. KNOWLEDGE INJECTION: Confirm that the model accurately identifies and sums the relevant amounts for the specified timeframe before performing the percentage calculation.</Action>

    </Rule>
<Rule id="1494" phase="generation" confidence="1" source="log_1494" type="Arithmetic_Hallucination">

        <Trigger>When calculating aggregate values from multiple categories or regions across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values from each category or region are accurately identified and summed without omission to obtain the total, and verify that the calculation corresponds to the correct time frame or condition specified in the question</Action>

    </Rule>
<Rule id="1495" phase="generation" confidence="1" source="log_1495" type="Arithmetic Hallucination">

        <Trigger>Calculation of impact on effective tax rate from unrecognized tax benefits</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure proportion calculation is performed by dividing the amount that affects the effective tax rate by the total balance of unrecognized tax benefits and then multiplying by 100 to obtain the percentage impact</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of combined changes in financial metrics, such as tax liabilities, following regulatory or standard adoption adjustments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all adjustments, both positive and negative, across all relevant periods (current and long-term) are accurately identified and summed to derive the total change in financial metrics.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="Arithmetic_Hallucination">

        <Trigger>When the model is asked to calculate the change between two specific years and data for one of the years is not provided, but relevant data for other years is available.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model prioritizes identifying the closest available data or utilizing given data to make an indirect calculation, rather than immediately concluding that the calculation cannot be performed due to missing data for the exact years in question.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_log" type="Program_Logic_Failure">

        <Trigger>When the model has data for the years immediately preceding or following the years specified in the question, but not for the exact years mentioned.</Trigger>

        <Action>KNOWLEDGE INJECTION: Instruct the model to consider utilizing the available data to infer or directly calculate the change, focusing on the most relevant years provided, even if they do not perfectly match the years specified in the query.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_log" type="Context_Retrieval_Failure">

        <Trigger>When the question explicitly mentions specific years for which the model should calculate a financial metric change, and there's an assumption that direct calculation is impossible due to perceived data gaps.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Direct the model to meticulously review the provided context for any relevant, usable data that might facilitate the calculation or provide a basis for a logical estimation or inference regarding the requested years.</Action>

    </Rule>
<Rule id="1499" phase="generation" confidence="1" source="log_1499" type="Arithmetic_Hallucination">

        <Trigger>Percent calculation of debt maturation including short-term borrowings over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involving debt maturation includes accurate subtraction of the portion already matured from the total debt, before dividing by the total debt to find the percentage that will mature in the specified period, considering all relevant time frames and debt components.</Action>

    </Rule>
<Rule id="1500" phase="generation" confidence="1" source="log_1500" type="Arithmetic Hallucination">

        <Trigger>When calculating weighted averages for intangible assets with varying useful lives, ensure all relevant assets and their respective lives are considered.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of weighted averages involves summing the products of each asset's value and its useful life, then dividing by the total value of all assets, to prevent arithmetic hallucination and ensure accuracy in financial reasoning models.</Action>

    </Rule>
<Rule id="1500" phase="generation" confidence="1" source="log_1500" type="Arithmetic Hallucination">

        <Trigger>When calculating the ratio of cumulative total returns between two financial entities over a specified period, and the model's response is a simple value rather than a proportional relationship.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of ratios from cumulative totals involves dividing the cumulative total return of the specific entity by the cumulative total return of the benchmark (e.g., an index), and verify that the resulting value represents a proportional relationship rather than an absolute difference.</Action>

    </Rule>
<Rule id="1501" phase="generation" confidence="1" source="log_1501" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of total purchase consideration related to a specific entity, and the question is ambiguous regarding the desired output format (percentage or actual amount).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations of portions or percentages are clearly distinguished from calculations of actual amounts, and when the question asks for a "portion," clarify whether the response should be in percentage terms or the actual amount, and proceed accordingly to avoid confusion.</Action>

    </Rule>
<Rule id="1502" phase="generation" confidence="1" source="log_1502" type="Program Logic Failure">

        <Trigger>When a question implies the need for a ratio or percentage but the model responds with an absolute value instead.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that keywords like "portion," "percentage," or "related to" often indicate the need to calculate a ratio or percentage of a total, rather than providing the absolute value of a component. Adjust the calculation accordingly to provide the correct type of answer (percentage or ratio) when such keywords are present.</Action>

    </Rule>
<Rule id="1503" phase="generation" confidence="1" source="log_1503" type="Incorrect Context Retrieval">

        <Trigger>When the model fails to correctly interpret the context of the question, leading to a misunderstanding of what is being asked (e.g., percentage vs. actual amount).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a step to verify the context and requirements of the question before generating a response, ensuring that the model understands whether the question seeks a percentage, an absolute value, or another form of answer, and adjusts its calculation and response format appropriately.</Action>

    </Rule>
<Rule id="1502" phase="generation" confidence="1" source="log_1502" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or comparative financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change ((New Value - Old Value) / Old Value) * 100 is correctly applied, and verify that the old and new values correspond to the same category or financial metric being compared across different time periods, and KNOWLEDGE INJECTION: Validate the context to ensure the correct identification of old and new values for the calculation, particularly when dealing with receivables or financial metrics that may fluctuate over time</Action>

    </Rule>
<Rule id="1503" phase="generation" confidence="1" source="log_1503" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial acquisition costs where the model provides a numerical answer instead of a qualitative comparison result</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing two financial values to determine if one is greater than the other, ensure the response format matches the question's requirement for a qualitative (e.g., "yes" or "no") rather than a quantitative answer</Action>

    </Rule>
<Rule id="1504" phase="generation" confidence="1" source="log_1504" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving multiple time periods or values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, and verify that the values are accurately retrieved from the context and correctly plugged into the formula</Action>

    </Rule>
<Rule id="1505" phase="generation" confidence="1" source="log_1505" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total future obligations, the model incorrectly computes the ratio of a specific category to the total, particularly in the context of lease obligations and their distribution across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves accurately dividing the specific category's total by the overall total, and then multiplying by 100 to obtain the percentage, taking into account the correct categorization and summation of all relevant figures before performing the calculation.</Action>

    </Rule>
<Rule id="1506" phase="generation" confidence="1" source="log_1506" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and monetary values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the final answer is rounded to the correct number of significant figures as required by the context</Action>

    </Rule>
<Rule id="1507" phase="generation" confidence="1" source="log_1507" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage difference in cumulative total return between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage difference ((end_value / start_value - 1) * 100) is applied correctly for both entities, and then find the difference between these two percentages to obtain the final result, avoiding any incorrect arithmetic operations or rounding errors.</Action>

    </Rule>
<Rule id="1508" phase="generation" confidence="1" source="log_1508" type="Program_Logic_Failure">

        <Trigger>Comparing cumulative total returns of financial entities over multiple years</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating cumulative total returns for comparison, verify that all relevant data points for each entity are considered, and the calculations are performed in the correct order (i.e., calculating the individual returns first, then comparing them), to prevent logic errors that might lead to incorrect conclusions.</Action>

    </Rule>
<Rule id="1508" phase="generation" confidence="1" source="log_1508" type="Arithmetic Hallucination">

        <Trigger>Calculation of Return on Investment (ROI) involving percentage change over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the ROI calculation is performed by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to obtain the percentage change, while maintaining precision throughout the calculation process</Action>

    </Rule>
<Rule id="1509" phase="generation" confidence="1" source="log_1509" type="Arithmetic_Hallucination">

        <Trigger>Calculating the difference in effective borrowing rates due to the use of swaps, where multiple years' data is provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always subtract the effective average borrowing rate after swaps of the base year from the effective average borrowing rate after swaps of the comparison year, ensuring to apply the correct mathematical operation for calculating differences in rates.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="precision_analysis" type="ArithmeticPrecisionError">
        <Trigger>Calculation of growth rates or percentages involving financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentages and growth rates, are performed with sufficient precision, and apply consistent rounding rules to avoid minor discrepancies in the final results.</Action>
    </Rule>
<Rule id="1512" phase="generation" confidence="1" source="log_1512" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Original Value) / Original Value) * 100, ensuring the correct order of operations and accurate handling of negative values.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating income from discontinued operations, excluding a specific gain, and given multiple financial figures related to discontinued operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for income from discontinued operations correctly subtracts the gain on sale of discontinued operations from the total income from discontinued operations, considering the correct units (e.g., thousands to millions) for the final answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating averages or totals and the context mentions multiple items or quantities, such as the number of warehouses and their sizes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation involves dividing the total quantity by the number of items to find the average, rather than just reporting the total quantity as the average.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving asset impairment expense and total expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct formula (part/whole) * 100 is applied, and intermediate results are accurately rounded to the required precision, avoiding unnecessary decimal places unless explicitly required by the context.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ComparativeLogicError">

        <Trigger>When comparing financial metrics, such as return on assets and purchases issuances and settlements, to determine if one is greater than the other.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison logic correctly evaluates the relative magnitudes of the financial metrics, considering the absolute values and signs of the metrics, to provide an accurate answer to the question.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_goodwill" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving multiple time periods or values, especially when calculating decline or increase rates over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the signs of the values are correctly considered to avoid inversion of the percentage change direction.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="finqa_log" type="ArithmeticHallucination">
        <Trigger>Calculating return on investment (ROI) over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that ROI calculations correctly apply the formula (End Value - Start Value) / Start Value, and accurately reflect increases or decreases in investment value, providing a negative result for losses and a positive result for gains.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucinationError">

        <Trigger>When calculating provisions for specific credit loss categories, the model incorrectly applies arithmetic operations or neglects to consider the context of percentages versus absolute values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating components of a provision, such as non-consumer credit losses, the model correctly interprets whether the question requires a percentage or an absolute value and applies the appropriate arithmetic operations, considering all relevant factors and avoiding direct subtraction of unrelated totals.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ProgramLogicFailure">

        <Trigger>The model fails to recognize the necessity of calculating percentages or ratios when determining the proportion of a provision allocated to a specific category, such as non-consumer credit losses.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify when a question implies the need for a percentage or ratio calculation, especially in financial contexts involving provisions and allocations, and adjust the arithmetic operations accordingly to provide a meaningful and contextually appropriate answer.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="ContextRetrievalError">

        <Trigger>The model incorrectly assumes or neglects to retrieve the relevant context (e.g., total provision, specific provisions for categories) necessary for accurately calculating the proportion of the provision for non-consumer credit losses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure thorough context retrieval by identifying all relevant financial metrics and their relationships before performing calculations, especially in cases where proportions or percentages of a total are required, to avoid incorrect assumptions about the data provided.</Action>

    </Rule>
<Rule id="1520" phase="generation" confidence="1" source="log_1520" type="Arithmetic Hallucination">

        <Trigger>Calculating tax deductible assets for acquisition, presence of multiple asset types with different amortization periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all asset types are considered, and their respective amortization periods are correctly applied to determine the total tax deductible amount, avoiding incorrect assumptions of complete deductibility or non-deductibility.</Action>

    </Rule>
<Rule id="1521" phase="generation" confidence="1" source="log_1521" type="Program Logic Failure">

        <Trigger>Goodwill associated with acquisition is not deductible for tax purposes, but other intangible assets are</Trigger>

        <Action>KNOWLEDGE INJECTION: Distinguish between goodwill and other intangible assets in calculating tax deductibility, applying the correct amortization periods for each type of asset to accurately determine the percentage of deductible assets.</Action>

    </Rule>
<Rule id="1522" phase="generation" confidence="1" source="log_1522" type="Incorrect Context Retrieval">

        <Trigger>Failure to consider the context of tax deductibility for different types of assets acquired</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the context of tax deductibility is correctly applied to each type of asset, considering the specific amortization rules and periods for intangible assets, and ensuring that only eligible assets are included in the calculation of tax deductible assets.</Action>

    </Rule>
<Rule id="1521" phase="generation" confidence="1" source="log_1521" type="FormatOmissionError">

        <Trigger>Percentage calculations and responses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage responses include the percentage symbol (%) to maintain consistency and clarity in financial reporting.</Action>

    </Rule>
<Rule id="1521" phase="generation" confidence="1" source="log_1521" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple data points or time series, especially when calculating changes between two distinct periods or values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that percentage change calculations are performed using the correct formula, which involves subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to obtain the percentage change. KNOWLEDGE INJECTION: Verify that all relevant data points, including initial and final values, are accurately identified and applied in the calculation to avoid arithmetic hallucination or logic failure.</Action>

    </Rule>
<Rule id="1523" phase="generation" confidence="1" source="log_1523" type="ArithmeticCalculationError">
        <Trigger>Percentage change calculations involving time-series data, particularly in financial statements.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change ((New Value - Old Value) / Old Value) * 100, and verify the accuracy of input values to ensure correct arithmetic operations.</Action>
    </Rule>
<Rule id="1523" phase="generation" confidence="1" source="log_1523" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage cumulative total shareholder return</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all intermediate calculations, including percentage changes and cumulative returns, are performed accurately and in the correct order, using the formula for cumulative return: ((End Value / Beginning Value) - 1) * 100, and considering the effects of dividend reinvestment.</Action>

    </Rule>
<Rule id="1524" phase="generation" confidence="1" source="log_1524" type="Arithmetic_Hallucination">

        <Trigger>Year-over-year change calculations involving subtraction of successive values, especially in financial contexts such as litigation reserves or expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating year-over-year changes, the correct order of operations is followed, specifically subtracting the prior year's value from the current year's value. KNOWLEDGE INJECTION: Verify that the calculation correctly reflects the intended comparison, focusing on the change between two periods rather than absolute values.</Action>

    </Rule>
<Rule id="1526" phase="generation" confidence="1" source="log_1526" type="Arithmetic Hallucination">

        <Trigger>Calculating proportions or percentages of financial reclassifications or gains/losses from given financial data, particularly when involving hedge instruments and derivatives not designated as hedge instruments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure to calculate proportions or percentages based on the total relevant amount rather than selecting an incorrect figure from the given data. KNOWLEDGE INJECTION: Verify that the calculation accurately reflects the relationship between the portion of the reclassification and the total reclassified amount, ensuring correct application of financial formulas and context understanding.</Action>

    </Rule>
<Rule id="1526" phase="generation" confidence="1" source="log_1526" type="Arithmetic Hallucination">

        <Trigger>Calculation of average values from multiple years of financial data, particularly for items like foreign currency translation losses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for the specified years are correctly identified and summed before calculating the average. KNOWLEDGE INJECTION: Apply the formula for average calculation correctly, which involves summing all the values and then dividing by the number of values, to prevent arithmetic hallucination.</Action>

    </Rule>
<Rule id="1527" phase="generation" confidence="1" source="log_1527" type="Arithmetic_Hallucination">

        <Trigger>Aggregate repurchase amounts including additional authorizations are mentioned in the context, but the model fails to sum these values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all specified amounts, including any increases or additional authorizations, are accurately summed to calculate the total authorized amount, especially when the context explicitly mentions multiple values that contribute to an aggregate total.</Action>

    </Rule>
<Rule id="1528" phase="generation" confidence="1" source="log_1528" type="IncorrectContextRetrievalOrProgramLogicFailure">
        <Trigger>Comparison questions involving financial returns or indices where direct information for all entities is not provided.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model can either directly calculate comparisons based on given data or clearly acknowledge when direct calculations cannot be made due to insufficient information, potentially suggesting alternative related data for inference if applicable.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Ratio calculation involving consolidated units of different categories, such as commercial and multi-family units.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios involving different categories of consolidated units, ensure that the correct numerator and denominator are identified and used in the calculation, taking into account the specific context provided, and verify that all relevant units are included in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="ProgramLogicFailure">
        <Trigger>Calculating change in financial values over time, especially for percentages.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating changes in financial metrics over two periods, ensure to apply the formula for percentage change: ((Final Value - Initial Value) / Initial Value) * 100.</Action>
    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_1531" type="Arithmetic_Hallucination">

        <Trigger>Question asks for total or aggregate values under multiple categories or years, but the model responds with a list of individual values instead of their sum.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when a question prompts for a total or aggregate value across different categories, years, or types, the model sums all relevant values before providing a response.</Action>

    </Rule>
<Rule id="1532" phase="generation" confidence="1" source="log_1532" type="Arithmetic_Hallucination">

        <Trigger>Calculation of effective income tax rate from share-based expense, where the model's response deviates from the correct answer by a small margin, indicating a potential rounding error or incorrect arithmetic operation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages, especially those derived from financial metrics such as share-based compensation expenses and their corresponding income tax benefits, are performed with precise arithmetic operations and proper rounding at the final step, avoiding intermediate rounding that could introduce errors</Action>

    </Rule>
<Rule id="1533" phase="generation" confidence="1" source="log_1533" type="ArithmeticPrecisionError">

        <Trigger>Calculations involving percentage changes or growth rates over time, especially when dealing with financial data such as net amounts, direct amounts, ceded amounts, and assumed amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations, particularly those involving percentages or ratios, are performed with precise arithmetic operations, considering the potential for rounding errors and ensuring that intermediate results are calculated with sufficient precision before final rounding.</Action>

    </Rule>
<Rule id="1534" phase="generation" confidence="1" source="log_1534" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total number of new sites acquired and constructed for a specific year, and the context provides multiple regional values for that year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that only the values corresponding to the specified year and regions mentioned in the question are summed, without including values from other years or regions not relevant to the query.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="arithmetic_hallucination">
        <Trigger>Calculation of percentage of a component within a total in financial statements</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always verify that the model applies the correct formula for percentage calculations, ensuring the accurate division of the component by the total and subsequent multiplication by 100, to avoid arithmetic hallucination errors.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving contractual obligations and total payments due by period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values used in percentage calculations are accurately extracted from the relevant sections of the financial data, and apply the formula correctly by dividing the specific obligation by the total contractual obligation and then multiplying by 100, rounding the result as necessary to match the expected precision of the answer.</Action>

    </Rule>
<Rule id="1538" phase="generation" confidence="1" source="log_1538" type="ArithmeticHallucination">

        <Trigger>Presence of net assets acquired and accounts receivable values in the context, requiring subtraction to find the net assets acquired net of accounts receivable</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final result of any subtraction operation involving monetary values is presented in the correct magnitude (e.g., millions) and without unnecessary decimal places, unless specifically required by the context</Action>

    </Rule>
<Rule id="1539" phase="generation" confidence="1" source="log_1539" type="ProgramLogicFailure">

        <Trigger>Questions asking for net values after subtracting specific assets, such as accounts receivable from net assets acquired</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating net assets after subtracting specific components (e.g., accounts receivable), ensure that the subtraction operation is performed correctly and that the result is appropriately scaled (e.g., in millions) as per the question's requirements</Action>

    </Rule>
<Rule id="1539" phase="generation" confidence="1" source="log_1539" type="Arithmetic Hallucination">

        <Trigger>When calculating provisions to operating cash flow from a money pool as a percentage of receivables from the same pool, and the model provides an answer that seems unreasonably low given the context of financial ratios.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving financial metrics, the model verifies the correct placement and scale of the numbers involved in the calculation, particularly ensuring that the chosen numerator and denominator are appropriate for the financial ratio being calculated and that the decimal places are correctly handled to reflect a percentage.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure_ArithmeticHallucination">
        <Trigger>Calculating percentages from annual financial commitments or expenses</Trigger>
        <Action>
            CRITICAL FORMATTING RULE: Sum all annual commitments to obtain the total before calculating percentages.
            KNOWLEDGE INJECTION: Calculate percentages by dividing the specific year's amount by the total sum of commitments and then multiplying by 100.
        </Action>
    </Rule>
<Rule id="1541" phase="generation" confidence="1" source="log_1541" type="IncompleteDataConsiderationError">

        <Trigger>When comparing the performance of a financial entity to an index over a specified time period, the model fails to consider the entire time frame or includes incorrect years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant years within the specified time frame are included in the calculation and that the start and end years match the query's requirements. KNOWLEDGE INJECTION: Understand that comparing financial performance involves calculating returns or changes over the same period for both the entity and the benchmark index.</Action>

    </Rule>
<Rule id="1542" phase="generation" confidence="1" source="log_1542" type="InsufficientCalculationError">

        <Trigger>When calculating the performance of a financial entity or index, the model stops calculations prematurely or fails to account for the total return over the specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate the total return or change for the entire specified period, including all intermediate steps and ensuring the final calculation reflects the complete time frame in question. KNOWLEDGE INJECTION: Recognize that total return calculations must consider each period's change and compound these changes appropriately to reflect the overall performance.</Action>

    </Rule>
<Rule id="1543" phase="generation" confidence="1" source="log_1543" type="ContextMisinterpretationError">

        <Trigger>The model misinterprets the context of the question, such as the time frame or the entities involved in the comparison.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Carefully read and interpret the context of the question to ensure all calculations are relevant and correctly scoped. KNOWLEDGE INJECTION: Understand the importance of identifying the specific financial entities, time frames, and metrics (e.g., total return, index values) involved in the comparison to provide an accurate answer.</Action>

    </Rule>
<Rule id="1541" phase="generation" confidence="1" source="log_1541" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage of total minimum lease payments due in a specific year for operating and capital leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of total minimum lease payments due in a specific year, ensure that all relevant lease payments for that year are accurately summed and then divided by the total minimum lease payments, considering both operating and capital leases, and round the result to the nearest whole number if required by the context</Action>

    </Rule>
<Rule id="1542" phase="generation" confidence="1" source="log_1542" type="Arithmetic_Hallucination">

        <Trigger>When calculating the mathematical range of debt maturities, the model provides an answer that does not correspond to the actual range of values provided in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when determining the range of values, the model calculates the difference between the maximum and minimum values mentioned in the relevant financial statements or context, rather than providing an arbitrary or unrelated value.</Action>

    </Rule>
<Rule id="1544" phase="generation" confidence="1" source="log_1544" type="Arithmetic_Hallucination">

        <Trigger>When calculating the proportion of a purchase price funded by existing credit facilities versus new borrowing, and the model provides a response that is an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the proportion by dividing the amount funded by existing credit facilities by the total purchase price and then multiplying by 100 to obtain the percentage, rather than providing an absolute value.</Action>

    </Rule>
<Rule id="1545" phase="generation" confidence="1" source="log_1545" type="Program_Logic_Failure">

        <Trigger>When the model fails to consider all relevant funding sources (e.g., term loans, private offerings, temporary borrowings, and senior notes) in calculating the proportion of the purchase price funded by existing credit facilities.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify and sum all relevant funding sources mentioned in the context to determine the total amount funded by existing credit facilities before calculating the proportion.</Action>

    </Rule>
<Rule id="1546" phase="generation" confidence="1" source="log_1546" type="Incorrect_Context_Retrieval">

        <Trigger>When the model incorrectly identifies the relevant information (e.g., purchase price, funding sources) from the context, leading to an incorrect calculation of the proportion funded by existing credit facilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model accurately retrieves the purchase price and all relevant funding sources from the context before performing any calculations.</Action>

    </Rule>
<Rule id="1545" phase="generation" confidence="1" source="log_1545" type="ArithmeticError">
        <Trigger>Calculation of change in financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate changes in financial values by subtracting the earlier value from the later value, ensuring the correct direction of calculation.</Action>
    </Rule>
<Rule id="1546" phase="generation" confidence="1" source="log_1546" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total obligations or liabilities, especially in the context of contractual obligations by period or financial summaries.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total obligations, the model accurately divides the specific obligation by the total obligation and then multiplies by 100, rounding the result appropriately to avoid precision errors, while maintaining consistency in the number of decimal places presented in the final answer.</Action>

    </Rule>
<Rule id="1547" phase="generation" confidence="1" source="log_1547" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of increase in net revenue attributed to a specific event or acquisition, and the model responds with an inability to calculate due to insufficient information despite having relevant data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical data mentioned in the context is utilized to calculate percentages or proportions, especially when the question explicitly asks for a portion or percentage of a total change attributed to a specific cause.</Action>

    </Rule>
<Rule id="1547" phase="generation" confidence="1" source="log_1547" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change involving multiple variables such as quantity and fair value per unit over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all variables, including quantity and fair value, are correctly updated and applied to the formula for calculating growth rate or percentage change. KNOWLEDGE INJECTION: Verify that the calculation correctly accounts for changes in both the quantity of units and their respective fair values over the specified period, using the formula: ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are calculated by multiplying the quantity of units by their respective fair values at each period.</Action>

    </Rule>
<Rule id="1548" phase="generation" confidence="1" source="log_1548" type="ArithmeticHallucination">

        <Trigger>Calculation of percentages involving multiple components of a total charge</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a component charge relative to the total charge, the formula (component charge / total charge) * 100 is applied accurately, considering all relevant decimal places for precise calculation.</Action>

    </Rule>
<Rule id="1549" phase="generation" confidence="1" source="log_1549" type="Arithmetic_Hallucination">

        <Trigger>Percentage performance growth calculation for cumulative total return over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage growth is based on the actual difference between the final and initial values over the specified period, properly accounting for compounding and using the formula: ((Final Value - Initial Value) / Initial Value) * 100, to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1550" phase="generation" confidence="1" source="log_1550" type="Arithmetic_Hallucination">

        <Trigger>When calculating changes in financial values between two periods, especially for items like loans held-for-sale in different category levels.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of changes in financial values between two periods involves subtracting the earlier period's value from the later period's value, taking into account the correct categorization and valuation of assets (e.g., level 3 category), and verify that the calculation correctly reflects the direction of change (increase or decrease) and its magnitude.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>When calculating interest expense for a loan, and the model's response contains an unrealistically large or small value compared to the given interest rate and principal amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the interest expense calculation is based on the correct interest rate and principal balance, taking into account the compounding frequency and the time period for which the interest is being calculated. KNOWLEDGE INJECTION: Verify that the formula used for calculating interest expense is accurate and applicable to the given financial context, considering factors such as the timing of payments and the interest rate type (e.g., fixed vs. floating).</Action>

    </Rule>
<Rule id="1552" phase="generation" confidence="1" source="log_1552" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage return differences between entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage return calculations are based on the actual change in value over the specified period, using the formula ((End Value - Start Value) / Start Value) * 100, and apply this formula consistently to all relevant entities before comparing their returns</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="financial_context_analysis" type="ArithmeticLogicError">
        <Trigger>Questions involving comparison of financial expenditures or revenues in different categories (e.g., operating, financing, investing activities) within financial statements.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial figures are correctly identified and compared using appropriate arithmetic operations (addition, subtraction, comparison) based on the context of the question, and verify that the logical conclusion drawn from these operations aligns with standard financial reasoning principles.</Action>
    </Rule>
<Rule id="1554" phase="generation" confidence="1" source="log_1554" type="Arithmetic Hallucination">

        <Trigger>When calculating total expenses over multiple years, ensure all annual expenses are correctly aggregated.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant expense values mentioned in the context are summed accurately, without omitting any years or expense types, to derive the total expense over the specified period.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations involve subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage change.</Action>

    </Rule>
<Rule id="1557" phase="generation" confidence="1" source="log_1557" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving interest rates or financial metrics, where the model provides an incorrect percentage change value due to miscalculation or incorrect application of formulas.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes in financial metrics, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the values used are the actual values of the metrics being compared, not the differences or other derived values.</Action>

    </Rule>
<Rule id="1557" phase="generation" confidence="1" source="log_1557" type="Arithmetic Hallucination">

        <Trigger>Calculate total amount lost from bond authorization to withdrawn</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total amount lost is calculated by subtracting the total amount drawn from the total authorized amount for all bonds, considering each bond's authorized and drawn amounts separately before summing the differences.</Action>

    </Rule>
<Rule id="1558" phase="generation" confidence="1" source="log_1558" type="Program Logic Failure">

        <Trigger>Multiple bonds with different terms and authorized amounts</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that each bond has its own authorization and drawdown, and that calculating the total amount lost requires aggregating these values correctly across all bonds mentioned in the context.</Action>

    </Rule>
<Rule id="1559" phase="generation" confidence="1" source="log_1559" type="Incorrect Context Retrieval">

        <Trigger>Bond authorization and withdrawal information scattered across multiple entities or locations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant bond information (authorized amounts, drawn amounts, terms) is correctly retrieved and associated with the appropriate entities or locations before calculating the total amount lost.</Action>

    </Rule>
<Rule id="1558" phase="generation" confidence="1" source="log_1558" type="ArithmeticHallucination">

        <Trigger>Percentage calculation in the context of financial data, especially when determining the proportion of a specific financial component within a total amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the result is explicitly formatted as a percentage by appending the percentage sign (%) to avoid confusion with absolute values, and verify that the calculation correctly represents the proportion of the part to the whole.</Action>

    </Rule>
<Rule id="1560" phase="generation" confidence="1" source="log_1560" type="ArithmeticHallucination">

        <Trigger>Encountering a question that requires calculating a percentage of an ending balance, especially when the context mentions multiple components of the allowance for doubtful accounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of the allowance are correctly identified and their proportions accurately calculated to determine the requested percentage, avoiding reliance on unstated assumptions about the composition of the allowance.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_log" type="ArithmeticDirectionError">
        <Trigger>Calculation of net change between two periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always subtract the earlier period's value from the later period's value to determine the net change, and ensure the sign of the result reflects the direction of change (increase or decrease)</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>Comparing financial values across different categories, such as interest expense and tax provisions, without considering their implications on net income or loss.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing financial metrics, ensure to evaluate their respective impacts on the overall financial statement (e.g., income statement) and consider the direction of their effects (positive or negative) before making a comparison or drawing a conclusion.</Action>

    </Rule>
<Rule id="1562" phase="generation" confidence="1" source="log_1562" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving monetary values or financial metrics, where the model's response is a numeric value with a high degree of precision (e.g., decimals), and the correct answer requires precise arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in financial contexts, all relevant values are accurately retrieved, and arithmetic operations are performed with precise decimal handling to avoid rounding errors, confirming that the final result is rounded correctly according to the context's precision requirements.</Action>

    </Rule>
<Rule id="1563" phase="generation" confidence="1" source="log_1563" type="Arithmetic_Hallucination">

        <Trigger>Encountering a question that requires calculating a ratio between two financial metrics, particularly when the metrics are associated with different reporting units or time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the correct values for both the numerator and denominator are extracted from the context and that the arithmetic operation is correctly applied to these values. KNOWLEDGE INJECTION: Ensure that the model understands the context of "as of" dates and applies the correct values from the respective dates for the calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total amount of shares issued to directors during a period and the context provides multiple instances of shares granted, in treasury, and outstanding.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant shares (issued, in treasury, and outstanding) mentioned in the context are aggregated and summed appropriately to calculate the total amount, avoiding reliance on a single instance or figure.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic Calculation Error">
        <Trigger>Calculation of averages from given financial data points across different periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data points are correctly summed and then divided by the number of periods to calculate the average, double-checking the arithmetic operations for accuracy.</Action>
    </Rule>
<Rule id="1567" phase="generation" confidence="1" source="log_1567" type="ArithmeticPrecisionError">
        <Trigger>Financial calculations involving percentages or ratios</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations are carried out with full precision until final result presentation to avoid rounding errors</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two consecutive time periods with minimal difference in values</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify if the result rounds to a significant figure, especially when the difference between the new and old values is minimal</Action>

    </Rule>
<Rule id="1569" phase="postprocessing" confidence="1" source="log_1569" type="UnitOmissionError">

        <Trigger>Calculations involving percentages or ratios in financial contexts where the model provides a numeric value without a unit or contextually implied unit.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculated percentages or ratios are explicitly formatted with the appropriate unit (e.g., "%") to avoid confusion between absolute values and relative measures.</Action>

    </Rule>
<Rule id="1570" phase="generation" confidence="1" source="log_1570" type="ArithmeticHallucinationError">

        <Trigger>Calculating percentages of total contractual cash obligations, especially when considering long-term debt as a component of these obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the part (in this case, long-term debt) is divided by the whole (total contractual cash obligations), and then the result is multiplied by 100 to obtain the percentage. Additionally, verify that the calculation is performed with precise values to avoid rounding errors that might affect the final percentage value.</Action>

    </Rule>
<Rule id="1571" phase="generation" confidence="1" source="log_1571" type="ArithmeticHallucinationError">
        <Trigger>Questions asking for values in millions or other scaled units</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that numerical values are interpreted with their respective units of measurement (e.g., dollars, millions) and that conversions are applied correctly and only when necessary, based on the context of the question</Action>
    </Rule>
<Rule id="1571" phase="generation" confidence="1" source="log_1571" type="Arithmetic_Hallucination">

        <Trigger>Comparing multiple values to determine the highest or lowest, especially in financial metrics such as adjusted EBITDA across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing financial metrics across multiple periods to find the highest or lowest value, ensure that the comparison is done using the absolute values of the metrics if they can be negative, and consider the context of "highest" or "lowest" in terms of magnitude rather than numerical order.</Action>

    </Rule>
<Rule id="1572" phase="generation" confidence="1" source="log_1572" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving monetary values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed with precise decimal places to avoid rounding errors</Action>

    </Rule>
<Rule id="1573" phase="generation" confidence="1" source="log_1573" type="Arithmetic_Hallucination">

        <Trigger>Calculating return on investment for a specific year based on given initial and final values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the return on investment calculation accounts for the difference between the final value and the initial value for the specified period, and express it as a percentage of the initial value, using the formula: ((final_value - initial_value) / initial_value) * 100</Action>

    </Rule>
<Rule id="1574" phase="generation" confidence="1" source="log_1574" type="Program_Logic_Failure">

        <Trigger>Identifying the highest return among multiple investment options or years</Trigger>

        <Action>KNOWLEDGE INJECTION: When comparing returns across different periods or investments, ensure that the calculation is performed for each option separately and that the highest return is determined based on the calculated percentages, not absolute values</Action>

    </Rule>
<Rule id="1575" phase="generation" confidence="1" source="log_1575" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving relevant data for calculating the return on investment for a specific year or investment option</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the correct initial and final values for the specified investment and year are retrieved, and that these values are correctly associated with the investment option in question, to avoid mixing data from different investments or periods</Action>

    </Rule>
<Rule id="1574" phase="generation" confidence="1" source="log_1574" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving multiple years and weighted average shares outstanding for basic net earnings per share</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to apply the correct formula: ((Current Value - Previous Value) / Previous Value) * 100, and verify that the calculation is performed in the correct order, using the correct values for the current and previous periods, to avoid arithmetic hallucination errors</Action>

    </Rule>
<Rule id="1575" phase="generation" confidence="1" source="log_1575" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and volatility values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the correct values are used for the old and new values based on the context provided, without assuming a specific order or timeframe</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic Hallucination">

        <Trigger>Percent change calculations involving multi-year financial data, especially when determining increases or decreases between consecutive periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that all values are accurately retrieved from the context, and apply the formula ((New Value - Old Value) / Old Value) * 100, maintaining precision until the final answer is presented to avoid rounding errors</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="logic_error_log" type="ProgramLogicFailure">
        <Trigger>Comparing percentage changes between different financial categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes for each category separately before comparing them. KNOWLEDGE INJECTION: Ensure the comparison logic is applied to determine which category experienced the greater increase.</Action>
    </Rule>
<Rule id="1578" phase="generation" confidence="1" source="log_1578" type="ArithmeticHallucination">
        <Trigger>Calculating percentage changes between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the percentage change is calculated as ((New Value - Old Value) / Old Value) * 100, considering the direction of change and applying the formula correctly to avoid sign errors.</Action>
    </Rule>
<Rule id="1580" phase="generation" confidence="1" source="log_1580" type="Arithmetic Hallucination">
        
        <Trigger>Comparing investment returns between different sectors or stocks, where the model's response contains a percentage value without proper calculation or context.</Trigger>
        
        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing returns, the calculation is based on the actual difference in percentage change between the two sectors or stocks over the specified period, using the formula: ((End Value - Start Value) / Start Value) * 100 for each, and then comparing these percentages to determine the difference in return.</Action>
    
    </Rule>
<Rule id="1581" phase="generation" confidence="1" source="log_1581" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of components within a total, especially in the context of comparing values across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing percentages of a specific component (such as junior subordinated debt) within a total (like long-term debt) across two periods, the calculation is performed by dividing the component's value in the later period by its value in the earlier period, then multiplying by 100 to get the percentage, rather than directly comparing the component values or their differences.</Action>

    </Rule>
<Rule id="1582" phase="generation" confidence="1" source="log_1582" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total obligations for specific financial categories, such as property mortgages and ground leases, where multiple years' data and totals are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of total obligations for a specific category, all relevant values for that category across different periods are accurately summed, and then this total is correctly divided by the overall total obligations before multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="1582" phase="generation" confidence="1" source="log_1582" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of a specific component within a total, especially in the context of comparing values across different periods or categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation directly answers the question posed, focusing on the most relevant and directly mentioned data points without introducing unnecessary averaging or calculations that may not be requested, and verify that the final answer directly corresponds to the information sought in the question.</Action>

    </Rule>
<Rule id="1583" phase="generation" confidence="1" source="log_1583" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total value of a property based on the acquisition price and given ownership interest, and the model's response matches the acquisition price without considering the ownership interest.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total value calculation considers the ownership interest percentage by multiplying the acquisition price with the ownership interest percentage to obtain the correct total value for the specified ownership share.</Action>

    </Rule>
<Rule id="1585" phase="generation" confidence="1" source="log_1585" type="ProgramLogicFailure">

        <Trigger>Comparison of the impact of changes in financial assumptions, such as expected long-term return on assets and compensation rate, on pension expense</Trigger>

        <Action>CRITICAL FORMATTING RULE: When evaluating the impact of changes in assumptions on financial metrics, ensure that the model qualitatively assesses the relative effects of these changes, rather than solely relying on quantitative calculations, to provide a correct comparative answer</Action>

    </Rule>
<Rule id="1586" phase="generation" confidence="1" source="log_1586" type="ProgramLogicFailure">
        <Trigger>Multiple events or instances described in the context within a specific timeframe</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned instances are individually recognized and counted to arrive at the total number of events</Action>
    </Rule>
<Rule id="1587" phase="generation" confidence="1" source="log_1587" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal numbers or rounding</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to maintain precision by not rounding intermediate results until the final calculation step to avoid truncation errors, and verify if the rounding at the final step aligns with the required precision of the answer format.</Action>

    </Rule>
<Rule id="1587" phase="generation" confidence="1" source="log_1587" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total lease payments for operating leases, particularly when determining the proportion of non-cancelable future minimum lease payments that are current.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When computing percentages, ensure to round the result appropriately to match the context's precision requirements, avoiding unnecessary decimal places that may misrepresent the actual percentage, and consider the context's specific formatting instructions to provide the answer in the required format, such as rounding to the nearest whole number if the context implies a percentage should be a whole number.</Action>

    </Rule>
<Rule id="1588" phase="generation" confidence="1" source="log_1588" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in a financial metric over a specific period, where the model's response indicates a failure to correctly apply arithmetic operations to the given balance values at the start and end of the period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the net change in a financial metric, the difference between the end and start values of the period in question is correctly computed, taking into account the direction of change (increase or decrease) and applying the appropriate arithmetic operation to derive the net change.</Action>

    </Rule>
<Rule id="1590" phase="generation" confidence="1" source="log_1590" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage increase in financial metrics, such as net inflows or assets under management (AUM), when given the initial and final values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations are performed accurately by using the formula: ((final_value - initial_value) / initial_value) * 100, and consider rounding the result to the appropriate number of decimal places to maintain precision.</Action>

    </Rule>
<Rule id="1590" phase="generation" confidence="1" source="log_1590" type="ArithmeticHallucination">

        <Trigger>Calculation of subsidiary trusts obligations percentage due to bank subsidiary, where the model's response does not match the ground truth, indicating a potential arithmetic error or incorrect percentage calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of total subsidiary trusts obligations due to a specific entity, ensure that the correct total value is used as the denominator and the specific entity's value is used as the numerator, and then apply the percentage formula correctly to avoid arithmetic hallucination or logic failure.</Action>

    </Rule>
<Rule id="1591" phase="generation" confidence="1" source="log_1591" type="ArithmeticError">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the old and new values are correctly identified and ordered in the calculation to avoid sign errors.</Action>

    </Rule>
<Rule id="1592" phase="generation" confidence="1" source="log_1592" type="Arithmetic Hallucination">

        <Trigger>Encountering a question that requires calculating the difference in percent cumulative total return between two financial entities over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percent cumulative total return difference involves determining the total return of each entity over the specified period, then applying the formula for percentage difference correctly, considering the initial and final values of both entities and accounting for any dividends reinvested.</Action>

    </Rule>
<Rule id="1593" phase="evaluation" confidence="1" source="log_1593" type="Program Logic Failure">

        <Trigger>Receiving input data that includes multiple financial metrics and indexes, requiring the selection of relevant data for the calculation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the selected data for calculation matches the context of the question, and that the formula applied correctly accounts for the specifics of the financial metrics and indexes provided, such as reinvested dividends and the specific time frame.</Action>

    </Rule>
<Rule id="1594" phase="interpretation" confidence="1" source="log_1594" type="Incorrect Context Retrieval">

        <Trigger>Interpreting a question that implies a comparison between a specific company's stock performance and a broader market index over a defined period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the context retrieved for the calculation includes the correct initial investment assumption, the accurate final values of the stock and the index, and that these values are used to calculate the cumulative total return, considering any reinvestments, to then find the percentage difference as requested.</Action>

    </Rule>
<Rule id="1593" phase="generation" confidence="1" source="log_1593" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of total contractual obligations and commitments that are total debt principal</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of total contractual obligations and commitments, including but not limited to debt principal, capitalized leases, operating leases, purchase commitments, and other liabilities, are accurately identified and summed before calculating the percentage of total debt principal.</Action>

    </Rule>
<Rule id="1594" phase="generation" confidence="1" source="log_1594" type="Arithmetic_Hallucination">

        <Trigger>Calculating fees and costs as a percentage of the principal amount or approximate net proceeds in financial transactions, especially in the context of debt securities and note issuances.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all fees and costs are accurately calculated as a percentage of the relevant financial metric (e.g., principal amount or approximate net proceeds) by subtracting the approximate net proceeds from the principal amount and then dividing by the principal amount, before converting the result into a percentage. KNOWLEDGE INJECTION: Recognize that the correct formula for calculating the percentage of fees and costs involves understanding the relationship between the principal amount, the net proceeds, and the fees incurred during the issuance of debt securities.</Action>

    </Rule>
<Rule id="1595" phase="generation" confidence="1" source="log_1595" type="Arithmetic_Hallucination">

        <Trigger>When calculating total net assets, ensure that all components such as goodwill and net assets acquired are correctly integrated into the calculation, considering their actual contribution to the overall value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of total net assets involves a correct understanding of the financial concepts, including subtracting liabilities and considering the impact of goodwill and other intangible assets, rather than simply adding all mentioned figures.</Action>

    </Rule>
<Rule id="1596" phase="generation" confidence="1" source="log_1596" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two different years' financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the correct percentage change, avoiding incorrect arithmetic operations that lead to hallucinated results</Action>

    </Rule>
<Rule id="1598" phase="generation" confidence="1" source="log_1598" type="Arithmetic Hallucination">

        <Trigger>Change calculation between two time periods for financial metrics such as gains or losses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure subtraction is applied correctly when calculating changes between two periods, considering the sign of the values (e.g., losses as negative and gains as positive) to avoid incorrect results.</Action>

    </Rule>
<Rule id="1598" phase="generation" confidence="1" source="log_1598" type="ProgramLogicFailure">
        <Trigger>Calculating percentage change attributed to specific factors in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change due to specific factors (e.g., volume/weather) correctly applies the formula: ((Change in factor) / (Total change in net revenue)) * 100, considering all relevant data points and their impacts on net revenue.</Action>
    </Rule>
<Rule id="1600" phase="calculation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of net income from earnings per share and weighted average common shares outstanding</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always multiply the basic earnings per share by the weighted average common shares outstanding (basic) to calculate net income, ensuring to use the correct values for the specified year and rounding appropriately.</Action>
    </Rule>
<Rule id="1601" phase="evaluation" confidence="1" source="log_1601" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial values across different categories to determine which is greater</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure direct numerical comparison is performed between relevant financial values without introducing unrelated or fictional numbers, focusing solely on provided data for calculations and comparisons</Action>

    </Rule>
<Rule id="1602" phase="generation" confidence="1" source="log_1602" type="Program_Logic_Failure">

        <Trigger>Calculations involving percentages or proportions of total budgets</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that calculations are grounded in actual provided numbers, avoiding the introduction of extraneous information or misinterpretation of given percentages and totals, to accurately reflect relative spending</Action>

    </Rule>
<Rule id="1603" phase="contextualization" confidence="1" source="log_1603" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieval of specific financial data for comparison (e.g., capital program values)</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the context correctly identifies and retrieves the relevant financial figures for each category being compared, ensuring that the comparison is made between the correct sets of data as per the question's requirements</Action>

    </Rule>
<Rule id="1601" phase="generation" confidence="1" source="log_1601" type="ArithmeticHallucination">

        <Trigger>When calculating dividend expenses and the context mentions a dividend amount per share and the number of shareholders, but the model only returns the dividend amount per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total dividend expense is calculated by multiplying the dividend amount per share by the total number of shares outstanding, rather than just returning the dividend amount per share.</Action>

    </Rule>
<Rule id="1602" phase="generation" confidence="1" source="log_1602" type="ProgramLogicFailure">

        <Trigger>When the model is tasked with calculating a quarterly dividend expense but fails to account for the total number of shareholders or the dividend amount per share.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation of dividend expenses involves both the dividend amount per share and the total number of shares outstanding, applying the correct arithmetic operations to derive the total expense.</Action>

    </Rule>
<Rule id="1603" phase="generation" confidence="1" source="log_1603" type="IncorrectContextRetrieval">

        <Trigger>When the model misinterprets the context or fails to identify relevant information such as the number of shareholders or the dividend amount per share when calculating dividend expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure thorough context analysis to identify all relevant figures such as the number of shareholders and the dividend amount per share, and confirm that these figures are correctly applied in the calculation of dividend expenses.</Action>

    </Rule>
<Rule id="1602" phase="generation" confidence="1" source="log_1602" type="Arithmetic Hallucination">

        <Trigger>Calculating the difference between two financial obligations, such as accumulated benefit obligation and projected benefit obligation, across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating differences between financial metrics, ensure that the correct values for each metric are retrieved and subtracted in the correct order (i.e., later value minus earlier value or as contextually appropriate), without introducing extraneous values or incorrect arithmetic operations.</Action>

    </Rule>
<Rule id="1603" phase="generation" confidence="1" source="log_1603" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage for a segment concerning all segments after considering a specific charge</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of a segment concerning all segments, ensure to sum all segment charges correctly and then divide the specific segment charge by the total charge, finally multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that all relevant charges are included in the calculation to avoid omission errors.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple years of financial data, particularly when determining the difference in fair value of share awards vested over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage increase using the formula ((New Value - Old Value) / Old Value) * 100, ensuring that the new and old values are correctly identified as the later and earlier years' data, respectively, and that the calculation is applied consistently across all relevant financial metrics and time frames</Action>

    </Rule>
<Rule id="1605" phase="generation" confidence="1" source="log_1605" type="ArithmeticError">

        <Trigger>Percent change calculations involving negative numbers or decreases in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, considering the sign of the change to accurately reflect increases or decreases</Action>

    </Rule>
<Rule id="1606" phase="generation" confidence="1" source="log_1606" type="Arithmetic_Hallucination">

        <Trigger>Revisions of previous estimates and improved recovery are mentioned in the context, requiring a calculation of total reserves.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant factors, including revisions and improvements, are accurately accounted for and summed to calculate the total reserves, considering potential rounding or precision effects that might influence the final result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving unrecognized tax benefits or similar financial metrics, where the initial and final values are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((final_value - initial_value) / initial_value) * 100, and verify the sign of the result to accurately represent an increase or decrease.</Action>

    </Rule>
<Rule id="1608" phase="generation" confidence="1" source="log_1608" type="ArithmeticLogicError">
        <Trigger>Calculating percentage changes involving reductions or increases in financial metrics.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((Old Value - New Value) / Old Value) * 100 for reductions, and apply the appropriate sign to indicate the direction of change.</Action>
    </Rule>
<Rule id="1609" phase="generation" confidence="1" source="log_1609" type="Arithmetic_Hallucination">

        <Trigger>Contingent consideration payments and aggregate purchase price calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all contingent payments and additional costs are accurately summed and added to the base purchase price to obtain the total purchase price, avoiding arithmetic errors by carefully considering all components of the purchase price.</Action>

    </Rule>
<Rule id="1610" phase="generation" confidence="1" source="log_1610" type="Arithmetic_Hallucination">

        <Trigger>When calculating the collection of receivables based on inventory turn, and the model provides a response without considering the actual collection period and inventory turnover rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of receivables collection is based on the correct application of the inventory turn rate to the relevant time period, taking into account the actual collection period and not just the inventory turn rate in isolation. KNOWLEDGE INJECTION: Verify that the model understands the relationship between inventory turn, collection period, and receivables balance to provide an accurate calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating aggregate values such as totals from multiple periods or components, and the model response does not match the expected outcome based on given numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant numerical values provided in the context are correctly added or summed according to the question's requirements before providing a final answer, verifying that each component contributing to the total is accurately accounted for.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation involving asset write-downs or impairments, where the model's response differs from the correct answer by a small margin.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages involving write-downs or impairments, ensure that the numerator and denominator are correctly identified and that the division is performed accurately, considering all relevant factors such as the aggregate carrying amount and the estimated fair value of the assets.</Action>

    </Rule>
<Rule id="1613" phase="generation" confidence="1" source="log_1613" type="Arithmetic_Hallucination">

        <Trigger>Calculating net change in quantities over time, especially when comparing counts or amounts at different dates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always subtract the earlier value from the later value when calculating net change, ensuring that the order of subtraction reflects the chronological order of the data points.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage change between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the correct application of the percentage change formula ((New Value - Old Value) / Old Value) * 100, and verify that the direction of change (increase or decrease) is correctly interpreted based on the comparison of the new and old values.</Action>
    </Rule>
<Rule id="1615" phase="generation" confidence="1" source="log_1615" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage cumulative total return for financial instruments over a period of time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage cumulative total return is correctly applied, taking into account the initial and final values of the financial instrument, and that all intermediate calculations are accurately performed to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1616" phase="generation" confidence="1" source="log_1616" type="Program_Logic_Failure">

        <Trigger>Comparison of financial performance metrics between different entities, such as companies and indexes</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the correct entities are being compared, and that the calculation of the difference in percentage cumulative total return is based on the correct initial and final values for each entity, to prevent program logic failure.</Action>

    </Rule>
<Rule id="1617" phase="generation" confidence="1" source="log_1617" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieval of historical financial data for entities, including companies and indexes</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct historical data is retrieved for each entity, and that the data is accurately matched to the corresponding time period, to prevent incorrect context retrieval and ensure accurate calculations.</Action>

    </Rule>
<Rule id="1617" phase="generation" confidence="1" source="log_1617" type="ArithmeticHallucination">

        <Trigger>Calculating percentage changes or differences in financial metrics, such as gross margin, where the model provides an answer that significantly deviates from the expected range or pattern of such changes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in financial metrics, such as percentage point changes, the model accurately applies the formula for percentage change and considers the context of the question to validate the reasonableness of the calculated result against typical financial performance variations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>When calculating percentage increase between two time periods, especially in the context of financial metrics such as payment amount per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage increase is performed by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the formula used is ((Final Value - Initial Value) / Initial Value) * 100 to avoid arithmetic hallucination and ensure accurate financial analysis.</Action>

    </Rule>
<Rule id="1619" phase="generation" confidence="1" source="log_1619" type="ArithmeticHallucination">

        <Trigger>Calculation of change or difference between two financial values over time, particularly when dealing with negative numbers or significant digit differences.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of changes between financial periods accurately accounts for the subtraction of the earlier value from the later value, considering the signs (positive or negative) of the values and performing the operation in the correct order to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1620" phase="generation" confidence="1" source="log_1620" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage increase between two time periods in financial data, where the model incorrectly calculates the increase as an absolute difference instead of a percentage change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increase, ensure to divide the absolute difference by the original value and multiply by 100, rather than simply subtracting the original value from the new value. KNOWLEDGE INJECTION: Recognize that percentage increase is a relative measure, requiring division and multiplication operations to obtain the correct result.</Action>

    </Rule>
<Rule id="1620" phase="generation" confidence="1" source="log_1620" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two values, especially when dealing with financial metrics such as gross margins over different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, maintaining the order of operations and avoiding rounding errors that might lead to incorrect percentage change calculations.</Action>

    </Rule>
<Rule id="1621" phase="generation" confidence="1" source="log_1621" type="Arithmetic_Hallucination">

        <Trigger>Calculating debt-asset ratio</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the debt-asset ratio, ensure that the total debt is divided by the total shareholders' equity, and then multiply by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="1622" phase="generation" confidence="1" source="log_1622" type="Arithmetic Hallucination">

        <Trigger>Calculation of cumulative totals from a series of annual values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the total amount received over a period, all relevant annual values are summed, not just the difference between the first and last years.</Action>

    </Rule>
<Rule id="1623" phase="generation" confidence="1" source="log_1623" type="arithmetic_hallucination">

        <Trigger>When calculating percentage decline in revenue due to loss of contracts, and the contracts' percentages are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the sum of the percentages of the lost contracts is calculated correctly by adding the individual percentages without including any unnecessary operations or assumptions, and then provide the result as a numerical value without appending a percentage sign unless the question explicitly asks for a percentage.</Action>

    </Rule>
<Rule id="1624" phase="generation" confidence="1" source="log_1624" type="Arithmetic Hallucination">

        <Trigger>Percent change calculations involving multiple time periods or financial metrics, where the model incorrectly applies arithmetic operations or fails to account for the direction of change (increase or decrease) in the financial values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percent changes in financial metrics between different periods, the formula [(New Value - Old Value) / Old Value] * 100 is correctly applied, taking into account the proper identification of new and old values based on the context provided, and accurately determining whether the change represents an increase or a decrease to produce the correct percentage change value.</Action>

    </Rule>
<Rule id="1625" phase="generation" confidence="1" source="log_1625" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total debt, ensure that all components of total debt are considered, especially the distinction between long-term debt and other debt components such as current maturities of long-term debt, commercial paper, and other short-term borrowings.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the calculation of percentages includes the correct and complete breakdown of the total, ensuring that all relevant components are accurately accounted for and summed before calculating the percentage. KNOWLEDGE INJECTION: Understand the financial definitions and boundaries between long-term debt and other debt components to accurately apply them in calculations.</Action>

    </Rule>
<Rule id="1627" phase="generation" confidence="1" source="log_1627" type="Arithmetic_Hallucination">

        <Trigger>Depreciation rate calculation for capitalized software costs is required, and the model provides a response without considering the total capitalized cost and the useful life of the software.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the depreciation rate for capitalized software costs is calculated by dividing the total capitalized cost by the useful life of the software, using the formula for straight-line depreciation or other applicable methods, and verify that the calculation is based on the correct total cost and useful life.</Action>

    </Rule>
<Rule id="1628" phase="generation" confidence="1" source="log_1628" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation involving temporal comparisons of financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly and that the values used are appropriate for the context, taking into account the specific financial metric and the time period in question</Action>

    </Rule>
<Rule id="1628" phase="generation" confidence="1" source="log_1628" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes between two time periods, and the model's response contains an absolute value instead of a percentage or proportion.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates percentage changes using the formula ((New Value - Old Value) / Old Value) * 100, and reports the result as a percentage, not an absolute difference.</Action>

    </Rule>
<Rule id="1630" phase="generation" confidence="1" source="log_1630" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of refunds in relation to total net cash income taxes paid, and the model's response is an implausible or negative value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentages correctly accounts for the refund as a reduction in the total taxes paid, and verify that all numbers are correctly signed (positive or negative) before performing arithmetic operations to avoid sign errors.</Action>

    </Rule>
<Rule id="1630" phase="generation" confidence="1" source="log_1630" type="ArithmeticError">

        <Trigger>ROI calculation involving percentage change over a period</Trigger>
        
        <Action>CRITICAL FORMATTING RULE: Ensure that the ROI calculation is performed by dividing the difference between the final and initial values by the initial value, and then multiplying by 100 to obtain the percentage return, rather than simply subtracting the initial value from the final value.</Action>
        
    </Rule>
<Rule id="1632" phase="generation" confidence="1" source="log_1632" type="ArithmeticHallucination">
        <Trigger>Upon encountering a series of financial values to be summed, especially in the context of calculating totals over multiple periods.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that each value is added only once and corresponds directly to a mentioned receivable or expense, avoiding unnecessary or duplicated additions that are not supported by the given context.</Action>
    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving proportions or percentages of total expected payments for benefits</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate rounding and representation of calculated percentages, considering the context of financial benefits calculations to avoid precision errors.</Action>

    </Rule>
<Rule id="R2" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Scenarios requiring the calculation of a portion of total expected payments</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula used for calculating portions of total expected payments correctly sums all relevant benefits before calculating the proportion, and applies the correct mathematical operations for percentage calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage growth and the model response lacks a percentage sign or the question explicitly asks for a percentage value</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always append a percentage sign to the calculated growth rate when the question explicitly requests a percentage value or when the context implies a percentage growth comparison</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>The model provides a numerical value without considering the context of percentage change, despite the presence of a base period and a subsequent period for comparison</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure the model understands the context of percentage calculations, recognizing that a percentage value represents a relative change between two periods, and adjust the response format accordingly to include the percentage sign when relevant</Action>

    </Rule>
<Rule id="1634" phase="generation" confidence="1" source="log_1634" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total of shares issued to employees over a specified period, the model fails to account for all relevant transactions, such as shares issued under employee stock purchase plans and shares sold to optionees.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant transactions related to employee share issuances are aggregated and summed before calculating the total number of shares issued, including but not limited to shares issued under employee stock purchase plans, shares sold to optionees, and any other applicable transactions.</Action>

    </Rule>
<Rule id="1635" phase="generation" confidence="1" source="log_1635" type="Program_Logic_Failure">

        <Trigger>The model incorrectly calculates the total shares issued due to a failure in identifying and applying the correct logic for summing shares from multiple sources over a multi-year period.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a logic check to confirm that the calculation of total shares issued to employees over multiple years correctly accumulates shares from all relevant sources, including employee stock purchase plans and option exercises, and applies the appropriate arithmetic operations to derive the accurate total.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Scenario involves calculating percentages of borrowers by payment type, including delinquent, interest-only, and amortizing payments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all categories of borrowers not making principal payments are identified and summed correctly, including but not limited to delinquent borrowers and those making interest-only or negatively amortizing payments.</Action>
    </Rule>
<Rule id="1636" phase="generation" confidence="1" source="log_1636" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving future annual commitments with minimum quantities and non-cancelable clauses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant time periods and corresponding amounts are accurately considered when calculating percentages of future commitments, particularly when distinguishing between commitments due before and after a specified year.</Action>

    </Rule>
<Rule id="1640" phase="generation" confidence="1" source="log_1640" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving decimal numbers or multiple significant figures, particularly when rounding is required.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentage calculations, are performed with sufficient precision and rounding applied only at the final step to avoid intermediate rounding errors.</Action>

    </Rule>
<Rule id="1638" phase="generation" confidence="1" source="log_1638" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two financial values, especially when the result is expected to be a rounded number or a specific decimal place precision.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are rounded to the appropriate number of decimal places as specified by the context or question requirements, and verify that the rounding logic is consistently applied across all similar calculations.</Action>

    </Rule>
<Rule id="1640" phase="generation" confidence="1" source="log_1640" type="ArithmeticError">

        <Trigger>Percent change calculations involving beginning and ending amounts of unrecognized tax benefits or similar financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by rechecking the formula for percent change, which should be ((Ending Amount - Beginning Amount) / Beginning Amount) * 100, and verify that all values are correctly inputted and calculated to avoid precision errors.</Action>

    </Rule>
<Rule id="1641" phase="generation" confidence="1" source="log_1641" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages from given totals, where the model fails to correctly apply the formula for percentage calculation or misinterprets the context of the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the model always divides the specific regional total by the global total and then multiplies by 100, to provide an accurate percentage representation. KNOWLEDGE INJECTION: Verify that the model understands the context of the question and applies the correct formula without introducing arithmetic errors.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of a company's property located in a specific region, and the context provides separate values for owned and total properties in different regions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of the company's property in a specific region is performed by dividing the total property value in that region by the total property value worldwide, and then multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that all relevant property values (owned and total) are correctly identified and utilized in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1642" phase="generation" confidence="1" source="log_1642" type="Arithmetic_Hallucination">

        <Trigger>When calculating future expenses based on percentage changes from previous years, ensure that the model correctly applies the percentage change to the previous year's value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that percentage changes are accurately applied to the base value of the previous period, and that the calculation follows the correct order of operations, including correctly calculating the new value based on the percentage change before rounding or finalizing the answer.</Action>

    </Rule>
<Rule id="1643" phase="generation" confidence="1" source="log_1643" type="Arithmetic_Hallucination">

        <Trigger>Identification of numerical comparison tasks, especially those involving expenses across multiple fiscal years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing numerical values to determine the largest expense across different years, ensure all values are directly compared in their original form without premature rounding or conversion, and verify that the selection of the largest value is based on a comprehensive comparison of all provided numbers</Action>

    </Rule>
<Rule id="1644" phase="generation" confidence="1" source="log_1644" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of a specific benefit as part of a balance, where the benefit and balance values are provided in the context, but the model's response does not accurately reflect the correct calculation based on the given numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that when calculating percentages of a part as a whole, the correct formula is applied: (part/whole) * 100, considering all relevant values provided in the context, and verify that the calculation accurately reflects the relationship between the specified benefit and the total balance.</Action>

    </Rule>
<Rule id="1645" phase="generation" confidence="1" source="log_1645" type="Arithmetic_Hallucination">

        <Trigger>Recognized increase in value as a pretax gain and calculation of percentage of total carrying value</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages based on pretax gains and total carrying values involves accurate division and multiplication steps, considering the correct order of operations and precise handling of numerical values to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="1646" phase="generation" confidence="1" source="log_1646" type="ArithmeticError">

        <Trigger>Percentage difference calculations involving high bid prices between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage difference calculations are performed by subtracting the latter value from the former and then dividing by the former value, multiplied by 100, to avoid sign errors and maintain consistency in calculation direction</Action>

    </Rule>
<Rule id="1648" phase="generation" confidence="1" source="log_1648" type="Arithmetic_Hallucination">

        <Trigger>Questions asking for percentage increases or decreases between two time periods in financial reports, particularly involving balance sheet items like goodwill or intangibles.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accurate representation of changes over time, especially when dealing with financial metrics that require precise calculation of growth or decline rates.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>When calculating the portion of equity compensation plans remaining available for future issuance, the model provides a numerical value that does not match the correct percentage based on given data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the remaining portion of equity compensation plans is performed as a percentage of the total available, by dividing the number of securities remaining available for future issuance by the total number of securities initially approved, then multiplying by 100 to convert to a percentage.</Action>

    </Rule>
<Rule id="1650" phase="generation" confidence="1" source="log_1650" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two financial periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that growth rates are calculated using the formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations to avoid rounding errors, and verify that the result is rounded correctly to the required decimal places</Action>

    </Rule>
<Rule id="1650" phase="generation" confidence="1" source="log_1650" type="Arithmetic_Hallucination">

        <Trigger>Calculating cumulative return on investment for multiple financial instruments over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change for each period is calculated correctly by taking the ratio of the ending value to the beginning value, then applying the formula for compound annual growth rate or cumulative return, and finally comparing the results between different financial instruments to determine the difference in total cumulative return on investment.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="arithmetic_precision_log" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes or growth rates</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentage calculations, are performed with precise values and rounding is applied as a final step to avoid intermediate rounding errors.</Action>
    </Rule>
<Rule id="1652" phase="generation" confidence="1" source="log_1652" type="Arithmetic_Hallucination">

        <Trigger>Customer penetration calculation for total regulated businesses involving multiple regions or segments with varying customer numbers and percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that customer penetration is calculated by summing the total number of customers across all regulated businesses and then dividing by the total estimated population served, taking into account the correct weighting or proportion of each business segment if necessary.</Action>

    </Rule>
<Rule id="1653" phase="generation" confidence="1" source="log_1653" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage change by subtracting the previous value from the current value, then dividing by the absolute value of the previous value, and finally multiplying by 100 to get the percentage, handling cases where the result may be negative due to a decrease in value</Action>

    </Rule>
<Rule id="1654" phase="generation" confidence="1" source="log_1654" type="Arithmetic Hallucination">

        <Trigger>Scenario involves calculating the value of an indirectly owned asset after a partial sale, where the ownership percentage is crucial for determining the remaining value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the value of indirectly owned assets, the percentage of ownership is correctly applied to the remaining value after any sale or transfer, considering all relevant stakeholders and their respective ownership percentages.</Action>

    </Rule>
<Rule id="1655" phase="generation" confidence="1" source="log_1655" type="Arithmetic_Hallucination">

        <Trigger>When calculating the variation between two investment returns over a period, the model provides an answer that seems to be a simple subtraction of two numbers without considering the actual calculation of percentage variation or return on investment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the variation between two investment returns, the model computes the percentage change correctly by using the formula: ((End Value - Start Value) / Start Value) * 100 for each investment and then finds the difference between these two percentages, not just a simple arithmetic operation between the end values or any other misinterpreted calculation.</Action>

    </Rule>
<Rule id="1657" phase="generation" confidence="1" source="log_1657" type="ArithmeticHallucinationError">

        <Trigger>Calculating percentual increase between two time periods for financial metrics such as average price per share</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentual increase calculation is performed using the formula ((NewValue - OldValue) / OldValue) * 100, where NewValue and OldValue are the respective financial metrics (e.g., average price per share) for the two time periods being compared, to prevent arithmetic hallucination errors</Action>

    </Rule>
<Rule id="1658" phase="generation" confidence="1" source="log_1658" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total unrecognized tax benefits, especially when comparing components like deferred taxes and other liabilities to the total amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the formula (component / total) * 100 is correctly applied, and verify that all components are correctly summed to obtain the total, avoiding rounding errors that might lead to inaccuracies.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating average values over multiple periods, especially when given specific numbers for each period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating averages from multiple given values, ensure to sum all relevant values and then divide by the total number of values to avoid arithmetic hallucination. KNOWLEDGE INJECTION: Confirm that all values are correctly identified as part of the dataset intended for averaging.</Action>

    </Rule>
<Rule id="1659" phase="generation" confidence="1" source="log_1659" type="arithmetic_hallucination">

        <Trigger>Questions involving comparisons of combined financial values across different categories or years, where the task requires calculating differences or totals.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values are accurately summed or subtracted as per the question's requirements, and verify that the calculation correctly reflects the comparison being asked, taking into account the specific financial categories and time frames mentioned in the question.</Action>

    </Rule>
<Rule id="R001" phase="post-processing" confidence="1" source="log_precision" type="PrecisionError">
        <Trigger>Calculation of percentage changes in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial metrics calculations are rounded according to the context's standard reporting practices before final output</Action>
    </Rule>
<Rule id="1661" phase="generation" confidence="1" source="log_1661" type="Arithmetic Hallucination">

        <Trigger>Change in net revenue and rider revenue percentage calculation</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of change in net revenue due to a specific revenue source, ensure that the difference in net revenue is correctly attributed to the change in that specific revenue source, using the formula: (change in specific revenue source / total change in net revenue) * 100, and verify that all relevant revenue sources are considered in the calculation.</Action>

    </Rule>
<Rule id="1662" phase="generation" confidence="1" source="log_1662" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving changes in quantities over time, particularly when determining declines or increases in values such as volumes, prices, or rates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the direction of change (increase or decrease) is correctly accounted for in calculations by subtracting the earlier value from the later value and applying the appropriate sign based on the context of the question (e.g., decline should yield a negative result if the earlier value is larger).</Action>

    </Rule>
<Rule id="1663" phase="generation" confidence="1" source="log_1663" type="Arithmetic_Hallucination">

        <Trigger>When calculating total expenses and a year-over-year change is provided as a specific amount, along with a percentage increase in expenses from a previous year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the year-over-year change amount is added to the previous year's expenses to calculate the current year's total expenses, especially when the change is provided in absolute terms and as a percentage of the previous year's expenses.</Action>

    </Rule>
<Rule id="1664" phase="generation" confidence="1" source="log_1664" type="Arithmetic Hallucination">

        <Trigger>Change in inventory values between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the impact of inventory changes on cash flow from operations, ensure that the direction of change (increase or decrease) is correctly applied as a positive or negative value, respectively, to accurately reflect the effect on cash flow.</Action>

    </Rule>
<Rule id="1665" phase="generation" confidence="1" source="log_1665" type="Arithmetic_Hallucination">

        <Trigger>Comparing percentage changes across different time periods for investment returns</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing investment returns across different periods, ensure that the total return for each period is calculated as a whole, considering the initial and final values of the investment for that specific period, rather than calculating year-by-year returns and then comparing them.</Action>

    </Rule>
<Rule id="1666" phase="generation" confidence="1" source="log_1666" type="Program_Logic_Failure">

        <Trigger>Calculating overall percentage change for a multi-year period</Trigger>

        <Action>KNOWLEDGE INJECTION: To calculate the total percentage change over a multi-year period, use the formula ((final_value - initial_value) / initial_value) * 100, where the initial value is the starting point of the period, and the final value is the ending point, regardless of the number of years involved.</Action>

    </Rule>
<Rule id="1667" phase="generation" confidence="1" source="log_1667" type="Context_Retrieval_Error">

        <Trigger>Identifying the correct time periods for comparison based on the question context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify the specific time periods mentioned in the question (e.g., "the first 5 years" vs. "the 2016 to 2017 time period") and ensure that calculations are performed according to these specified periods, not based on assumed or standard intervals.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="financial_concepts" type="ArithmeticHallucination">
        <Trigger>Calculation of tax rates from net unrealized losses and tax provisions</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all tax provisions are correctly netted against their respective net unrealized losses to accurately derive the tax rate, applying the formula: (Tax Provision / Net Unrealized Loss) * 100</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving significant differences between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the result is rounded to the nearest whole number or to a specific decimal place as required by the context, without adding extra decimal places unless explicitly stated otherwise</Action>

    </Rule>
<Rule id="1668" phase="generation" confidence="1" source="log_1668" type="ArithmeticHallucination">

        <Trigger>Change in reserve for estimated losses included in other liabilities on the consolidated balance sheet, particularly when comparing values between two different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in financial values between periods, ensure to subtract the earlier period's value from the later period's value to determine the correct direction and magnitude of change, rather than relying on assumptions about the direction of change.</Action>

    </Rule>
<Rule id="1670" phase="generation" confidence="1" source="log_1670" type="ArithmeticHallucination">

        <Trigger>When calculating the portion of equity compensation plans approved by security holders to be issued upon exercise of outstanding options, warrants, and rights, and the model provides a response that significantly diverges from the expected range based on given data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of equity to be issued is derived by dividing the number of securities to be issued upon exercise of outstanding options, warrants, and rights by the total number of securities remaining available for future issuance, considering all relevant columns in the provided data, and then multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the calculation logic correctly interprets the given data structure and columns, avoiding any confusion between different types of equity compensation plans or misinterpretation of weighted-average exercise prices.</Action>

    </Rule>
<Rule id="1670" phase="generation" confidence="1" source="log_1670" type="Arithmetic_Hallucination">

        <Trigger>Calculating net cash outflow for purchases of shares and dividends paid to noncontrolling interests</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all cash outflows mentioned in the context, including purchases of shares from noncontrolling interests and dividends paid to noncontrolling interests, are summed with proper consideration of their signs (positive for outflows, negative for inflows) to calculate the net cash outflow accurately.</Action>

    </Rule>
<Rule id="1671" phase="generation" confidence="1" source="log_1671" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to round the final result to the appropriate significant figure or as per the context's precision requirement, avoiding unnecessary decimal places that may not be relevant to the financial analysis or question being asked</Action>

    </Rule>
<Rule id="1672" phase="generation" confidence="1" source="log_1672" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, especially when determining year-over-year changes in financial metrics such as accretable yield activity.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula, ((New Value - Old Value) / Old Value) * 100, and that the old and new values are accurately identified from the relevant financial periods, considering the direction of time (e.g., comparing end-of-year values to beginning-of-year values of the subsequent year).</Action>

    </Rule>
<Rule id="1673" phase="generation" confidence="1" source="log_1673" type="Arithmetic Hallucination">

        <Trigger>When calculating a total or balance without a specific component, such as credit derivatives, and the model provides an incorrect answer that does not logically follow from the provided numbers or context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components are explicitly subtracted from the total when instructed to exclude them, and verify that the calculation logically follows from the given context and numbers, considering all parts of the data that could influence the correct outcome.</Action>

    </Rule>
<Rule id="1674" phase="generation" confidence="1" source="log_1674" type="Arithmetic_Hallucination">

        <Trigger>Comparison of investment returns between different sectors or stocks, where the model is required to calculate the percentage difference in returns.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating comparative returns, the model subtracts the base sector's return from the target sector's return and then divides by the base sector's return, finally multiplying by 100 to get the percentage difference. KNOWLEDGE INJECTION: Verify that the model understands the concept of percentage change and applies it correctly to compare investment returns across different sectors or stocks.</Action>

    </Rule>
<Rule id="1675" phase="generation" confidence="1" source="log_1675" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods for financial metrics, such as fair value of stock-based performance units outstanding</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination and provide accurate financial metric comparisons over time</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="analysis_log" type="Program Logic Failure">
        <Trigger>Encountering a scenario where a rate or percentage is provided to calculate an asset value.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model applies the given rate or percentage to the correct formula or context to derive the asset value, considering all relevant financial principles and calculations.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage composition of liquid assets and the question asks for the proportion made up by a specific component, such as short-term investments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the proportion of a specific component within a total is performed by dividing the value of that component by the total value of all components and then multiplying by 100 to get the percentage, rather than simply reporting the value of the component itself.</Action>

    </Rule>
<Rule id="1678" phase="generation" confidence="1" source="log_1678" type="Arithmetic_Hallucination">

        <Trigger>Calculating effective tax rates based on provided income tax expense and net income values, where the model's response deviates from the correct formula application.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the effective tax rate calculation is performed by dividing the income tax expense by the net income, and then multiplying by 100 to obtain the percentage, while verifying that all values used in the calculation are correctly extracted from the context and correctly applied in the formula.</Action>

    </Rule>
<Rule id="1679" phase="generation" confidence="1" source="log_1679" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ratios involving net fair value of acquired assets and liabilities, advances, and equity, where the model provides an incorrect response due to miscalculation or incorrect application of formulae.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating ratios involving the net fair value of acquired assets and liabilities to advances and equity, the correct formula is applied, and all relevant values are accurately identified and incorporated into the calculation, including proper handling of negative values and correct reduction of advances to acquired entities upon consolidation.</Action>

    </Rule>
<Rule id="1680" phase="generation" confidence="1" source="log_1680" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal values or ratios, especially when the model's response contains a slight deviation from the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding intermediate results appropriately and applying the percentage change formula correctly: ((New Value - Old Value) / Old Value) * 100, avoiding unnecessary decimal places unless required by the context.</Action>

    </Rule>
<Rule id="1681" phase="generation" confidence="1" source="log_1681" type="Arithmetic Hallucination">

        <Trigger>Share repurchase percentage calculations involving authorized and repurchased shares</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct total number of shares repurchased is used as the numerator and the total authorized shares for repurchase is used as the denominator when calculating the percentage of shares outstanding that have been repurchased, accounting for all relevant approvals and transactions up to the specified date.</Action>

    </Rule>
<Rule id="1682" phase="generation" confidence="1" source="log_1682" type="Arithmetic Hallucination">

        <Trigger>When calculating total long-term debt and encountering multiple maturity years with corresponding debt values, the model incorrectly sums a subset of these values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all debt values associated with different maturity years, including current maturities and values for each subsequent year, are accurately summed to calculate the total long-term debt, excluding only the current portion that is explicitly categorized as such.</Action>

    </Rule>
<Rule id="1683" phase="generation" confidence="1" source="log_1683" type="Arithmetic Hallucination">

        <Trigger>Calculation of differences between GAAP and non-GAAP financial metrics, particularly when determining the adjusted effective income tax rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of differences between two financial metrics is performed by subtracting the smaller value from the larger value, and verify that the sign of the result accurately reflects the direction of the difference (i.e., larger minus smaller, and check for negative values if the non-GAAP value is larger than the GAAP value).</Action>

    </Rule>
<Rule id="1684" phase="generation" confidence="1" source="log_1684" type="Arithmetic_Hallucination">

        <Trigger>Calculating total assets when given total debt and total shareholders' equity in a financial context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that total assets are calculated by summing total debt and total shareholders' equity, considering the correct formula: Total Assets = Total Debt + Total Shareholders' Equity, to prevent arithmetic hallucination and guarantee accurate financial calculations.</Action>

    </Rule>
<Rule id="1685" phase="generation" confidence="1" source="log_1685" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods for financial metrics such as accrued liabilities</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and maintain the correct order of operations and sign of the values to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="1687" phase="generation" confidence="1" source="log_1687" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving basis point increases and sensitivity estimates on financial derivatives</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial metrics and conversion factors are accurately applied when estimating sensitivity to basis point changes, and verify that the calculation correctly accounts for the specific context provided in the question, such as the differentiation between counterparty and own credit spreads.</Action>

    </Rule>
<Rule id="1688" phase="generation" confidence="1" source="log_1688" type="Arithmetic_Hallucination_Error">

        <Trigger>Percentage change calculations involving multiple years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two periods, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, paying special attention to the order of operations and the accurate representation of values.</Action>

    </Rule>
<Rule id="1689" phase="generation" confidence="1" source="log_1689" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation involving leased and total properties in a specific region</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the leased property in the specified region by the total property in that region, and then multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the calculation only includes relevant data for the specified region, excluding data from other regions.</Action>

    </Rule>
<Rule id="1690" phase="generation" confidence="1" source="log_1690" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and financial metrics, such as non-cash stock-based compensation expense.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between different time periods for financial metrics, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, taking into account the order of subtraction to avoid sign errors, and verify that the result is presented with the correct sign (positive or negative) to reflect an increase or decrease.</Action>

    </Rule>
<Rule id="1691" phase="generation" confidence="1" source="log_1691" type="ArithmeticHallucination">

        <Trigger>Ratio calculations involving time-series data across different geographic or operational segments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that ratio calculations involving comparative analysis (e.g., domestic vs. international) are performed using the correct base values for each category, and verify that the calculation accurately reflects the question's intent, such as dividing the domestic value by the international value for the same year.</Action>

    </Rule>
<Rule id="1691" phase="generation" confidence="1" source="log_1691" type="ArithmeticError">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to subtract the initial value from the final value and then divide by the initial value, multiplying by 100 to get the percentage, and correctly determine if the result is positive or negative to indicate increase or decrease.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="arithmetic_precision_log" type="arithmetic_hallucination">
        <Trigger>Percentage increase calculations involving financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations are performed with full precision, and rounding is applied only at the final step to avoid premature precision loss.</Action>
    </Rule>
<Rule id="1693" phase="generation" confidence="1" source="log_1693" type="Arithmetic_Hallucination">

        <Trigger>Calculating changes in financial metrics between two periods, such as increases or decreases in payroll and related withholdings, where the model provides an answer that does not accurately reflect the difference between the two periods' values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the increase or decrease in financial metrics over time, subtract the earlier period's value from the later period's value, and then verify that the result is accurately represented in the context of the question, considering the units and scale of measurement (e.g., millions, thousands, etc.).</Action>

    </Rule>
<Rule id="1694" phase="generation" confidence="1" source="log_1694" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change or decrease between two time periods in financial data, particularly when determining fluctuations in asset or liability values over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((Initial Value - Final Value) / Initial Value) * 100 to obtain the correct percentage decrease or increase, rather than relying on absolute differences or incorrect arithmetic operations.</Action>

    </Rule>
<Rule id="1695" phase="generation" confidence="1" source="log_1695" type="ArithmeticHallucination">

        <Trigger>Questions asking for averages of quantitative values, such as total shares purchased, over multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant quantitative values are accurately summed and then divided by the correct number of periods to calculate the average, verifying that all mentioned time frames are considered and that the arithmetic operations are correctly sequenced</Action>

    </Rule>
<Rule id="1696" phase="generation" confidence="1" source="log_1696" type="Arithmetic_Hallucination">

        <Trigger>Lease payment calculations involving implicit interest rates and future minimum lease payments, especially when determining costs for payments due after a specific year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating implicit interest costs for lease payments, ensure to correctly apply the formula for present value of future cash flows, considering the implicit interest rate and the timing of payments. Verify that all relevant payments are included in the calculation, and properly discount these payments to their present value using the given implicit rate. KNOWLEDGE INJECTION: Double-check the correct application of financial formulas, especially when calculating present values or future values of cash flows, to avoid arithmetic hallucination and ensure accuracy in financial reasoning models.</Action>

    </Rule>
<Rule id="1697" phase="generation" confidence="1" source="log_1697" type="Arithmetic_Hallucination">

        <Trigger>Calculating the change in a financial metric between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values for the initial and final periods are correctly subtracted to calculate the change, taking into account the correct order of subtraction (final period value minus initial period value) and verify that the calculation is performed without introducing errors due to incorrect rounding or truncation.</Action>

    </Rule>
<Rule id="1699" phase="generation" confidence="1" source="log_1699" type="Arithmetic Hallucination">

        <Trigger>When calculating future expenses based on a given growth rate, especially in contexts involving percentage changes over previous years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of future expenses accurately applies the given growth rate to the base year's expenses, using the correct formula for percentage increase (New Value = Old Value * (1 + Growth Rate)), and verify that all relevant factors influencing the expense growth are considered and correctly incorporated into the calculation.</Action>

    </Rule>
<Rule id="1700" phase="generation" confidence="1" source="log_1700" type="Arithmetic_Hallucination">

        <Trigger>Comparison of spatial areas between different entities or groups, particularly when assessing relative sizes or capacities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing areas or spaces, calculate the area per individual for each group (if applicable) and compare these values to determine which group has more space per individual, rather than directly comparing total areas without considering the number of individuals in each group.</Action>

    </Rule>
<Rule id="1701" phase="generation" confidence="1" source="log_1701" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial commitments across different categories (e.g., purchase commitments vs. lease payments) without proper contextualization and unit consideration.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing financial commitments, ensure that the units and contexts of the commitments are aligned and properly considered to avoid incorrect comparisons, and verify that all relevant details (such as time frames and categories) are appropriately accounted for before making a comparison.</Action>

    </Rule>
<Rule id="1701" phase="generation" confidence="1" source="log_1701" type="ProgramLogicFailure">
        <Trigger>Percentage change information given to calculate previous or subsequent year's financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are correctly applied to the known value to calculate the unknown value, using the formula: Original Value = New Value / (1 + Percentage Change), where the percentage change is expressed as a decimal.</Action>
    </Rule>
<Rule id="1702" phase="generation" confidence="1" source="log_1702" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase or decrease between two different time periods or values, especially when dealing with financial metrics such as dividends.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, taking into account the correct identification of the new and old values based on the context provided.</Action>

    </Rule>
<Rule id="1703" phase="generation" confidence="1" source="log_1703" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, particularly when comparing operating income between different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage change, while avoiding rounding errors and maintaining precision throughout the calculation process.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ScalingError">
        <Trigger>Presence of unit indicators (e.g., 'in millions', 'thousands') in the problem context that require scaling the calculated answer.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculated financial metrics are scaled appropriately based on the units of measurement provided in the problem context before finalizing the answer.</Action>
    </Rule>
<Rule id="1705" phase="generation" confidence="1" source="log_1705" type="Arithmetic_Hallucination">

        <Trigger>Calculate the percentage of total future minimum lease payments due after a specific year in a capital lease obligation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant time periods are considered and that the total minimum lease payments due after the specified year are accurately calculated as a proportion of the total minimum lease payments, using the formula: (total minimum lease payments due after the year / total minimum lease payments) * 100</Action>

    </Rule>
<Rule id="1706" phase="generation" confidence="1" source="log_1706" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a total amount, especially in the context of taxes or financial obligations due within specific time frames.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant portions of the total are correctly identified and summed before calculating the percentage, and verify that the final percentage is accurately calculated and rounded to the appropriate decimal place, if necessary.</Action>

    </Rule>
<Rule id="1707" phase="generation" confidence="1" source="log_1707" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving the summation of different energy sources or categories to determine the proportion of one specific source.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total capability from different sources, the correct total and source-specific values are used, and the calculation is rounded appropriately to match the required precision for the answer.</Action>

    </Rule>
<Rule id="1709" phase="generation" confidence="1" source="log_1709" type="ArithmeticHallucination">
        <Trigger>Comparison of multi-period returns between financial indices</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all return calculations are based on correct formulas (e.g., ((End Value - Start Value) / Start Value) * 100) and compare the calculated returns accurately to determine outperformance</Action>
    </Rule>
<Rule id="1709" phase="generation" confidence="1" source="log_1709" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages of financial values over multiple years and the model is given specific values for each year, check for errors in arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all given values for each year are correctly summed and then divided by the total number of years to calculate the average, avoiding any omission or incorrect calculation of the values provided.</Action>

    </Rule>
<Rule id="ARITH001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Encountering a series of financial values over different periods without explicit calculation instructions</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model calculates the average or total of the provided financial values when determining a representative figure over multiple periods</Action>
    </Rule>
<Rule id="1711" phase="generation" confidence="1" source="log_1711" type="ArithmeticHallucination">

        <Trigger>When calculating the fair value price of a stock given to stockholders and the provided information includes both the total purchase consideration and the fair value of the stock issued, but the model returns an incorrect value that seems to partially relate to the numbers given in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model re-evaluates the question to identify if it asks for a specific value that might not directly relate to the provided numerical values, and verify if there's an explicit statement or formula in the context that directly answers the question or provides a clear method for calculation, considering the possibility that the correct answer might be a simple affirmation or a value that doesn't directly derive from the complex calculations involving the given numbers.</Action>

    </Rule>
<Rule id="1712" phase="generation" confidence="1" source="log_1712" type="Arithmetic Hallucination">

        <Trigger>When calculating expected dividend per share and given dividend yield, ensure that the calculation involves the correct relationship between yield and dividend per share, considering the context provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always validate the formula used for calculating dividend per share, ensuring it correctly utilizes the given dividend yield and any other relevant financial metrics, such as stock price or total dividends, to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of an equity compensation plan that remains available for future issuance, and the model is given the total number of securities remaining available for future issuance and the total number of securities to be issued upon exercise of outstanding options, warrants, and rights.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion remaining is performed as a percentage of the total available, by dividing the number of securities remaining available for future issuance by the sum of the number of securities to be issued upon exercise of outstanding options, warrants, and rights and the number of securities remaining available for future issuance, and then multiplying by 100 to convert to a percentage.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of expected annual exercise of shares, particularly when options become exercisable over a period of years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant multipliers (e.g., total number of options and annual exercise rate) are correctly applied and calculated to determine the expected annual exercise of shares, considering the duration over which options become exercisable</Action>

    </Rule>
<Rule id="1715" phase="generation" confidence="1" source="log_1715" type="arithmetic_hallucination">

        <Trigger>Percentage calculations involving multiple years of lease commitments with varying amounts due each year</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of total lease commitments payable in a specific year, ensure to sum the total commitments across all relevant years and then determine the proportion payable in the target year, without excluding any years or assuming a linear decrease in lease payments</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as (New Value - Old Value) / Old Value * 100, and verify the sign of the result to determine if it's an increase or decrease.</Action>

    </Rule>
<Rule id="1717" phase="generation" confidence="1" source="log_1717" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of financial values, especially when determining the proportion of securities or assets accounted for at fair value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in financial contexts, precise arithmetic operations are performed, and the results are rounded appropriately according to the context's requirements, avoiding unnecessary precision that may lead to minor discrepancies.</Action>

    </Rule>
<Rule id="1718" phase="generation" confidence="1" source="log_1718" type="Arithmetic_Hallucination">

        <Trigger>When calculating total amounts or percentages over multiple years, and the context provides separate values for each year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided annual values are summed to obtain the total, avoiding any assumption of a single year's value as the total.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticError">
        <Trigger>Calculation of proportions or percentages involving aggregated time frames</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating proportions or percentages of total obligations due within specific time frames, all relevant time frames are accurately aggregated and divided by the total, taking into consideration the correct mathematical operations for percentages.</Action>
    </Rule>
<Rule id="1721" phase="generation" confidence="1" source="log_1721" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total budgets, especially in the context of financial reports and expense analyses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages is based on the actual numerical values of the components and the total, rather than relying on pre-stated percentages, which may not accurately reflect the proportional relationship between the component and the total due to rounding or other discrepancies</Action>

    </Rule>
<Rule id="1722" phase="generation" confidence="1" source="log_1722" type="PercentageCalculationError">

        <Trigger>Comparison of percentages or ratios between different time periods or scenarios to determine additional requirements, especially in financial or regulatory contexts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences or additional amounts required between two periods, ensure to apply the correct formula, considering the base value and the difference as a proportion of that base, to avoid miscalculations. KNOWLEDGE INJECTION: Recognize that the calculation involves understanding the initial and final values and correctly applying percentage change formulas to find the actual percentage increase or decrease, which may involve more complex calculations than simple subtraction or addition.</Action>

    </Rule>
<Rule id="1723" phase="generation" confidence="1" source="log_1723" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage change of a financial metric, such as valuation allowance, over a specific period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change involves subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the formula for percentage change is correctly applied as ((final_value - initial_value) / initial_value) * 100.</Action>

    </Rule>
<Rule id="1723" phase="generation" confidence="1" source="log_1723" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of a total cost and multiple components are given, including a specific component and a total, ensure that all parts are considered in the context to avoid incorrect attributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation for the percentage of a specific component of a total cost (e.g., net periodic benefit cost attributable to a particular region) involves dividing the specific component's cost by the total cost and then multiplying by 100, while ensuring that all given components are correctly identified and considered in the calculation context.</Action>

    </Rule>
<Rule id="1724" phase="generation" confidence="1" source="log_1724" type="Arithmetic_Hallucination">

        <Trigger>When calculating market share or total value based on the number of holders and the closing price of a stock, and the model response is a simple count or integer value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of market share or total value incorporates both the number of holders and the closing price per share, applying the correct arithmetic operation (e.g., multiplication) to derive the accurate total value or market share.</Action>

    </Rule>
<Rule id="1726" phase="generation" confidence="1" source="log_1726" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total gains from multiple sources, such as joint ventures and land sales, in a given year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant gains from different sources (e.g., joint ventures, land sales) mentioned in the context for a specific year are accurately identified and summed to calculate the total gains for that year, avoiding any omission or incorrect inclusion of data from other years.</Action>

    </Rule>
<Rule id="FinancialCalculationAccuracy" phase="generation" confidence="1" source="log_FinancialReasoningError" type="ArithmeticHallucinationAndUnitConversionError">
        <Trigger>Calculations involving the summation of monetary values across different time frames or units.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all monetary values are correctly summed and any necessary unit conversions are accurately performed to match the requested unit of the answer.</Action>
    </Rule>
<Rule id="1727" phase="generation" confidence="1" source="log_1727" type="RoundingError">

        <Trigger>When calculating yearly amortization rates related to intangibles with a weighted average useful life, ensure precise arithmetic operations are performed.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all decimal calculations maintain consistency in rounding, avoiding unnecessary or incorrect rounding that could lead to inaccurate financial metrics, by using precise arithmetic libraries or functions that handle decimal operations accurately.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_R001" type="ArithmeticError">

        <Trigger>Percentage change calculations involving numerical values, especially when comparing financial metrics across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and round the result to the appropriate number of decimal places, if necessary, to maintain precision and avoid rounding errors</Action>

    </Rule>
<Rule id="1730" phase="generation" confidence="1" source="log_1730" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage growth or decline between two time periods, particularly when comparing financial metrics such as operating expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage change, the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, avoiding sign errors and ensuring the old value is not zero to prevent division by zero errors. KNOWLEDGE INJECTION: Verify that the calculation accounts for the direction of change (increase or decrease) and that the final result is presented as a percentage, including the percentage sign.</Action>

    </Rule>
<Rule id="1730" phase="generation" confidence="1" source="log_1730" type="Arithmetic_Hallucination">

        <Trigger>When calculating the anticipated growth rate of a financial metric, such as unrecognized tax benefits, and the model provides an incorrect percentage increase.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase is calculated as (New Value - Old Value) / Old Value, to avoid arithmetic hallucination and provide an accurate growth rate.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating differences between consecutive time periods for financial metrics such as total cost of common share repurchases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating differences between two time periods, subtract the earlier period's value from the later period's value, and verify that the calculation is performed in the correct order to avoid sign errors</Action>

    </Rule>
<Rule id="1732" phase="generation" confidence="1" source="log_1732" type="ArithmeticHallucination">

        <Trigger>Percentage calculation based on provided regional distribution data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages from given totals, ensure to divide the specific region's total by the overall total and then multiply by 100 to obtain the correct percentage, avoiding direct hallucination of numbers.</Action>

    </Rule>
<Rule id="1733" phase="generation" confidence="1" source="log_1733" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple entities or time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed using the precise formula ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is rounded correctly according to the context's requirements</Action>

    </Rule>
<Rule id="1735" phase="generation" confidence="1" source="log_1735" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving changes in value over time, especially with multiple variables such as shares and grant-date fair values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in value over time, ensure to apply the correct formula considering both the initial and final states of all relevant variables, and verify that the calculation reflects the intended comparison (e.g., calculating the total value change by considering both the number of shares and their respective grant-date fair values at the start and end of the period).</Action>

    </Rule>
<Rule id="1736" phase="generation" confidence="1" source="log_1736" type="Arithmetic_Hallucination">

        <Trigger>Multiple time periods mentioned with corresponding numeric values, requiring summation for a final answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numeric values across different time periods are accurately summed to obtain the total, without omitting any values or including irrelevant data.</Action>

    </Rule>
<Rule id="1737" phase="generation" confidence="1" source="log_1737" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving historical financial data, particularly when calculating year-over-year changes in inventory values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed using precise arithmetic operations, avoiding rounding errors by maintaining full precision until the final result is obtained, and verify that the calculation methodology aligns with standard financial formulas, such as ((New Value - Old Value) / Old Value) * 100.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating the weighted average price per share of repurchased shares, and the model's response does not match the expected answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total cost of repurchased shares, including all commissions and fees, is correctly divided by the total number of shares repurchased to calculate the weighted average price per share, taking into account all relevant financial figures provided in the context.</Action>

    </Rule>
<Rule id="1739" phase="generation" confidence="1" source="log_1739" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculation between two time periods for a specific financial metric, such as revenues applicable to discontinued operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified and plugged into the formula to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1740" phase="generation" confidence="1" source="log_1740" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two consecutive years for a specific financial metric, such as management fees, where the model's response does not match the expected outcome based on the given numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, paying close attention to the order of operations and the accurate identification of new and old values for the given financial metric.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating ratios involving different quantities, such as share repurchases across multiple years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct quantities are used in the numerator and denominator, specifically comparing the same type of values (e.g., total shares repurchased) rather than costs or prices, to calculate accurate ratios.</Action>

    </Rule>
<Rule id="1741" phase="generation" confidence="1" source="log_1741" type="Arithmetic Hallucination and Contextual Understanding Failure">

        <Trigger>When calculating total expenses for a given year, the model encounters a lawsuit or legal settlement that affects the financial statement, but fails to account for the associated costs or incorrectly interprets the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all expenses, including legal damages and settlements, are accurately accounted for and added to the total expenses for the respective year, considering any potential impacts on financial statements due to ongoing legal proceedings or unresolved disputes.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two time periods, ensure that the calculation adheres to the formula: ((New Value - Old Value) / Old Value) * 100, to accurately determine the percentage increase or decrease.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Depreciation expense calculations or similar financial metrics comparisons across different years</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that all relevant values for the metric in question (e.g., depreciation expense) are correctly identified and extracted from the context before performing any calculations, and verify that the calculation correctly reflects the change between the specified periods.</Action>

    </Rule>
<Rule id="1743" phase="generation" confidence="1" source="log_1743" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change involving multiple time periods or fiscal years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as (New Value - Old Value) / Old Value, and that the most recent and previous values are correctly identified and ordered for the calculation, taking care to avoid sign errors that could result in incorrect growth rate direction</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculating differences between quantities from distinct categories or entities.</Trigger>
        <Action>CRITICAL FORMATTING RULE - Ensure correct identification and subtraction of relevant values when calculating differences, considering the operational context.</Action>
    </Rule>
<Rule id="1745" phase="generation" confidence="1" source="log_1745" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change in net revenue due to a specific factor, such as volume or weather, where the model provides an incorrect percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change attributed to a particular factor, ensure that the calculation involves the correct difference in revenues and the accurate attribution of this difference to the specified factor, using the formula: (change in revenue due to factor / total change in revenue) * 100.</Action>

    </Rule>
<Rule id="1747" phase="generation" confidence="1" source="log_1747" type="Arithmetic_Hallucination">

        <Trigger>Calculating yearly interest expense for a note issued with a specific interest rate and principal amount</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding intermediate calculations correctly and using exact values for interest rates and principal amounts to avoid numerical precision errors, especially when calculating interest expenses</Action>

    </Rule>
<Rule id="1748" phase="generation" confidence="1" source="log_1748" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation or growth rate question involving multiple years and segments, with given segment net sales and percentage representations of consolidated net sales.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating growth rates or percentages of consolidated net sales across multiple years, ensure to first calculate the total consolidated net sales for each year by dividing the segment net sales by the percentage representation of consolidated net sales, then apply the growth rate or percentage change formula accurately.</Action>

    </Rule>
<Rule id="1749" phase="generation" confidence="1" source="log_1749" type="Arithmetic Hallucination">

        <Trigger>Calculating the portion of unrecognized tax benefits that would affect the effective tax rate if recognized</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of unrecognized tax benefits affecting the effective tax rate involves dividing the amount of tax benefits that would reduce the effective tax rate by the total unrecognized tax benefits, and then multiplying by 100 to express the result as a percentage</Action>

    </Rule>
<Rule id="1750" phase="generation" confidence="1" source="log_1750" type="ArithmeticHallucination">
        <Trigger>Calculation of market capitalization or similar financial metrics requiring multiplication of share price by number of shares outstanding</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all variables in financial formulas (e.g., number of shares outstanding, closing price per share) are accurately identified and correctly applied in calculations to prevent arithmetic errors or hallucinations</Action>
    </Rule>
<Rule id="1750" phase="generation" confidence="1" source="log_1750" type="Arithmetic_Hallucination">

        <Trigger>When calculating consolidated total assets and the given data includes percentages of total assets for different years, the model fails to properly apply these percentages to calculate the total assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when percentages of total assets are provided for different years, the model calculates the total assets by dividing the given outstandings by the corresponding percentage for each year, and then selects the correct year's calculation based on the question's context.</Action>

    </Rule>
<Rule id="1751" phase="generation" confidence="1" source="log_1751" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of shares forfeited and the model response is a whole number or zero, indicating a potential arithmetic error or oversight in calculating proportions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving proportions or percentages are performed by dividing the relevant part by the total and then multiplying by 100 to obtain the percentage, and verify that the model has access to and correctly applies the necessary data points for such calculations.</Action>

    </Rule>
<Rule id="1752" phase="generation" confidence="1" source="log_1752" type="Arithmetic Hallucination">

        <Trigger>When calculating the required sales to maintain a specific percentage of sales for capital expenditure and given a target capital spending amount for a future year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating the required sales (Total Sales = Target Capital Spending / Percentage of Sales) is correctly applied by dividing the target capital spending by the percentage of sales from the previous year, and verify that the percentage is properly converted to a decimal before performing the division.</Action>

    </Rule>
<Rule id="1753" phase="generation" confidence="1" source="log_1753" type="ArithmeticHallucinationError">

        <Trigger>Calculating percentages involving financial metrics such as expenses, depreciation, depletion, amortization, and capital expenditures</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and multiplication operations are performed to calculate percentages, and verify that the correct values are being used for both the numerator and the denominator in percentage calculations, avoiding arithmetic hallucination by double-checking the mathematical operations involved</Action>

    </Rule>
<Rule id="1755" phase="generation" confidence="1" source="log_1755" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of contractual obligations for future payments, the model provides an incorrect percentage due to miscalculation of the proportion of long-term debt maturities in a specific year to the total contractual obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate the percentage by dividing the amount of long-term debt maturing in the specified year by the total contractual obligations for that year, ensuring to consider all relevant components of debt and lease commitments, and then multiply by 100 to get the percentage.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Adjustments for specific financial items, such as voluntary contributions, are mentioned in the context of calculating operating activities cash flow.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all specified adjustments (additions or subtractions) for unique financial items are accurately applied to the base figures before final calculations to avoid misrepresentation of financial health or performance metrics.</Action>
    </Rule>
<Rule id="1756" phase="generation" confidence="1" source="log_1756" type="ArithmeticError">

        <Trigger>Calculating percentage change between two time periods for a financial metric, such as cumulative total return</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination and provide accurate percentage change values</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percent change calculations involving expenses from consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the percent change calculation is performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, ensuring that the old value is correctly identified as the denominator to avoid division-by-zero errors or incorrect calculations</Action>

    </Rule>
<Rule id="1759" phase="generation" confidence="1" source="log_1759" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change in liability or asset values, especially when determining the difference between beginning and ending balances.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the subtraction of the initial balance from the final balance is performed correctly, taking into account the potential for negative results if the final balance is less than the initial balance, and KNOWLEDGE INJECTION: Recognize that a decrease in liability is represented by a negative net change value.</Action>

    </Rule>
<Rule id="1760" phase="generation" confidence="1" source="log_1760" type="Arithmetic_Hallucination">

        <Trigger>Calculating percent change between highest and lowest stock prices within a given period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percent change calculation is performed using the formula ((highest - lowest) / lowest) * 100 to avoid arithmetic errors, and verify that all values are correctly retrieved from the context before computation</Action>

    </Rule>
<Rule id="1761" phase="generation" confidence="1" source="log_1761" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of non-cash items in relation to cash from operations, and the model provides an incorrect numerical answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentages are calculated by dividing the non-cash items by the cash from operations for the respective year, and then multiplying by 100 to obtain the percentage, avoiding any rounding errors that may lead to incorrect decimal representations.</Action>

    </Rule>
<Rule id="1762" phase="generation" confidence="1" source="log_1762" type="Arithmetic_Hallucination">

        <Trigger>Questions asking for percentage changes between two time periods for financial metrics, such as asset retirement obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accurate representation of changes over time, rather than relying on absolute differences.</Action>

    </Rule>
<Rule id="1762" phase="generation" confidence="1" source="log_1762" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple factors such as currency fluctuations and increases in expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, all relevant factors (including but not limited to increases, decreases, and currency fluctuations) are correctly accounted for and applied to the base value before computing the final percentage change, using the formula: ((New Value - Old Value) / Old Value) * 100, and considering the impact of each factor on the overall change</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage change between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula for percentage change correctly, considering both increases and decreases. KNOWLEDGE INJECTION: Recognize that a negative result from a percentage change calculation indicates a decrease from the initial value to the final value.</Action>
    </Rule>
<Rule id="1765" phase="generation" confidence="1" source="log_1765" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving consecutive years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the signs of the values are appropriately considered to reflect increase or decrease.</Action>

    </Rule>
<Rule id="1765" phase="generation" confidence="1" source="log_1765" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of tangible assets in an acquisition involves multiple intangible asset values and a total asset value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all intangible assets are correctly subtracted from the total assets acquired to determine the tangible assets before calculating the percentage, and verify that the formula used is (Tangible Assets / Total Assets) * 100, where Tangible Assets = Total Assets - (Goodwill + Intangible Assets).</Action>

    </Rule>
<Rule id="1767" phase="generation" confidence="1" source="log_1767" type="Arithmetic_Hallucination">

        <Trigger>Comparison of numerical values to determine the greater impact on a financial metric</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing the impact of different factors on a financial metric, ensure that the comparison is based on the actual numerical values and their relative magnitudes, rather than just the presence of numbers, and provide a qualitative answer based on the comparison result, such as "yes" or "no", instead of just the numerical comparison result.</Action>

    </Rule>
<Rule id="1768" phase="generation" confidence="1" source="log_1768" type="UnitMismatchError">

        <Trigger>When calculating total impairment or any financial metric, and the context implies a specific unit of measurement (e.g., millions, thousands), ensure that the calculation aligns with the given unit.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the units of measurement for all values are consistent before performing arithmetic operations, and apply the appropriate conversion factor if necessary to ensure the result is in the correct unit of measurement.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of purchase price attributed to intangible assets, the presence of multiple types of intangible assets (such as identifiable intangible assets and goodwill) triggers this rule.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all types of intangible assets are aggregated before calculating the total percentage of the purchase price, to prevent underestimation or incorrect distribution of asset values.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>The scenario involves determining the proportion of a total value (such as purchase price) that is composed of specific components (like intangible assets), which necessitates a comprehensive summation of all relevant components.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always sum all relevant components of a total value before calculating proportions or percentages, to ensure accuracy and prevent logic errors that might lead to incorrect conclusions.</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect Context Retrieval">

        <Trigger>When the question pertains to financial ratios or proportions, especially those involving specific line items from financial statements (e.g., intangible assets, goodwill, purchase price), this rule is triggered.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the context is correctly understood and that all relevant financial statement items are accurately identified and included in calculations, to prevent errors due to misinterpretation of the financial data provided.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ContextualMisunderstanding">
        <Trigger>Encountering percentage change calculations involving financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always verify the context and requirements of the task to ensure accurate interpretation of financial data, and apply the correct formula for percentage change calculations (i.e., ((New Value - Old Value) / Old Value) * 100).</Action>
    </Rule>
<Rule id="1771" phase="evaluation" confidence="1" source="log_1771" type="LogicalComparisonError">

        <Trigger>When comparing financial values to determine if one is greater than another, especially in the context of assessing liquidity or financial health.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison is made between the correct and relevant financial figures, focusing on the specific categories being compared (e.g., securities available for sale versus total senior and subordinated debt), rather than just comparing any two available financial values.</Action>

    </Rule>
<Rule id="1771" phase="generation" confidence="1" source="log_1771" type="Arithmetic Hallucination">

        <Trigger>Calculation of total long-term debt including fair value adjustments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all fair value adjustments, including debt step-up, deferred financing costs, and unamortized bond discounts, are added to the total debt obligations before calculating the total long-term debt</Action>

    </Rule>
<Rule id="1773" phase="generation" confidence="1" source="log_1773" type="ArithmeticHallucination">
        <Trigger>Questions asking for differences in totals or averages across different periods or categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points are correctly summed or averaged before calculating differences, and verify that the calculation directly answers the question asked.</Action>
    </Rule>
<Rule id="1773" phase="generation" confidence="1" source="log_1773" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving sequential year-end balances</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage changes by using the formula ((End Balance - Start Balance) / Start Balance) * 100, applying precise arithmetic operations and avoiding rounding errors during intermediate calculations</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucinationAndProgramLogicFailure">
        <Trigger>Questions asking for portions or percentages of financial totals due within specific timeframes.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating portions or percentages of financial totals due within specific timeframes, ensure to sum all relevant financial figures for the given timeframe and then calculate the percentage based on the total financial amount mentioned in the context.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="inventory_analysis" type="UnitMismatchError">

        <Trigger>Questions asking for the highest amount of inventory in a given period, where the answer options or context may imply a specific unit of measurement (e.g., millions, thousands, etc.).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the unit of measurement (e.g., millions, billions) mentioned in the question or context is correctly applied to the calculated answer, and verify that the final answer's unit matches the question's requirements.</Action>

    </Rule>
<Rule id="1776" phase="generation" confidence="1" source="log_1776" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage-based segments of total sales or revenues, particularly when determining changes in sales figures over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in sales or revenues of specific product segments over time, ensure to first calculate the actual sales or revenues of the segment for each period by applying the given percentage to the total sales or revenues. Then, apply the change calculation to these segment-specific figures, rather than directly manipulating the percentages or total sales figures.</Action>

    </Rule>
<Rule id="1777" phase="generation" confidence="1" source="log_1777" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations that require a difference between two values followed by division by the original value and multiplication by 100</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the result of percentage change calculations is formatted as a percentage by appending the percentage symbol (%) to the calculated value, if not already present</Action>

    </Rule>
<Rule id="1779" phase="generation" confidence="1" source="log_1779" type="Arithmetic Hallucination">

        <Trigger>Calculation of net change in financial liability balances, particularly when adjusting for comprehensive income or loss and application of new financial standards.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant adjustments, including but not limited to adjustments for initially applying new financial standards and other comprehensive income or loss components, are accurately identified and summed to determine the net change in liability balances.</Action>

    </Rule>
<Rule id="1780" phase="generation" confidence="1" source="log_1780" type="ArithmeticHallucination">

        <Trigger>Percent change calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage, while maintaining precise decimal places until the final answer is formatted as a percentage.</Action>

    </Rule>
<Rule id="1780" phase="generation" confidence="1" source="log_1780" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving time series data with potentially decreasing values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percent change, subtract the newer value from the older value and divide by the older value, then multiply by 100, to correctly determine if the result is positive or negative, reflecting an increase or decrease respectively</Action>

    </Rule>
<Rule id="1782" phase="generation" confidence="1" source="log_1782" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving subtraction of future minimum sublease income from future minimum lease payments to determine difference in millions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all monetary values are properly aligned and subtracted, taking into account the correct order of operations and unit consistency (e.g., millions), and verify that the calculated difference is correctly represented without introducing decimal points or incorrect scaling factors</Action>

    </Rule>
<Rule id="1782" phase="generation" confidence="1" source="log_1782" type="Arithmetic_Rounding_Error">

        <Trigger>Allocation percentage calculations involving purchase price consideration and identifiable intangible assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating allocation percentages, ensure that the result is rounded to the nearest whole number or to a specific decimal place as required by the context, to avoid precision errors</Action>

    </Rule>
<Rule id="1783" phase="evaluation" confidence="1" source="log_1783" type="arithmetic_hallucination">

        <Trigger>Comparing investment returns between two financial instruments over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of returns for each investment period is performed correctly by taking into account the initial and final values of the investment, and that the comparison between the two investments is based on the calculated returns, not absolute values. KNOWLEDGE INJECTION: Verify that the return calculation formula is applied consistently across all periods and investments being compared.</Action>

    </Rule>
<Rule id="1785" phase="generation" confidence="1" source="log_1785" type="Arithmetic_Hallucination_Error">

        <Trigger>Calculation of percentage decrease between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((Old Value - New Value) / Old Value) * 100, and maintain precision until the final rounding step to prevent truncation errors.</Action>

    </Rule>
<Rule id="1786" phase="generation" confidence="1" source="log_1786" type="Arithmetic Hallucination">

        <Trigger>When calculating time periods or durations based on given context, especially in jurisdictions or regulatory environments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify the arithmetic operation applied to dates or periods to ensure it aligns with the context provided, considering any specified start and end points, and apply the correct mathematical operation to derive the duration or period length accurately.</Action>

    </Rule>
<Rule id="1787" phase="generation" confidence="1" source="log_1787" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculations involving multi-year data and numerical values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase calculations are performed using the exact formula (New Value - Old Value) / Old Value * 100, and rounded to the appropriate number of decimal places as specified by the context or required precision, to prevent arithmetic hallucination and maintain consistency in financial reasoning.</Action>

    </Rule>
<Rule id="1788" phase="generation" confidence="1" source="log_1788" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, particularly when determining decreases or increases in financial metrics such as operating leases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula, (New Value - Old Value) / Old Value * 100, and that the old and new values are correctly identified from the relevant financial periods being compared.</Action>

    </Rule>
<Rule id="1789" phase="generation" confidence="1" source="log_1789" type="Arithmetic_Hallucination">

        <Trigger>Future minimum lease payments under capital lease obligations are compared to total minimum lease payments to determine percentage due after a specific year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of future payments due after a certain year, the sum of lease payments for the relevant years is accurately determined and compared to the total minimum lease payments, avoiding arithmetic hallucination by correctly summing the specified payments and then calculating the percentage based on this accurate sum.</Action>

    </Rule>
<Rule id="1790" phase="generation" confidence="1" source="log_1790" type="Arithmetic_Hallucination">

        <Trigger>Calculating total performance difference between two financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final values of both entities are calculated as a percentage change from the initial value, and then find the difference between these two percentage changes to determine the total performance difference</Action>

    </Rule>
<Rule id="1791" phase="generation" confidence="1" source="log_1791" type="Program_Logic_Failure">

        <Trigger>Comparing financial performance metrics, such as total return, between different entities</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation methodology accounts for the time value of money and applies the correct formula for percentage change, which is ((final_value - initial_value) / initial_value) * 100, for each entity before comparing their performances</Action>

    </Rule>
<Rule id="1792" phase="generation" confidence="1" source="log_1792" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving historical financial data for entities and benchmarks</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the data retrieved for analysis matches the specified time frame and entities in question, ensuring that all relevant data points are correctly identified and utilized in calculations</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_R001" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving sequential year-over-year comparisons of financial metrics, such as operating companies income (loss) attributable to specific product segments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percent changes, especially in financial metrics over time, the formula [(New Value - Old Value) / Old Value] * 100 is accurately applied to avoid arithmetic hallucination, and verify that the calculation is correctly rounded to the appropriate number of decimal places as per the context requirements.</Action>

    </Rule>
<Rule id="1792" phase="generation" confidence="1" source="log_1792" type="Arithmetic_Hallucination">

        <Trigger>Percentual decrease calculations involving multi-year comparisons in financial data, particularly when determining the change in average realized prices over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentual decreases, ensure to apply the formula correctly: ((Previous Value - Current Value) / Previous Value) * 100, and verify that all values are correctly retrieved from the context and that the calculation is accurately performed without rounding errors.</Action>

    </Rule>
<Rule id="1793" phase="generation" confidence="1" source="log_1793" type="Arithmetic_Hallucination">
        <Trigger>Calculation of financial ratios involving debt and asset figures</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial data relevant to the calculation is accurately identified and correctly applied in the formula for the specific ratio, adhering to standard financial calculation principles</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ComparativeLogicError">

        <Trigger>When comparing the opening years of two or more exams across different jurisdictions to determine if one was opened earlier than the other, and the comparison involves determining a relative time difference.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison of opening years is based on the actual year values and not on the calculation of time differences alone; instead, directly compare the year values to determine which exam was opened earlier.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticLogicFailure">
        <Trigger>Calculation of net change over a period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always subtract the initial value from the final value when calculating net change over a specified period to ensure correct determination of increases or decreases.</Action>
    </Rule>
<Rule id="1796" phase="postprocessing" confidence="1" source="log_1796" type="FormattingError">
        <Trigger> Numerical result presentation requiring careful formatting to match question context </Trigger>
        <Action> CRITICAL FORMATTING RULE: Ensure that final numerical answers are formatted according to the specific requirements of the question, avoiding unnecessary additions such as percentage signs unless explicitly indicated by the question context. </Action>
    </Rule>
<Rule id="1797" phase="generation" confidence="1" source="log_1797" type="Arithmetic Hallucination">

        <Trigger>Questions asking for a percentage of total debt reported under current liabilities, where the current portion of long-term debt and total debt are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: To calculate the portion of total debt reported under current liabilities as a percentage, divide the current portion of long-term debt by the total debt and multiply by 100, ensuring the correct calculation methodology is applied to derive the percentage value.</Action>

    </Rule>
<Rule id="1798" phase="generation" confidence="1" source="log_1798" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving a previous year's value and a current year's value, where the model's response does not accurately reflect the proportion of the current year's value to the previous year's value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving previous and current year's values, the correct formula is applied, i.e., (Current Year's Value / Previous Year's Value) * 100, and verify that all relevant values are accurately retrieved from the context.</Action>

    </Rule>
<Rule id="1799" phase="generation" confidence="1" source="log_1799" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula: ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the relevant values for the two time periods being compared, and verify that the signs of the values are correctly interpreted to reflect increases or decreases.</Action>

    </Rule>
<Rule id="1800" phase="generation" confidence="1" source="log_1800" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal values or financial metrics such as earnings per share</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are rounded to the appropriate number of significant figures or decimal places as required by the context, and verify that the rounding convention is consistently applied throughout the calculation process</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes in financial metrics over time, such as average share price.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations of percentage changes, especially in comparing financial metrics over different periods, correctly apply the formula ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic hallucination.</Action>
    </Rule>
<Rule id="1801" phase="generation" confidence="1" source="log_1801" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase between two time periods for financial metrics such as expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage, rather than merely subtracting the initial value from the final value</Action>

    </Rule>
<Rule id="1802" phase="generation" confidence="1" source="log_1802" type="Arithmetic Hallucination">

        <Trigger>When calculating ratios involving financial values, especially those related to securities and agreements accounted for at fair value, ensure that all components of the calculation are correctly identified and applied.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the numerator and denominator in ratio calculations are correctly matched according to the context, and ensure that the calculation reflects the actual relationship between the financial values in question, avoiding incorrect simplifications or omissions of crucial factors.</Action>

    </Rule>
<Rule id="1803" phase="generation" confidence="1" source="log_1803" type="Program Logic Failure">

        <Trigger>Encountering calculations that involve multiple steps or the application of specific financial formulas, such as determining ratios of financial instruments under different accounting treatments.</Trigger>

        <Action>KNOWLEDGE INJECTION: Apply the correct formula and ensure each step of the calculation is logically consistent with financial principles, avoiding averages of ratios when the correct approach involves calculating the ratio of aggregated values or applying specific financial metrics directly to the data provided.</Action>

    </Rule>
<Rule id="1803" phase="generation" confidence="1" source="log_1803" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net increase or decrease in a financial metric, such as outstanding shares, over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of net change is performed by subtracting the beginning balance from the ending balance of the same period, rather than incorrectly comparing balances across different periods or misinterpreting the direction of change</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_analysis" type="Program Logic Failure">
        <Trigger>Calculating percentages of financial allowances or provisions</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the denominator in percentage calculations for provisions or allowances is the appropriate base value for the specific period in question, not a sum of multiple periods unless explicitly required by the context</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of total average fair value impact across different instrument types</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure inclusion of all mentioned instrument categories (e.g., interest rate, foreign currency, commodity, equity) in the aggregation process for calculating total fair value impact.</Action>
    </Rule>
<Rule id="1807" phase="generation" confidence="1" source="log_1807" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving multiple financial components, such as operating leases and specific lease agreements.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial components are accurately identified and summed before calculating percentages, and verify that the calculation correctly accounts for the portion of the total that is not related to a specific component, by subtracting the specific component's value from the total value and then calculating the percentage based on this difference.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two financial periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating growth rate (e.g., ((Current Period - Previous Period) / Previous Period) * 100) is applied correctly and that all relevant numerical values are accurately retrieved and used in the calculation</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating average cost per unit (e.g., square foot) for acquired properties</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total cost of acquisition is divided by the total number of units (e.g., square feet) to calculate the average cost per unit, considering all relevant expenses and inclusivities mentioned in the context</Action>

    </Rule>
<Rule id="1809" phase="generation" confidence="1" source="log_1809" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial metrics such as interest savings and early extinguishment costs to determine if a specific threshold is exceeded</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that calculations comparing savings to costs are performed by subtracting the total costs from the total savings, and ensure a logical comparison is made to determine if the savings exceed the costs, rather than providing a numerical value</Action>

    </Rule>
<Rule id="1811" phase="generation" confidence="1" source="log_1811" type="ArithmeticHallucination">
        <Trigger>Calculation of net change in financial metrics over a period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always subtract the initial value from the final value to determine the net change, ensuring the correct sign (positive or negative) is applied based on the direction of change</Action>
    </Rule>
<Rule id="R001" phase="evaluation" confidence="1" source="error_analysis_log" type="LogicalInferenceError">

        <Trigger>Comparing noncash expenses to net interest income without considering the context of the question</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing noncash expenses to net interest income, ensure that the comparison is contextually relevant and answer the specific question being asked, rather than simply performing a numerical comparison</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total payments due in a specific year from outstanding debt, where the model's response does not accurately reflect the proportion of the total.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of total future principal payments due in a specific year, the model divides the amount due in that year by the total outstanding debt and then multiplies by 100 to get the percentage, avoiding any intermediate rounding that could lead to precision errors.</Action>

    </Rule>
<Rule id="1813" phase="generation" confidence="1" source="log_1813" type="Arithmetic Hallucination">

        <Trigger>Whenever a question asks for a calculation without specific adjustments or components, such as price and volume/weather adjustments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all mentioned adjustments or components are properly subtracted from the total value before providing the final answer, and verify that the calculation logic correctly accounts for the absence of these adjustments.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of new sites acquired or constructed in a given year, especially when determining the proportion of foreign sites.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves correctly identifying the total number of new sites (both domestic and international) for the specific year in question, and then accurately determining the proportion that are foreign by dividing the number of foreign sites by the total number of new sites and multiplying by 100.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_log_001" type="ContextMisinterpretationError">

        <Trigger>When calculating totals for specific subsets of data, such as regional networks, and multiple pieces of information are given about different entities or categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for the specified category (e.g., regional networks) are identified and summed, considering both the overall context and specific details provided about each entity within that category.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_log_002" type="ArithmeticHallucinationError">

        <Trigger>When the model responds with an arithmetic operation that does not accurately reflect the question's requirements, such as adding numbers that do not belong to the same category or context.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that arithmetic operations are performed on the correct data points that directly answer the question, avoiding the inclusion of irrelevant numbers or the exclusion of relevant ones.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_log_003" type="LogicError">

        <Trigger>When the question asks for a total or aggregate value across multiple specified entities or categories, and the model fails to consider all parts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a step to confirm that all specified entities or categories mentioned in the question are considered in the calculation to avoid partial or incorrect totals.</Action>

    </Rule>
<Rule id="1817" phase="calculation" confidence="1" source="error_analysis" type="PrecisionError">
        <Trigger>Percent change calculations between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percent changes, maintain full precision until the final answer is rounded to the appropriate number of significant figures or decimal places.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two time periods, ensure that the difference between the two values is divided by the original value and then multiplied by 100, using precise arithmetic operations without rounding prematurely</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_R1" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving lease obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculated percentage value is explicitly formatted as a percentage by appending a percent sign (%) to the result, especially when the context implies a percentage answer.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_calculation" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage increase or decrease involving subtraction, division, and multiplication steps.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all steps in calculating percentage changes are sequentially and accurately performed, including subtraction to find difference, division by the original value, and multiplication by 100 to convert to a percentage.</Action>
    </Rule>
<Rule id="1821" phase="generation" confidence="1" source="log_1821" type="Arithmetic_Hallucination">

        <Trigger>When calculating total production over multiple years and the input data is given in thousands of barrels per day, ensure that the calculation accurately converts the daily rate to the required time period and unit of measurement.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly applies the conversion factors between different units of measurement (e.g., barrels per day to million barrels of oil equivalent) and properly sums the production values over the specified time period, taking into account the correct number of days in each year.</Action>

    </Rule>
<Rule id="1822" phase="generation" confidence="1" source="log_1822" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of future minimum lease payments due in a specific year, the model provides an incorrect response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the numerator (lease payments due in the specific year) is correctly extracted from the context and divided by the total lease payments to obtain the accurate percentage, then multiply by 100 to convert the result to a percentage.</Action>

    </Rule>
<Rule id="1822" phase="generation" confidence="1" source="log_1822" type="Arithmetic_Hallucination">

        <Trigger>When calculating the estimated cost for a future period based on the pace of increase of another related cost, and the model provides an incorrect response that does not match the proportional increase.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change or pace of increase is correctly calculated from the historical data of the related cost, and then apply this percentage change to the base cost to estimate the future cost, taking into account the correct mathematical operations and avoiding any arithmetic hallucination.</Action>

    </Rule>
<Rule id="1823" phase="generation" confidence="1" source="log_1823" type="Arithmetic_Hallucination">

        <Trigger>Unrealized loss or gain calculations in marketable securities, particularly when comparing amortized cost and market value across different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of unrealized loss or gain in marketable securities subtracts the amortized cost from the market value, considering the correct order of operations and the sign of the result to accurately reflect a loss or gain.</Action>

    </Rule>
<Rule id="1824" phase="generation" confidence="1" source="log_1824" type="Arithmetic Hallucination">

        <Trigger>Calculating the ratio of two financial values, such as a surety bond to a reimbursement obligation, where the model provides a simplistic or incorrect answer without considering the actual amounts or the context provided in the problem statement.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating financial ratios, ensure that all relevant numerical values mentioned in the context are accurately identified and used in the calculation, considering the specific relationship between the values as described in the problem statement, and avoid providing oversimplified or incorrect answers without proper calculation or consideration of the given context.</Action>

    </Rule>
<Rule id="1826" phase="generation" confidence="1" source="log_1826" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving monetary values, especially when comparing two consecutive time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed with precise arithmetic operations, considering the absolute difference between the two values divided by the original value, and then multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the calculation adheres to the formula: ((New Value - Old Value) / Old Value) * 100.</Action>

    </Rule>
<Rule id="1827" phase="generation" confidence="1" source="log_1827" type="Arithmetic Hallucination">

        <Trigger>Calculation of Return on Investment (ROI) involving percentage change</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated ROI is formatted as a percentage by appending a percentage sign (%) to the result of the calculation (new_value - old_value) / old_value * 100, and round the final result to the appropriate decimal places as per the context requirements</Action>

    </Rule>
<Rule id="1827" phase="generation" confidence="1" source="log_1827" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in expenses between two time periods, where the model response has an opposite sign or incorrect magnitude compared to the expected answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that subtraction operations to calculate changes in expenses between time periods are performed correctly, taking into account the direction of change (increase or decrease) and applying the appropriate sign to the result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="analysis_log" type="PrecisionError">
        <Trigger>Calculation of percentage change between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that calculations of percentage changes are performed with sufficient precision and rounded appropriately to match the expected answer format, considering the context of financial data where small discrepancies can lead to incorrect interpretations.</Action>
    </Rule>
<Rule id="1830" phase="generation" confidence="1" source="log_1830" type="arithmetic_hallucination">
        <Trigger>Percentage change calculations involving financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentage changes, are calculated with precise decimal places before final rounding to prevent minor discrepancies.</Action>
    </Rule>
<Rule id="1831" phase="generation" confidence="1" source="log_1831" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change or difference between two values, particularly in the context of tax rates or financial metrics, where the result is expected to be a numerical value without a specific format.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final numerical answer is provided without percentage signs or other unnecessary symbols unless explicitly required by the context of the question.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_R001" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving large numbers and decimal points</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages from given data, the model rounds the results to the nearest whole number or as per the context's requirement, avoiding unnecessary decimal places that could lead to inaccuracies.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_R002" type="Program Logic Failure">

        <Trigger>Comparisons between model responses and ground truths revealing minor discrepancies</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a sanity check mechanism to compare the model's response with the expected answer format, ensuring that the response adheres to the context's precision requirements, thus preventing minor but significant errors.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_R003" type="Incorrect Context Retrieval">

        <Trigger>Questions requiring data from specific years or regions within a broader dataset</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model accurately identifies and isolates the relevant data subset (e.g., year, region) before performing calculations, ensuring that the context of the question is correctly applied to the data retrieval and analysis process.</Action>

    </Rule>
<Rule id="1833" phase="generation" confidence="1" source="log_1833" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of debt obligations, especially those categorized by timeframes (e.g., less than 1 year, 1-3 years, 3-5 years, more than 5 years), and the model provides a response that does not accurately reflect the proportion of long-term debt obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant debt obligations are correctly classified as long-term or short-term based on their respective timeframes, and then calculate the percentage of long-term debt obligations by summing all long-term debt and dividing by the total debt obligations, considering all categories including "other" and footnote references if applicable to the long-term category.</Action>

    </Rule>
<Rule id="1833" phase="generation" confidence="1" source="log_1833" type="ArithmeticHallucination">

        <Trigger>When calculating the total number of proved developed reserves, and the model is given the proved undeveloped reserves and the conversion to proved developed reserves.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for proved developed reserves takes into account the initial proved developed reserves, in addition to the conversions from proved undeveloped reserves, by using the formula: Initial Proved Developed Reserves + Conversions to Proved Developed Reserves, and verify that the initial value is correctly provided or inferred from the context.</Action>

    </Rule>
<Rule id="1834" phase="generation" confidence="1" source="log_1834" type="ProgramLogicFailure">

        <Trigger>When the model is given multiple types of reserves (proved developed and proved undeveloped) and their respective conversions, and is asked to calculate a specific reserve type.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that proved developed reserves can be calculated by adding the conversions from proved undeveloped to proved developed to the existing proved developed reserves, if the initial value of proved developed reserves is provided or can be inferred from the context, thus avoiding direct subtraction from proved undeveloped reserves without considering the initial developed reserves.</Action>

    </Rule>
<Rule id="1834" phase="generation" confidence="1" source="log_1834" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total values, especially in the context of financial data such as shares purchased, and the model provides a response that does not accurately reflect the proportion of the specified subset to the total.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves accurately dividing the subset value by the total value and then multiplying by 100, without introducing external or unrelated numbers into the calculation. KNOWLEDGE INJECTION: Always verify that the context and the specific time frame (e.g., a quarter, a month) are correctly applied when calculating proportions or percentages of financial data.</Action>

    </Rule>
<Rule id="1835" phase="generation" confidence="1" source="log_1835" type="ArithmeticHallucinationError">

        <Trigger>Calculation of percentage of revenue net of interest expense due to non-interest revenue</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of revenue net of interest expense due to non-interest revenue, ensure that the non-interest revenue is divided by the total revenue net of interest expense and then multiplied by 100 to obtain the correct percentage, and verify that the result is rounded correctly to match the required precision.</Action>

    </Rule>
<Rule id="1837" phase="generation" confidence="1" source="log_1837" type="Arithmetic_Hallucination">

        <Trigger>Calculating changes in financial metrics between two periods, such as total minimum lease payments, where the model incorrectly computes the difference.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in financial values over time, ensure to subtract the original value from the new value correctly, considering the direction of change (increase or decrease) to avoid sign errors.</Action>

    </Rule>
<Rule id="1838" phase="generation" confidence="1" source="log_1838" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of proceeds used for a specific purpose, and the total amount of proceeds is given along with multiple uses of the funds.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the portion used for the specific purpose is calculated as a percentage of the total proceeds by dividing the amount used for that purpose by the total proceeds and then multiplying by 100, rather than just stating the amount used.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or increases in financial metrics, such as expenses, based on forecasted consumption and price changes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentage changes are based on the correct formula, i.e., ((New Value - Old Value) / Old Value) * 100, and that the new value is accurately computed by considering the impact of price changes on total expenses, rather than relying on direct arithmetic manipulations of provided numbers.</Action>

    </Rule>
<Rule id="1840" phase="generation" confidence="1" source="log_1840" type="Arithmetic_Hallucination">

        <Trigger>When calculating total losses or gains across multiple periods, the model should retrieve and sum all relevant numerical values from the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical values relevant to the calculation, regardless of their position or description in the context, are accurately identified and summed to produce the total value. KNOWLEDGE INJECTION: Recognize that total calculations require comprehensive inclusion of all provided data points, avoiding omission or misinterpretation of any value that contributes to the final result.</Action>

    </Rule>
<Rule id="1841" phase="generation" confidence="1" source="log_1841" type="Arithmetic_Hallucination">

        <Trigger>Presence of multiple financial values (e.g., gains, losses) that need to be aggregated to answer a question about total financial impact.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values mentioned in the context are correctly identified, summed, or subtracted as appropriate to calculate the total financial impact, without omitting any values or misinterpreting their signs (positive for gains, negative for losses).</Action>

    </Rule>
<Rule id="1842" phase="generation" confidence="1" source="log_1842" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rate or percentage change between two consecutive years in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating the growth rate is correctly applied as ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that all values are accurately retrieved from the context and correctly plugged into the formula</Action>

    </Rule>
<Rule id="1842" phase="generation" confidence="1" source="log_1842" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two consecutive periods, especially when dealing with financial metrics such as total net charge-offs.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage change, ensure to apply the formula correctly: ((Current Period - Previous Period) / Previous Period) * 100, and verify that the signs of the values are appropriately considered to avoid arithmetic hallucination, especially when dealing with negative numbers or decreases in values.</Action>

    </Rule>
<Rule id="1843" phase="generation" confidence="1" source="log_1843" type="ProgramLogicFailure">

        <Trigger>When comparing financial values across different time periods to determine if there has been an increase or decrease, and the model response is a numerical value instead of a qualitative answer (e.g., yes, no, increased, decreased).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model interprets questions about changes in financial values over time as requiring a qualitative assessment (increase, decrease, yes, no) rather than providing a specific numerical value from the data. KNOWLEDGE INJECTION: Verify that the model understands the context of the question and can differentiate between requests for numerical data versus qualitative assessments of change over time.</Action>

    </Rule>
<Rule id="1845" phase="generation" confidence="1" source="log_1845" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving multiple numeric values and a specific geographic or product-based context</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of sales from a specific source (e.g., geographic location, product type), all relevant sales figures are correctly identified and used in the calculation, with particular attention to accurately dividing the source-specific sales by the total sales for the period in question, and then multiplying by 100 to obtain the percentage</Action>

    </Rule>
<Rule id="1846" phase="generation" confidence="1" source="log_1846" type="Arithmetic_Hallucination">

        <Trigger>Calculating the proportion of total future minimum lease payments dedicated to interest payments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the proportion of interest payments is performed by dividing the interest amount by the total amount and then multiplying by 100 to obtain the percentage, avoiding any incorrect assumptions about the distribution of interest and principal payments.</Action>

    </Rule>
<Rule id="1847" phase="generation" confidence="1" source="log_1847" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage, rather than just subtracting the initial value from the final value.</Action>

    </Rule>
<Rule id="1848" phase="generation" confidence="1" source="log_1848" type="ProgramLogicFailure">
        <Trigger>When comparing averages of different financial risks over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for each type of risk are correctly averaged and then compared according to the question's criteria before providing a response</Action>
    </Rule>
<Rule id="1849" phase="generation" confidence="1" source="log_1849" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increase between two time periods, ensure to apply the formula ((New Value - Old Value) / Old Value) * 100 accurately, considering the correct values for the new and old periods, and perform the calculation with precise arithmetic operations to avoid rounding errors.</Action>

    </Rule>
<Rule id="1850" phase="generation" confidence="1" source="log_1850" type="Arithmetic_Hallucination">

        <Trigger>Derivative receivable or payable balance calculations involving multiple components such as CVA and DVA/FVA across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components (e.g., CVA, DVA, FVA) that affect receivable or payable balances are correctly aggregated and considered when calculating the total change in these balances over time, taking into account the sign convention (positive for increases in receivables or decreases in payables, and negative for decreases in receivables or increases in payables)</Action>

    </Rule>
<Rule id="1851" phase="generation" confidence="1" source="log_1851" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, with attention to precise arithmetic operations and rounding at the final step, not during intermediate calculations.</Action>
    </Rule>
<Rule id="1852" phase="generation" confidence="1" source="log_1852" type="ProgramLogicFailure">
        <Trigger>Percentage change calculation between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure to apply the formula: ((Initial Value - Final Value) / Initial Value) * 100, to determine the correct percentage decrease or increase.</Action>
    </Rule>
<Rule id="1853" phase="generation" confidence="1" source="log_1853" type="ArithmeticHallucinationError">
        <Trigger>Calculations involving changes in financial metrics from positive to negative values or vice versa.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that calculations properly account for the change from profit to loss (or loss to profit) by correctly applying subtraction and considering the sign change, treating losses as negative values and profits as positive values.</Action>
    </Rule>
<Rule id="1853" phase="generation" confidence="1" source="log_1853" type="Arithmetic Hallucination">

        <Trigger>When calculating the duration of operation for a power plant based on given dates, and the model provides an answer that seems unrealistic or does not align with the provided context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of operational years for a power plant is performed by subtracting the in-service year from the license expiration year, considering any potential extensions or changes in ownership as additional factors that might affect the calculation. KNOWLEDGE INJECTION: Verify that all relevant dates (in-service year, license expiration date) are correctly identified and used in the calculation to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="1855" phase="generation" confidence="1" source="log_1855" type="Arithmetic Hallucination">

        <Trigger>Change in inventory values, especially when calculating cash flow from operations, and the model provides an answer with an incorrect sign.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the impact of inventory changes on cash flow from operations, ensure that the direction of change (increase or decrease) is correctly reflected in the sign of the result. If the inventory decreases, it should positively affect cash flow from operations, and if it increases, it should negatively affect cash flow from operations. KNOWLEDGE INJECTION: Verify that all calculations involving changes in inventory levels correctly account for the direction of change and apply the appropriate arithmetic operations to reflect this change accurately in financial metrics.</Action>

    </Rule>
<Rule id="1856" phase="generation" confidence="1" source="log_1856" type="Arithmetic_Hallucination">

        <Trigger>Calculating ratios involving financial metrics, such as the ratio of unsecured notes to outstanding unsecured lines of credit.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by performing calculations with the exact values given in the context, and verify the result through re-evaluation or approximation checks to prevent minor rounding discrepancies.</Action>

    </Rule>
<Rule id="1857" phase="generation" confidence="1" source="log_1857" type="arithmetic_hallucination">
        <Trigger>Calculation of percentage change between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change: ((New Value - Old Value) / Old Value) * 100, and ensure the direction of change (increase or decrease) is correctly interpreted based on the sign of the result (positive for increase, negative for decrease).</Action>
    </Rule>
<Rule id="1857" phase="generation" confidence="1" source="log_1857" type="Arithmetic_Hallucination">

        <Trigger>Contingent consideration settlement calculation is required, and the model provides a specific amount instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the amount of contingent consideration settled, ensure that the result is expressed as a percentage of the total contingent consideration liability, rather than providing the settlement amount alone. KNOWLEDGE INJECTION: Verify that the calculation involves dividing the settlement amount by the total contingent consideration liability and multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_error_log" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage increase or decrease in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula, ((New Value - Old Value) / Old Value) * 100, and verify that all values are correctly identified and applied in the formula to avoid arithmetic errors.</Action>
    </Rule>
<Rule id="1859" phase="generation" confidence="1" source="log_1859" type="Arithmetic Hallucination">

        <Trigger>Calculating net change in balance of allowance for doubtful accounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components (bad debt expense, write-offs, and other adjustments) are accurately accounted for and correctly calculated to determine the net change, considering the direction of each component's effect on the balance.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="arithmetic_calculation_error_log" type="arithmetic_hallucination">
        <Trigger>Percentage increase calculations involving numerical data from different time periods or scenarios.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula, i.e., ((New Value - Old Value) / Old Value) * 100, and verify the arithmetic operation for accuracy.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_R001" type="Arithmetic_Hallucination">

        <Trigger>When calculating aggregate values for financial metrics, such as long-term debt due in a specific timeframe, and the model's response significantly diverges from the sum of the provided numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant numerical values are accurately summed without omission, considering the context of timeframes and financial metrics, to prevent arithmetic hallucination and provide a correct aggregated value.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_R002" type="Program_Logic_Failure">

        <Trigger>When the model fails to account for the conversion between different units of measurement (e.g., thousands to millions) in financial data, leading to incorrect calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a standardization procedure to ensure uniformity in units of measurement during calculations, converting values as necessary to match the required output format and prevent discrepancies due to unit mismatches.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_R003" type="Incorrect_Context_Retrieval">

        <Trigger>When the model incorrectly interprets or fails to consider the specified timeframe (e.g., the next 36 months) for financial obligations, such as long-term debt.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model correctly identifies and sums the financial obligations within the specified timeframe, ensuring that only relevant data points are included in the calculation to avoid errors due to incorrect context retrieval.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_log" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentages and financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial calculations, especially those involving percentages, are performed with precise arithmetic operations, avoiding premature rounding until the final result is obtained.</Action>
    </Rule>
<Rule id="1863" phase="generation" confidence="1" source="log_1863" type="ArithmeticHallucinationError">

        <Trigger>When calculating the percentage of total net operating loss carry forwards set to expire within a specific time frame, and the model's response deviates from the correct calculation based on given totals and expiration ranges.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant sub-totals (e.g., federal, state, foreign) within the specified expiration range are accurately summed and then divided by the total net operating loss carry forwards to obtain the correct percentage, avoiding any premature rounding or incorrect handling of the components that contribute to the total.</Action>

    </Rule>
<Rule id="1864" phase="generation" confidence="1" source="log_1864" type="Arithmetic Hallucination">

        <Trigger>When comparing combined values over multiple periods, the model incorrectly calculates or compares the totals for different time spans.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that when calculating combined totals over multiple periods, all relevant values for each period are accurately summed and compared, considering the context of the question to determine the correct calculation method.</Action>

    </Rule>
<Rule id="1865" phase="generation" confidence="1" source="log_1865" type="Program Logic Failure">

        <Trigger>Upon encountering a question that requires comparing aggregated financial data over two distinct time frames, the model fails to apply the correct logic to determine which period has a larger combined total.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a logic check to verify that the model correctly identifies and sums all relevant financial data points for each time period before making a comparison, ensuring that the comparison is based on complete and accurate calculations.</Action>

    </Rule>
<Rule id="1865" phase="generation" confidence="1" source="log_1865" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two time periods for different groups, involving comparison of shares issued to distinct categories of personnel</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage changes by applying the formula (New Value - Old Value) / Old Value * 100, considering the correct base values for each group being compared, and verify that all relevant data points are correctly identified and utilized in the computation</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage impact of a specific expenditure on a total, and the model responds with an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the response is normalized to the required unit of measurement, in this case, percentage, by dividing the specific expenditure by the total expenditure and multiplying by 100, to provide a proportionate impact assessment.</Action>

    </Rule>
<Rule id="1867" phase="generation" confidence="1" source="log_1867" type="Arithmetic_Hallucination">

        <Trigger>Question requires calculating an average of two values given at different time points, particularly under specific financial arrangements like loss share agreements.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating averages of financial exposure under specific arrangements at different time points, ensure to sum the values and then divide by the number of time points to obtain the correct average, without relying on estimation or incorrect rounding.</Action>

    </Rule>
<Rule id="1869" phase="generation" confidence="1" source="log_1869" type="Arithmetic_Hallucination">

        <Trigger>Revenue growth rate calculations involving percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the growth rate of revenue between two periods, ensure that the formula [(New Revenue - Old Revenue) / Old Revenue] * 100 is applied correctly, considering rounding and precision to provide accurate percentage changes</Action>

    </Rule>
<Rule id="1870" phase="generation" confidence="1" source="log_1870" type="Arithmetic_Hallucination">

        <Trigger>Multiple receivables from different years are mentioned, and the model is asked to calculate the total system energy or a similar aggregate value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values from each year are accurately summed without omitting any values or introducing extraneous numbers, by meticulously following the order of operations and verifying that each value is correctly accounted for in the calculation.</Action>

    </Rule>
<Rule id="1870" phase="generation" confidence="1" source="log_1870" type="Arithmetic_Hallucination">

        <Trigger>When calculating the increase in a specific financial metric, such as export sales, between two time periods, and the model response is a fixed value that does not reflect a percentage or proportional change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations of changes in financial metrics over time are expressed as percentages or proportional changes, rather than absolute values, unless explicitly stated otherwise in the context. KNOWLEDGE INJECTION: Verify that the calculation methodology aligns with standard financial analysis practices, which typically involve comparing values over time using ratios or percentages to assess growth or decline.</Action>

    </Rule>
<Rule id="1871" phase="generation" confidence="1" source="log_1871" type="Arithmetic_Hallucination">

        <Trigger>When calculating a plan balance and encountering a sequence of additions and subtractions involving executive contributions, registrant contributions, aggregate earnings, and aggregate withdrawals/distributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant contributions and earnings are added, and all withdrawals and distributions are subtracted in the correct order, considering the timing of each transaction (e.g., beginning of the period, end of the period) to accurately compute the final balance.</Action>

    </Rule>
<Rule id="1872" phase="generation" confidence="1" source="log_1872" type="Program_Logic_Failure">

        <Trigger>Upon encountering multiple years of data (e.g., 2015, 2016) and needing to determine a specific year's plan balance.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify the year for which the plan balance is being queried and ensure that calculations only include data relevant to that year, excluding data from subsequent or preceding years unless explicitly required for the calculation (e.g., calculating year-end balance based on beginning balance, contributions, earnings, and withdrawals during that year).</Action>

    </Rule>
<Rule id="1873" phase="generation" confidence="1" source="log_1873" type="Incorrect_Context_Retrieval">

        <Trigger>When a question references a specific date (e.g., 12/31/15) and requires calculation of a plan balance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the calculation begins with the correct starting balance for the specified year (or date) and includes all relevant financial activities up to that point, ensuring that no unnecessary or extraneous transactions are included.</Action>

    </Rule>
<Rule id="FIN-001" phase="generation" confidence="1" source="financial_reasoning_log" type="ArithmeticError">
        <Trigger>Calculations involving percentage change over time in financial data.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations correctly apply the formula ((New Value - Old Value) / Old Value) * 100, considering the context of financial data and time periods involved.</Action>
    </Rule>
<Rule id="1874" phase="generation" confidence="1" source="log_1874" type="Arithmetic Hallucination">

        <Trigger>Calculating rent per square foot per month based on annual rental payments and lease duration</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that annual rental payments are divided by the lease duration in years and then by the total square feet of space to calculate the rent per square foot per month, accounting for any increases in rent over the lease term</Action>

    </Rule>
<Rule id="1875" phase="generation" confidence="1" source="log_1875" type="Program Logic Failure">

        <Trigger>Incorrectly applying rental payment information from different lease terms or properties</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the rental payment information used for calculations corresponds to the same property and lease term, and apply the correct formula to calculate rent per square foot per month</Action>

    </Rule>
<Rule id="1876" phase="generation" confidence="1" source="log_1876" type="Incorrect Context Retrieval">

        <Trigger>Failure to identify and apply relevant lease details, such as rent escalation or lease duration</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant lease details, including rent escalation, lease duration, and total square feet, are correctly retrieved and applied when calculating rent per square foot per month</Action>

    </Rule>
<Rule id="1875" phase="generation" confidence="1" source="log_1875" type="Arithmetic_Hallucination">

        <Trigger>Percent increase calculations involving multi-year financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percent increase calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations to avoid rounding errors, and verify that the correct values for the old and new periods are used.</Action>

    </Rule>
<Rule id="1876" phase="generation" confidence="1" source="log_1876" type="Arithmetic_Hallucination">

        <Trigger>Percentage difference calculation between two scenarios involving different stock prices or quantities</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, avoiding arithmetic errors by maintaining the correct order of operations and verifying the accuracy of intermediate calculations</Action>

    </Rule>
<Rule id="1876" phase="generation" confidence="1" source="log_1876" type="Arithmetic_Hallucination">

        <Trigger>Allocation of purchase price to intangible assets and goodwill is mentioned in the context, and the model's response is a single value without showing the calculation steps.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the allocation of the purchase price to intangibles, the model adds the values of both goodwill and intangible assets before providing the final answer. KNOWLEDGE INJECTION: Recognize that intangibles include both goodwill and other intangible assets, and both should be considered in the calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate between two consecutive periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating growth rate is applied correctly, using the formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that the correct values for the current and previous years are used.</Action>

    </Rule>
<Rule id="1878" phase="generation" confidence="1" source="log_1878" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total shares purchased within a specific timeframe</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of shares purchased during a particular period, the model accurately divides the number of shares purchased in that period by the total number of shares purchased and then multiplies by 100, avoiding rounding errors by maintaining precise decimal places until the final answer is formatted.</Action>

    </Rule>
<Rule id="1879" phase="generation" confidence="1" source="log_1879" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage cumulative return involving multiple time periods and comparisons between different stocks or indices</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage cumulative return is correctly applied, taking into account the initial and final values of the stock or index over the specified period, and verify that all intermediate steps, such as calculating the ratio of final to initial values and then subtracting 1 to get the percentage return, are accurately performed before comparing returns between different stocks or indices</Action>

    </Rule>
<Rule id="1881" phase="generation" confidence="1" source="log_1881" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates between two consecutive years for financial metrics such as direct amount</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages, especially growth rates, are performed using precise formulas, considering the exact values of the previous and current years, and rounding appropriately at the final step to match the required precision level</Action>

    </Rule>
<Rule id="1882" phase="generation" confidence="1" source="log_1882" type="ComparativeAnalysisFailure">

        <Trigger>Comparing dividend amounts declared on different dates</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing dividend amounts, ensure that the model extracts and compares the correct dividend amounts based on their respective declaration dates, rather than relying on assumed or default values.</Action>

    </Rule>
<Rule id="1883" phase="generation" confidence="1" source="log_1883" type="ContextualUnderstandingFailure">

        <Trigger>Understanding the context of dividend declarations and payments</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure the model understands the temporal relationships between dividend declaration dates, record dates, and payment dates, and can correctly identify and compare dividend amounts based on these relationships.</Action>

    </Rule>
<Rule id="1884" phase="generation" confidence="1" source="log_1884" type="NumericalComparisonError">

        <Trigger>Numerical comparison of dividend amounts</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing numerical values such as dividend amounts, ensure that the model performs accurate arithmetic operations and does not rely on incorrect assumptions or simplifications that may lead to incorrect comparisons.</Action>

    </Rule>
<Rule id="1883" phase="generation" confidence="1" source="log_1883" type="Arithmetic Hallucination">

        <Trigger>When calculating the ratio of change in net sales between two periods, and the model provides an incorrect response that does not match the calculated result based on the provided data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the ratio of change involves correctly subtracting the initial period's value from the final period's value, then dividing by the initial period's value, and apply this formula consistently across all similar calculations to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="1884" phase="generation" confidence="1" source="log_1884" type="Program Logic Failure">

        <Trigger>When the model fails to apply the correct formula for calculating percentages or ratios, especially in cases where the direction of change (increase or decrease) affects the sign of the result.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always apply the formula for percentage change or ratio calculation considering the direction of change, ensuring that increases are denoted correctly and decreases are denoted with a negative sign when appropriate, to maintain logical consistency in financial calculations.</Action>

    </Rule>
<Rule id="1885" phase="generation" confidence="1" source="log_1885" type="Incorrect Context Retrieval">

        <Trigger>When the model incorrectly identifies or applies data from the wrong time period or context, leading to miscalculations or incorrect responses in financial reasoning tasks.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all calculations are based on data from the correct and relevant time periods as specified in the question or task, ensuring that the context of the data matches the requirements of the calculation to prevent errors due to incorrect context retrieval.</Action>

    </Rule>
<Rule id="1883" phase="generation" confidence="1" source="log_1883" type="ContextRetrievalFailure">

        <Trigger>When a question specifically asks for historical data or year-over-year comparisons and the model responds with an excuse about missing information or relevance to the provided context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure thorough context analysis to identify relevant data points or missing information before responding, and prioritize searching for historical data or performing calculations based on provided numerical values to answer year-over-year comparison questions accurately.</Action>

    </Rule>
<Rule id="1884" phase="generation" confidence="1" source="log_1884" type="ArithmeticHallucination">

        <Trigger>When the model calculates or provides a percentage increase without explicit numerical data or performs arithmetic operations based on assumptions rather than provided numbers.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that calculations, especially those involving percentages or year-over-year changes, are based on explicitly provided numerical data and that the model does not hallucinate or assume the existence of specific numbers not given in the context.</Action>

    </Rule>
<Rule id="1885" phase="generation" confidence="1" source="log_1885" type="ProgramLogicFailure">

        <Trigger>When the model misunderstands the question's focus or mistakenly applies given data to an incorrect part of the query, such as calculating a different metric or comparing unrelated figures.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a question parsing mechanism that accurately identifies key elements of the query, such as the specific metric, time frame, or comparison being asked, to ensure that the model's response directly addresses all parts of the question with relevant calculations or data retrieval.</Action>

    </Rule>
<Rule id="1885" phase="generation" confidence="1" source="log_1885" type="ContextRetrievalFailure">

        <Trigger>When calculating ratios involving financial metrics and encountering phrases indicating the absence of explicitly mentioned denominators or other necessary components, but related information is present within the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always thoroughly examine the context for implicit or related information that could be used to infer or calculate the missing component, especially when dealing with financial ratios and reorganization charges.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>Percentage calculation involving regional distribution of facilities or assets, where the model's response does not align with the expected result derived from given totals and regional allocations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage calculations are performed by dividing the specific regional total by the overall total relevant to the context, and then multiplying by 100 to obtain the percentage, while maintaining precision and avoiding rounding errors that could lead to inaccurate results.</Action>

    </Rule>
<Rule id="1887" phase="generation" confidence="1" source="log_1887" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of future minimum lease payments under noncancelable operating leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total minimum lease payments are correctly summed and the specific year's payments are accurately identified before calculating the percentage of future minimum lease payments due in that year</Action>

    </Rule>
<Rule id="1888" phase="generation" confidence="1" source="log_1888" type="InsufficientDataUtilizationError">

        <Trigger>When calculating percentage changes or improvements in financial metrics, such as net income margin, and given data about revenue and changes in net income, but lacking explicit values for net income in the comparison years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify and extract all relevant financial data provided in the context, including revenue and net income changes. KNOWLEDGE INJECTION: Recognize that calculating percentage point improvements in financial ratios like net income margin may require deducing or inferring missing explicit net income values from given changes and other financial data, applying general financial principles and formulas for such calculations.</Action>

    </Rule>
<Rule id="1888" phase="generation" confidence="1" source="log_1888" type="Arithmetic_Hallucination">

        <Trigger>Calculation of net change between two time periods, specifically when determining the difference in total property, plant, and equipment net values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate subtraction of the initial value from the final value when calculating net changes, double-checking for any rounding or calculation errors that might lead to incorrect results.</Action>

    </Rule>
<Rule id="1890" phase="generation" confidence="1" source="log_1890" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods where the model responds with 0% despite a clear difference in values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percent change formula is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified from the context provided</Action>

    </Rule>
<Rule id="1890" phase="generation" confidence="1" source="log_1890" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal values or fractions, particularly when comparing two time periods or financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the model accurately applies the formula: ((New Value - Old Value) / Old Value) * 100, accounting for decimal places and rounding appropriately to avoid precision errors.</Action>

    </Rule>
<Rule id="1891" phase="generation" confidence="1" source="log_1891" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percent change calculation is performed using the correct formula: ((Current Year - Previous Year) / Previous Year) * 100, and consider the possibility of a decrease in value, which would result in a negative percent change.</Action>

    </Rule>
<Rule id="1892" phase="generation" confidence="1" source="log_1892" type="PrecisionError">
        <Trigger>Percentage change calculations involving decimal numbers</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentages, maintain sufficient decimal places until the final result is obtained to prevent precision errors.</Action>
    </Rule>
<Rule id="1893" phase="generation" confidence="1" source="log_1893" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of financial metrics, such as provisions for credit losses, where the model provides a numeric value without a percentage sign.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always append a percentage sign (%) to the result when calculating and presenting percentages of financial metrics, ensuring clarity in the differentiation between numeric values and percentage values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating proportions or percentages of financial metrics, such as debt, within a specific timeframe or category (e.g., current liabilities), where the model directly outputs a value without performing the necessary division or ratio calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating portions or percentages of total financial metrics, the model performs the required arithmetic operations (e.g., division) using the correct numerator and denominator values relevant to the context, and expresses the result in the appropriate format (e.g., percentage).</Action>

    </Rule>
<Rule id="1895" phase="generation" confidence="1" source="log_1895" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total future minimum lease payments due in a specific year, and given the total future minimum lease payments and at least one year's lease payment, but lacking specific breakdowns for the target year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure proportional allocation is considered based on given annual lease payments to estimate the target year's lease payment, even when direct calculation is not possible due to missing specific lease terms or payment schedules.</Action>

    </Rule>
<Rule id="1896" phase="generation" confidence="1" source="log_1896" type="Program_Logic_Failure">

        <Trigger>Encountering lease payment structures where direct calculation of future payments is not feasible due to absence of detailed lease terms.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the applicability of proportional reasoning or average distribution methods for lease payments across years when specific details are not provided, to facilitate estimation of lease payments due in a particular year.</Action>

    </Rule>
<Rule id="1896" phase="generation" confidence="1" source="log_1896" type="Arithmetic_Hallucination">

        <Trigger>Calculation of aggregate values from multi-year financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points from each year are accurately summed without omitting any years or including incorrect values, by verifying that the calculation logic correctly accounts for every specified period before arriving at the total aggregate value</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="loan_leases_analysis" type="Arithmetic Hallucination">

        <Trigger>Classification of loan and lease balances due after one year with multiple interest rate types</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentages by dividing the total amount of loans and leases with predetermined interest rates by the total of all loans and leases, then multiplying by 100 to obtain the correct percentage</Action>

    </Rule>
<Rule id="1899" phase="generation" confidence="1" source="log_1899" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of contractual obligations, ensure that the division operation is precise and consider potential rounding errors.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Round the final percentage result to two decimal places only after completing the division and multiplication operations to prevent premature rounding errors.</Action>

    </Rule>
<Rule id="1900" phase="generation" confidence="1" source="log_1900" type="Program_Logic_Failure">

        <Trigger>Upon encountering contractual obligations data with multiple time frames, verify that the selected time frame for long-term debt matches the question context.</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the long-term debt figures used in calculations align with the question's scope, and ensure that all relevant debt categories are considered when determining the proportion of contractual obligations.</Action>

    </Rule>
<Rule id="1901" phase="generation" confidence="1" source="log_1901" type="Incorrect_Context_Retrieval">

        <Trigger>When determining the percentage of contractual obligations that is long-term debt, ensure that the correct total contractual obligations value is retrieved and used in the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the total contractual obligations figure used as the denominator in the percentage calculation encompasses all relevant contractual obligations, including those with varying time frames.</Action>

    </Rule>
<Rule id="1900" phase="generation" confidence="1" source="log_1900" type="Arithmetic_Hallucination">

        <Trigger>Unrecognized income tax benefits and their potential impact on the effective income tax rate are mentioned in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of unrecognized income tax benefits that could impact the effective income tax rate, ensure to divide the amount that would impact the rate by the total amount of unrecognized tax benefits and then multiply by 100 to get the percentage, rather than assuming a direct percentage without calculation.</Action>

    </Rule>
<Rule id="1900" phase="generation" confidence="1" source="log_1900" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving monetary values from different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed with precise arithmetic operations to avoid rounding errors</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_debt_maturities" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving debt maturities from specific years, where the context provides the total debt and the individual year debt amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the sum of debt maturities for the specified years by the total debt, and then multiplying by 100. Verify that all relevant debt amounts are correctly summed before calculating the percentage.</Action>

    </Rule>
<Rule id="1902" phase="generation" confidence="1" source="log_1902" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total number of shares purchased as part of publicly announced plans or programs</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of total quantities, ensure that the correct total quantity is used as the denominator, and verify that the numerator is accurately extracted from the provided context to avoid division errors or incorrect proportion calculations.</Action>

    </Rule>
<Rule id="1903" phase="generation" confidence="1" source="log_1903" type="Program_Logic_Failure">

        <Trigger>Incorrect comparison or calculation of financial metrics across different periods</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that financial metrics are accurately compared across relevant periods by correctly identifying and matching corresponding data points, and apply the appropriate arithmetic operations to calculate the desired metric, such as percentages or ratios.</Action>

    </Rule>
<Rule id="1904" phase="generation" confidence="1" source="log_1904" type="Context_Retrieval_Failure">

        <Trigger>Failure to retrieve or correctly apply context-specific data for financial calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant context-specific data is correctly retrieved and applied to financial calculations, ensuring that the correct figures are used for the specific period or scenario being analyzed, and that calculations are performed in the correct order of operations.</Action>

    </Rule>
<Rule id="1903" phase="generation" confidence="1" source="log_1903" type="Arithmetic_Hallucination">

        <Trigger>Calculating a portion of a financial metric, such as long-term debt, reported under a specific section of a financial statement, when the total and constituent parts of the metric are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of a financial metric is based on the correct identification and summation of its constituent parts, and that the result is correctly expressed as a proportion of the total, using the formula: (portion / total) * 100, to obtain a percentage value.</Action>

    </Rule>
<Rule id="1905" phase="calculation" confidence="1" source="log_1905" type="ArithmeticCalculationFailure">
        <Trigger>Calculation of profit margins, particularly when given gross profit and net sales figures.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that the formula for gross profit margin (Gross Profit / Net Sales) * 100 is correctly applied when calculating percentages, considering the proper relationship between gross profit and net sales.</Action>
    </Rule>
<Rule id="1905" phase="generation" confidence="1" source="log_1905" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change in financial metrics, such as equity, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations follow the formula: ((End Value - Start Value) / Start Value) * 100, and verify that the values used are correctly extracted from the relevant financial statements</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticError">

        <Trigger>Percentage change calculations involving multiple time periods or categories, such as comparing financial metrics between different years or sectors.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified and correspond to the same category or metric being compared.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="ContextualUnderstandingError">

        <Trigger>Questions requiring the identification of specific financial metrics or categories, such as net charge-offs related to commercial banking, across different time frames.</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the relevant financial data points are accurately retrieved and matched to their respective categories and time periods, ensuring that the calculations are based on the correct and corresponding values.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_finqa" type="LogicalConsistencyError">

        <Trigger>Situations where multiple pieces of information are provided, and the task requires selecting the appropriate data points for calculation, such as distinguishing between different types of banking data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a step to validate the consistency of the selected data points with the question's requirements, ensuring that the calculation involves the correct and relevant figures for the specified context.</Action>

    </Rule>
<Rule id="1907" phase="generation" confidence="1" source="log_1907" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of state operating loss carryforwards that expires within a specified time period, and the model response is a numerical value that does not match the expected percentage format.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations involving percentages are properly formatted and reported as a percentage value, rather than a raw numerical value. KNOWLEDGE INJECTION: Verify that the calculation methodology correctly accounts for the total amount and the portion expiring within the specified timeframe, using the correct formula for percentage calculation.</Action>

    </Rule>
<Rule id="1908" phase="generation" confidence="1" source="log_1908" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change involving multiple years or periods of financial data, where the model provides a numerical answer close to but not exactly matching the correct calculation, suggesting a minor arithmetic discrepancy.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating growth rates or percentage changes, the model precisely applies the formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, without rounding intermediate calculations, to maintain calculation accuracy.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of average values from multiple periods or data points</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points are accurately summed and then divided by the total number of periods or data points to calculate the average, without introducing external biases or assumptions not supported by the provided context</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculation of future volumes based on a given growth rate</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating future values based on a past growth rate, ensure to apply the growth rate percentage correctly to the base value by first converting the percentage to a decimal, then multiplying it by the base value, and finally adding this product to the base value to get the future value.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage changes or growth rates in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations, especially when calculating percentages or ratios, by correctly applying mathematical formulas and carefully considering the rounding of intermediate and final results to avoid propagation of errors.</Action>
    </Rule>
<Rule id="RORCalculation" phase="generation" confidence="1" source="finqa_log" type="ProgramLogicFailure">
        <Trigger>Calculation of rate of return over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the rate of return calculation uses the correct start and end values for the specified time period, applying the formula (End Value - Start Value) / Start Value * 100.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>When calculating total liabilities for different types of leases, the model fails to sum all relevant lease values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all lease types (e.g., capital leases, ground leases) mentioned in the context are accounted for, and their respective values are accurately summed to obtain the total liability.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_finqa" type="Program_Logic_Failure">

        <Trigger>The model incorrectly calculates the total liability by not considering all years and types of leases mentioned in the context.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation of total liabilities includes all specified lease types and years, using the provided numerical values for each, to prevent under or overestimation of the total liability.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_finqa" type="Incorrect_Context_Retrieval">

        <Trigger>The model fails to correctly retrieve and utilize all relevant information from the context, leading to an incorrect calculation of total liabilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a thorough context analysis to identify and extract all necessary information regarding different lease types and their associated values, ensuring that no relevant data is overlooked during the calculation process.</Action>

    </Rule>
<Rule id="1914" phase="generation" confidence="1" source="log_1914" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages or ratios of revenue, especially in the context of comparing regional or national revenues to total revenues.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the final answer is expressed as a percentage by appending the percent sign (%) if the question asks for a percent, to avoid confusion between absolute values and proportions.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>When calculating the smallest decrease related to a specific financial metric over multiple periods, and the model's response is a positive or a smaller absolute value than expected.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model compares the absolute values of decreases across different periods and selects the one with the largest absolute value as the smallest decrease if the context implies a negative impact or reduction. KNOWLEDGE INJECTION: Confirm that the model understands "smallest decrease" in the context of negative values as the one with the largest absolute value, which represents the most significant reduction.</Action>

    </Rule>
<Rule id="1916" phase="generation" confidence="1" source="log_1916" type="CalculationError">
        <Trigger>Percentage change calculations involving financial metrics such as reserves or assets.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always verify that the correct old and new values are used in percentage change calculations and that the formula ((New Value - Old Value) / Old Value) * 100 is applied accurately.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating future minimum rental receipts collection within a specific timeframe, such as the next 24 months, where multiple years' data are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant years' receipts are accurately summed and then calculate the portion expected to be collected within the specified timeframe, taking into account the total minimum rental receipts for all given years.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>When calculating percentages of total future minimum rental receipts, the model fails to properly divide the sum of relevant receipts by the total receipts across all years.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation of percentages involves dividing the portion of interest by the total amount, and then multiply by 100 to convert the fraction to a percentage, ensuring the result reflects the proportion of the total.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticPrecisionError">
        <Trigger>Calculation of percentage changes in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic calculations, especially when computing percentage changes, by accurately rounding to the appropriate significant figure or decimal place as required by the context.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving multiple time periods, especially when comparing financial metrics such as operating income between different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the old and new values are correctly identified and matched to their respective time periods before calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percentual growth calculation involving multiple segments or categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the base for calculating percentual growth is the total value of the specific category or segment being analyzed, not the overall total unless explicitly stated otherwise</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Inconsistent or incorrect application of formulas for percentual changes over time, especially when calculating growth rates for subcategories within a larger dataset</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula for percentual change ((New Value - Old Value) / Old Value) * 100 is applied correctly, with the new and old values corresponding to the same specific category or segment being analyzed</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the ratio of changes in interest rates to changes in fair market value, the model provides an incorrect response that does not accurately reflect the proportional relationship between the two variables.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the ratio between the percentage change in interest rates and the change in fair market value is performed by dividing the change in fair market value by the percentage change in interest rates, and then verify that the calculation correctly represents the proportional relationship between the two variables.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Upon encountering a question that involves comparing the effects of an increase versus a decrease in interest rates on fair market value, the model fails to apply the correct logic to determine the direction and magnitude of the change.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the calculation of the ratio must consider whether the change in interest rates is an increase or a decrease and apply the correct formula accordingly, ensuring that the signs of the changes are correctly accounted for in the calculation.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>The model incorrectly interprets the context of the question, failing to identify the relevant information about the changes in interest rates and fair market value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and interprets the context provided, identifying the specific changes in interest rates and their corresponding effects on fair market value, and applying this information correctly in the calculation of the ratio.</Action>

    </Rule>
<Rule id="001" phase="postprocessing" confidence="1" source="finqa_logic" type="FormattingError">
        <Trigger>Questions asking for percentages or ratios in financial contexts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure answers representing percentages are formatted with a percentage sign (%) to maintain clarity and context accuracy.</Action>
    </Rule>
<Rule id="1923" phase="generation" confidence="1" source="log_1923" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed on the relevant numerical values extracted from the context.</Action>

    </Rule>
<Rule id="1924" phase="generation" confidence="1" source="log_1924" type="Arithmetic_Hallucination">

        <Trigger>Comparison of cumulative returns between two investments over a specified period, where the model response deviates significantly from the calculated difference based on provided historical data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations for comparing investment returns are based on the actual numerical difference between the final and initial values of each investment, properly accounting for the effects of compounding and accurately calculating the percentage difference as ((final_value_initial_investment - final_value_comparison_investment) / final_value_comparison_investment) * 100, to provide a precise measure of return disparity.</Action>

    </Rule>
<Rule id="1926" phase="generation" confidence="1" source="log_1926" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple years or comparison of financial metrics across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the old value is not zero to avoid division by zero errors. KNOWLEDGE INJECTION: Double-check the order of operations and confirm that the calculation is performed on the correct set of numbers, especially when dealing with decreases or increases over time in financial data.</Action>

    </Rule>
<Rule id="1926" phase="generation" confidence="1" source="log_1926" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage increase between two values, ensure to use the formula ((New Value - Old Value) / Old Value) * 100, and not just subtract the old value from the new value to obtain the percentage increase.</Action>

    </Rule>
<Rule id="1927" phase="generation" confidence="1" source="log_1927" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of percentage change using the formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and round the result to the appropriate decimal place to maintain consistency and accuracy in financial calculations</Action>

    </Rule>
<Rule id="ARITH001" phase="calculation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change: ((New Value - Old Value) / Old Value) * 100, ensuring the proper handling of negative signs to accurately reflect increases or decreases.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of lowered net sales attributable to a specific cause, and the model provides a response that does not match the calculated percentage based on given numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of change or attribution, the model accurately identifies the relevant base numbers and applies the correct formula, considering all factors mentioned in the context that contribute to the change, to derive the percentage.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_r001" type="Arithmetic_Hallucination">

        <Trigger>Ratio calculation involving multi-year financial data for stock total return performance</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios for stock total return performance over multiple years, ensure that the correct formula is applied by dividing the final year's value by the initial year's value and then comparing it to the benchmark (e.g., S&P 500) using the same time frame to avoid arithmetic hallucination and guarantee accurate ratio representation.</Action>

    </Rule>
<Rule id="FIN001" phase="generation" confidence="1" source="financial_context_analysis" type="ArithmeticHallucination">
        <Trigger>Questions asking for the total change in financial metrics between two periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values are correctly identified and that the change is calculated as the difference between the end and start values, considering the context of the question</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="CalculationError">
        <Trigger>ROI calculation for investment over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the ROI calculation accurately reflects the formula (End Value - Beginning Value) / Beginning Value * 100, and verify that all values are correctly retrieved from the relevant time period.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Comparison of returns or growth between financial indices over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure calculation of percentage change for each index separately, using the formula ((FinalValue - InitialValue) / InitialValue) * 100, and then compare the calculated percentage changes to determine the difference in growth.</Action>
    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_1001" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving regional distribution of entities or sites</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the number of entities in the region of interest by the total number of entities across all regions, and then multiplying by 100 to obtain the percentage, avoiding any rounding errors during the calculation process</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_depreciation" type="Arithmetic_Hallucination">

        <Trigger>Depreciation expense calculation over a fixed period, especially when depreciable lives and annual depreciation amounts are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating depreciation expense over a fixed period, ensure to correctly apply the formula by multiplying the annual depreciation amount by the number of years, taking into account any adjustments due to changes in the asset's life. KNOWLEDGE INJECTION: Verify that the calculation correctly reflects the provided context, including the depreciable life of the assets and any changes to that life, to avoid overestimation or underestimation of depreciation expenses.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Questions involving ratios or comparisons between different units (e.g., megawatts and dollars) in financial reasoning.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the mathematical operation applied (e.g., division, multiplication) correctly reflects the intended comparison or ratio, considering the units involved and the context of the question.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to use the formula ((New Value - Old Value) / Old Value) * 100, and verify that the values are correctly identified as new and old based on the context provided</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total values, especially when determining the proportion of a subset within a larger set over a specific time period or range.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation by dividing the sum of subset values by the total value and then multiplying by 100 to obtain the percentage, considering all relevant components and their accurate summation before final calculation.</Action>

    </Rule>
<Rule id="1040" phase="generation" confidence="1" source="log_1040" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving large differences in magnitude between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify that the old value is not zero to avoid division by zero errors, particularly in cases where the new value significantly exceeds the old value.</Action>

    </Rule>
<Rule id="1941" phase="generation" confidence="1" source="log_1941" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving multiple time periods or financial metrics, where the model's response contains a numerical value close to but not exactly matching the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent changes, ensure to apply the formula correctly as (New Value - Old Value) / Old Value * 100, and verify that the calculation is performed with sufficient precision to avoid rounding errors, especially when the differences between values are small or when dealing with large numbers.</Action>

    </Rule>
<Rule id="1942" phase="generation" confidence="1" source="log_1942" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage change in revenue due to a specific factor, such as volume/weather, and comparison with the total net change in revenue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the percentage change attributed to a specific factor is performed by dividing the change in revenue due to that factor by the total net change in revenue, and then multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that all relevant factors contributing to the net change in revenue are identified and considered in the calculation to avoid underestimation or overestimation of the percentage change due to the specified factor.</Action>

    </Rule>
<Rule id="1942" phase="generation" confidence="1" source="log_1942" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods, especially when dealing with negative numbers or changes from positive to negative values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, taking into account the signs of the values (positive or negative) to avoid errors in determining the direction and magnitude of the change.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Operating profit margin calculation with given net sales and operating profit values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division of operating profit by net sales and subsequent multiplication by 100 to obtain the correct percentage, avoiding arithmetic hallucination by validating the calculation steps.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of average values over multiple years for financial metrics such as receivables</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values for each year are correctly summed and then divided by the total number of years to calculate the average, avoiding any omission of relevant data points</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Failure to apply the correct formula for calculating averages when given a series of financial data points across different years</Trigger>

        <Action>KNOWLEDGE INJECTION: Always apply the formula for average calculation as the sum of all data points divided by the number of data points, ensuring that the logic for calculating averages is consistently applied across all financial metrics and time frames</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation in financial data, particularly when comparing year-over-year changes in shares issued under a specific plan</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percent change, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, considering the context of the problem and the specific values for the new and old periods, without assuming a fixed base or incorrect rounding</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="Program_Logic_Failure">

        <Trigger>Retrieval and application of historical data for share issuance under specific employee stock purchase plans, especially when multiple years' data are provided</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify and extract the relevant numerical data for the specific years mentioned in the question, ensuring that the correct years' data are used in calculations and that the context of the plan (e.g., employee stock purchase plan) is accurately applied to avoid confusion with other plans or data</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_finqa" type="Incorrect_Context_Retrieval">

        <Trigger>Identification of the correct data points for calculating percent changes in shares issued, particularly distinguishing between different plans and their respective years of issuance</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a rigorous process to identify and isolate the specific data relevant to the question, avoiding the inclusion of irrelevant data or the exclusion of necessary information, and ensuring that the calculation directly addresses the query's requirements without introducing external assumptions</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Encountering a question that requires calculating the difference between two percentage ranges or values, especially in the context of financial planning or investment options.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating differences between percentage values, especially in financial contexts like pension plans or investment portfolios, the model correctly interprets and computes the percentages as decimal values before finding the difference, avoiding direct subtraction of percentage values without proper conversion.</Action>

    </Rule>
<Rule id="1948" phase="generation" confidence="1" source="log_1948" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving investment sale and equity value, where specific numbers are provided in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages related to investments, especially those involving sales and equity values, the model accurately retrieves and uses the correct numbers from the context, and applies the percentage formula correctly (part/whole * 100), avoiding any arithmetic hallucination by directly computing from given figures without intermediate assumptions.</Action>

    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total minimum lease payments due after a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages due after a specific year involves summing the minimum lease payments for the relevant years and then dividing by the total minimum lease payments, considering all given years and amounts.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change in financial metrics, such as accrued interest liability, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed as (New Value - Old Value) / Old Value * 100, and verify that the result is correctly interpreted as a positive or negative percentage change to determine if it's an increase or decrease</Action>

    </Rule>
<Rule id="1951" phase="generation" confidence="1" source="log_1951" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes in financial metrics, such as option prices, across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula, ((New Value - Old Value) / Old Value) * 100, and that all values are accurately retrieved from the context, including proper consideration of significant figures and rounding during the calculation process</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change in aggregate balance over time, requiring previous period's balance for accurate computation</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change over time, ensure that the previous period's balance is accurately determined or retrieved before computing the change, avoiding arithmetic hallucination by properly accounting for all factors affecting the balance, such as earnings and withdrawals/distributions</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_error_analysis" type="Program_Logic_Failure">

        <Trigger>Incorrect application of formulas for calculating previous period's balance or percentage change</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the formula for calculating the previous period's balance correctly accounts for all relevant transactions (e.g., earnings, withdrawals/distributions) and that the percentage change formula is applied correctly to avoid program logic failures, by carefully considering the direction and impact of each transaction on the balance</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticError">

        <Trigger>When calculating percentages of a total amount due in a specific year, and the model's response is significantly lower than expected.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct order of operations is followed, particularly when dividing to calculate percentages, and verify that the division is being performed on the correct denominators (total amount) to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="ScalingError">

        <Trigger>When the model's response is a percentage value that seems reasonable at first glance but is significantly off from the expected answer, suggesting a possible issue with scaling or conversion of units.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always confirm that the units of the calculated value match the units of the total and the portion being compared (e.g., both in thousands or the same currency), to prevent errors due to incorrect scaling or unit mismatches.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="RoundingError">

        <Trigger>When the difference between the model's response and the correct answer could be due to premature rounding or truncation of intermediate calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement calculations with full precision until the final step, and only round or truncate the final result as necessary to match the required format, to avoid introducing errors due to premature rounding.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="UnitMismatchError">

        <Trigger>Encountering a question that requires the extraction of a specific financial metric or value, especially when the context mentions a change in the value over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer is formatted according to the context's requirements, considering whether the answer should be a raw number, a percentage, or any other specific format that matches the question's expectations.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_analysis" type="ContextualUnderstandingError">

        <Trigger>Questions that imply the need to understand the relationship between changes in financial metrics (like expenses or liabilities) and their impact on the final value of such metrics.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always analyze the context to identify any changes (increases, decreases) in financial metrics and ensure these changes are correctly applied to calculate the final value of interest, liabilities, or any other financial figure in question.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_analysis" type="ArithmeticError">

        <Trigger>Situations where arithmetic operations are required to calculate the final financial value, especially when such operations involve understanding the effect of decreases or increases in financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that all arithmetic operations necessary for calculating financial values are performed accurately, considering any mentioned adjustments (like decreases in expenses) and ensuring these are correctly applied to reach the final answer.</Action>

    </Rule>
<Rule id="1955" phase="generation" confidence="1" source="log_1955" type="Arithmetic Hallucination">

        <Trigger>Unrealized loss or gain calculations involving tax benefits in financial statements</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating tax rates applicable to unrealized losses or gains, ensure that the tax benefit is correctly deducted from the total loss or gain before calculating the tax rate, and verify that the resulting percentage is accurately derived from the given numbers, considering the formula: (Tax Benefit / Total Loss or Gain) * 100</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_1001" type="Arithmetic_Error">

        <Trigger>Calculation of change in financial values over time, particularly when determining differences between successive years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure subtraction is performed correctly by taking the later value minus the earlier value, and verify that all numbers are correctly positioned and calculated during the subtraction process to avoid arithmetic errors</Action>

    </Rule>
<Rule id="2001" phase="comparison" confidence="1" source="log_2001" type="LogicalComparisonError">

        <Trigger>Comparing expense and benefit values across different periods to determine which is larger</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing financial metrics such as expenses and benefits across different time periods, ensure that the comparison is based on the actual values and considers the context of whether the values represent expenses or benefits, rather than just calculating differences or ratios</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total purchase consideration compensated with shares</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of total purchase consideration compensated with shares, ensure that the correct formula is applied by dividing the value of shares issued by the total purchase consideration and then multiplying by 100 to obtain the percentage, without introducing rounding errors or incorrect significant figures.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving net sales of a specific product and total sales</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct formula (part/whole) * 100 is applied, and the result is rounded to the appropriate precision as specified by the context or question requirements</Action>

    </Rule>
<Rule id="1960" phase="generation" confidence="1" source="log_1960" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total maximum potential amounts backed by specific financial instruments, such as letters of credit, in financial reasoning questions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of totals in financial contexts, ensure to accurately sum all relevant components of the total and then calculate the percentage by dividing the specific component's value by the total value, and finally, multiply by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that all calculations follow the order of operations and that the context clearly defines what constitutes the total and the specific component in question.</Action>

    </Rule>
<Rule id="1961" phase="generation" confidence="1" source="log_1961" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in financial metrics, such as average other interest-earning assets, between two time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all changes in financial metrics are calculated by subtracting the initial value from the final value, and verify that the units of measurement are consistent before performing arithmetic operations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Percentage increase calculations for forecasting future financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increases are correctly applied to the base value by multiplying the base by (1 + percentage increase rate), before rounding to the appropriate decimal place for the financial context.</Action>
    </Rule>
<Rule id="1962" phase="generation" confidence="1" source="log_1962" type="Arithmetic_Hallucination">

        <Trigger>Encountering a question that requires calculating the total value of securities remaining available for future issuance, where multiple categories of securities and their respective quantities and exercise prices are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the total value of securities remaining for future issuance, ensure to sum the total number of securities remaining available for future issuance under all applicable plans, and consider the weighted-average exercise price for the correct calculation, taking into account all provided numbers and avoiding the oversight of any category.</Action>

    </Rule>
<Rule id="1963" phase="generation" confidence="1" source="log_1963" type="Program_Logic_Failure">

        <Trigger>Given a scenario with multiple types of securities and plans, where the model incorrectly assumes a direct answer from a single category without considering the comprehensive calculation required.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the necessity of aggregating data from all relevant categories and applying the correct formula for calculating the value of securities remaining available for future issuance, which may involve multiplying the total number of securities by the weighted-average exercise price, adjusted for the context-specific calculations as required by the question's constraints.</Action>

    </Rule>
<Rule id="1963" phase="generation" confidence="1" source="log_1963" type="Arithmetic_Hallucination">

        <Trigger>When calculating the number of years under examination for a firm or its subsidiaries, and multiple time periods are mentioned.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation only includes distinct, non-overlapping years mentioned in the context, avoiding double-counting of partially examined years.</Action>

    </Rule>
<Rule id="1964" phase="generation" confidence="1" source="log_1964" type="ArithmeticHallucination">

        <Trigger>Percentage calculations involving multiple years of sales data and specific category sales (e.g., foodservice net sales) to determine the proportion of total sales.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct year's total sales and the specific category's sales are accurately identified and used in the calculation. KNOWLEDGE INJECTION: Double-check that the percentage calculation is performed correctly by dividing the specific category's sales by the total sales for the respective year and then multiplying by 100.</Action>

    </Rule>
<Rule id="1965" phase="generation" confidence="1" source="log_1965" type="ProgramLogicFailure">
        <Trigger>Investment calculations involving multiple time frames (e.g., due within one year, due between two and three years, due after three years)</Trigger>
        <Action>CRITICAL FORMATTING RULE - Ensure correct interpretation and application of investment amounts according to the question's logic. KNOWLEDGE INJECTION - Recognize the need to calculate or combine values to reach a total or specific answer.</Action>
    </Rule>
<Rule id="1966" phase="generation" confidence="1" source="log_1966" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentual fluctuation between two different rating categories over time, especially in the context of financial exposure net of all collateral.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentual fluctuation involves correctly determining the difference in exposure between the two periods for each category, and then applying the percentual change formula correctly, taking into account the base values for both categories before calculating the final fluctuation percentage.</Action>

    </Rule>
<Rule id="1968" phase="generation" confidence="1" source="log_1968" type="Arithmetic_Hallucination_Error">

        <Trigger>Calculating percentage change between two consecutive years in financial data, particularly when dealing with disposal costs or gains.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the values used are the actual numbers for the respective years, considering the correct order of operations and avoiding rounding errors that might lead to slight discrepancies in the final percentage.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticLogicFailure">
        <Trigger>Calculation of total return differences between financial indices or stocks over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that total return calculations for comparison are based on the correct initial and final values of the respective financial indices or stocks, and that the difference is calculated as the total return of one entity minus the total return of the other over the same period</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation of increase from prior periods in financial statements</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of increase from prior periods, the correct formula is applied: (Increase from prior periods / Total increase) * 100, considering all relevant financial data from the given context.</Action>

    </Rule>
<Rule id="1971" phase="generation" confidence="1" source="log_1971" type="Arithmetic_Hallucination">

        <Trigger>Calculating averages from a set of financial data points across multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating averages from a series of financial data points, all values are correctly summed and then divided by the total number of data points to avoid precision errors.</Action>

    </Rule>
<Rule id="1972" phase="generation" confidence="1" source="log_1972" type="ArithmeticError">

        <Trigger>Percentage change calculations involving negative numbers or decreases in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, considering the signs of the values to accurately reflect increases or decreases</Action>

    </Rule>
<Rule id="1972" phase="generation" confidence="1" source="log_1972" type="Arithmetic_Hallucination">

        <Trigger>When calculating the change between two financial values, especially in the context of settlements or similar monetary transactions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of change between two periods involves subtracting the earlier period's value from the later period's value, taking into account the signs of the values (positive or negative) to accurately determine the direction and magnitude of the change.</Action>

    </Rule>
<Rule id="1973" phase="generation" confidence="1" source="log_1973" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ratios involving interest expense and non-operating income related to debt extinguishment and currency losses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components, including interest expenses net of capitalized interest and other non-operating income net related to debt extinguishment and currency losses, are accurately identified and summed before calculating the ratio to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="1974" phase="generation" confidence="1" source="log_1974" type="Arithmetic_Hallucination">

        <Trigger>Presence of multiple financial components such as cash, shares, and adjustments in a transaction, where the model fails to accurately sum these components.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all financial components (e.g., cash, stock value, and adjustments) mentioned in the transaction are accurately identified, converted to a common unit (if necessary), and summed to calculate the total amount received.</Action>

    </Rule>
<Rule id="1975" phase="generation" confidence="1" source="log_1975" type="Arithmetic Hallucination">

        <Trigger>When calculating the net value of liabilities and investments, and the context mentions both the value of investments and the amount of liabilities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of net value subtracts the total liabilities from the total investments to avoid incorrect results, and verify that the sign of the result correctly reflects whether the investments exceed the liabilities or vice versa.</Action>

    </Rule>
<Rule id="1976" phase="generation" confidence="1" source="log_1976" type="Arithmetic Hallucination">

        <Trigger>Calculating the percentage of total contractual obligations due within a specific timeframe, such as 1 year, for a particular lease or financial obligation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage of obligations due within a specified timeframe is performed by dividing the amount due within that timeframe by the total contractual obligation amount, and then multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that all relevant financial data, including total obligations and timeframe-specific obligations, are accurately retrieved and applied in the calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_log" type="ArithmeticError">
        <Trigger>Percentage change calculations, especially when the question explicitly asks for a decline or increase in percentage terms.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Always verify that the answer format matches the question's request, particularly distinguishing between numerical values and percentages.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="MisinterpretationError">
        <Trigger>Comparative financial performance questions involving percentage changes over time.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model interprets the question correctly to provide a relevant comparison of financial metrics, focusing on the implied relationship between the entities being compared.</Action>
    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_debt_to_asset_ratio" type="Arithmetic_Hallucination">

        <Trigger>Calculating debt-to-total asset ratio, where the model is given the debt and total assets for a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the debt is divided by the total assets for the correct year, and the result is expressed as a percentage by multiplying by 100</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_financial_ratio" type="Program_Logic_Failure">

        <Trigger>Financial ratio calculations involving division, where the model may return a value without considering the context of the ratio</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculated ratio is within the expected range for financial ratios and adjust the calculation if necessary to reflect the correct relationship between the financial metrics</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_temporal_context" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving financial data for a specific year, where the model may incorrectly use data from a different year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the financial data used in calculations corresponds to the correct year specified in the question, and verify that the data is accurately retrieved from the provided context</Action>

    </Rule>
<Rule id="1981" phase="generation" confidence="1" source="log_1981" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increases, ensure that the formula (New Value - Old Value) / Old Value * 100 is applied correctly, and the result is not just a subtraction of the old value from the new value</Action>

    </Rule>
<Rule id="1982" phase="generation" confidence="1" source="log_1982" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages or totals from given financial data, especially in contexts involving multiple years or categories of financial instruments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant figures are accurately summed or averaged, considering the context of the question, such as calculating annual averages from given yearly data. KNOWLEDGE INJECTION: Recognize the importance of correctly interpreting negative signs in financial data, which might indicate liabilities or deductions, and apply appropriate arithmetic operations to reach the correct answer.</Action>

    </Rule>
<Rule id="1982" phase="generation" confidence="1" source="log_1982" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of financial commitments or leases due after a specific year as part of net commitments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant timeframes and their corresponding financial values are accurately considered and summed before calculating percentages of net commitments, and verify that the calculation correctly reflects the proportion of commitments due after the specified year</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple variables and adjustments, such as LIFO adoption</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes involving multiple adjustments (e.g., LIFO adjustments), ensure that all relevant values are correctly summed before calculating the percentage increase, and verify that the calculation follows the correct order of operations to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Rounding_Error">

        <Trigger>Financial calculations requiring precise percentage outcomes, such as inventory valuations</Trigger>

        <Action>KNOWLEDGE INJECTION: Be aware of potential rounding errors when calculating percentages, especially in financial contexts where precision is critical. Ensure that calculations are performed with sufficient decimal places to maintain accuracy before rounding the final result.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total estimated benefit payment, multiple components are mentioned, such as defined benefit pension plans, other postretirement benefit plans, medicare subsidy receipts, and postemployment benefit plans.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all mentioned components are summed, considering their respective values and signs (positive or negative), to calculate the total estimated benefit payment.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the lowest inventory amount and the context provides days of supply in inventory for multiple years, the model must correctly apply the formula to find the lowest value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the inventory amount for each year based on the given days of supply and then compares these amounts to determine the lowest value, avoiding arithmetic hallucination by following the mathematical relationships defined in the context.</Action>

    </Rule>
<Rule id="1987" phase="generation" confidence="1" source="log_1987" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total value of vested units, the model provides an incorrect response that is the negative of the correct answer, indicating a potential sign error or misunderstanding of the context provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the sign of the values (positive or negative) is correctly interpreted and applied when performing arithmetic operations, especially when dealing with context that implies a specific sign (e.g., "vested" vs. "non-vested" units). KNOWLEDGE INJECTION: Verify that the model understands the difference between vested and non-vested units and correctly applies this understanding to calculate total values.</Action>

    </Rule>
<Rule id="1988" phase="generation" confidence="1" source="log_1988" type="Arithmetic_Hallucination">

        <Trigger>Upon encountering a question that requires calculating an average value from a series of financial data points over multiple years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points are identified and summed correctly before applying the average calculation formula. KNOWLEDGE INJECTION: Verify that the formula for calculating the average (sum of all values divided by the number of values) is correctly applied to the financial data points in question.</Action>

    </Rule>
<Rule id="1989" phase="generation" confidence="1" source="log_1989" type="Arithmetic_Hallucination">

        <Trigger>Calculating average annual growth rate over multiple years with fluctuating values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of average annual growth rate by applying the formula: ((End Value / Start Value)^(1/Number of Years)) - 1, and consider potential effects of negative growth years on the overall calculation</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="precision_analysis" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes or requiring precise rounding in financial data analysis</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial calculations, especially those involving percentage changes, are rounded to the appropriate significant figures or decimal places as contextually required to maintain accuracy</Action>
    </Rule>
<Rule id="1991" phase="generation" confidence="1" source="log_1991" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of future minimum lease payments due after a specific year under capital lease obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the percentage of future minimum lease payments due after a specific year involves subtracting the total minimum lease payments due up to that year from the total minimum lease payments, then dividing by the total minimum lease payments and multiplying by 100 to obtain the correct percentage</Action>

    </Rule>
<Rule id="1991" phase="generation" confidence="1" source="log_1991" type="Arithmetic Hallucination">

        <Trigger>When calculating the difference in percentage between two financial metrics, such as cumulative total return, over a specific period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied, considering the initial and final values of both metrics, and that the difference is calculated as ((Metric1_End - Metric1_Start) / Metric1_Start) - ((Metric2_End - Metric2_Start) / Metric2_Start), and then multiplied by 100 to obtain the percentage difference.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ArithmeticError">
        <Trigger>Calculation of percentage change between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure accurate application of the percentage change formula, ((New Value - Old Value) / Old Value) * 100, and verify rounding and significant figures appropriately to prevent calculation errors.</Action>
    </Rule>
<Rule id="1994" phase="generation" confidence="1" source="log_1994" type="AmbiguousContextError">

        <Trigger>When calculating percentage changes and the question does not explicitly specify the base year for comparison, but multiple years' data are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify the most recent year mentioned in the context as the base year for percentage change calculations, unless explicitly stated otherwise in the question, to maintain consistency in financial analysis.</Action>

    </Rule>
<Rule id="1995" phase="generation" confidence="1" source="log_1995" type="LackOfExplicitSpecificationError">

        <Trigger>Questions that ask for percentage changes without specifying the period or base year for comparison.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the importance of clarifying the base period or year when calculating percentage changes to avoid ambiguity and ensure the accuracy of financial calculations.</Action>

    </Rule>
<Rule id="1996" phase="generation" confidence="1" source="log_1996" type="InsufficientContextConsiderationError">

        <Trigger>When the provided context includes data for multiple years but the question's wording does not explicitly state which years to consider for the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Consider all provided data points and clarify the scope of calculation (e.g., year-over-year change) to prevent overlooking relevant information in financial analyses.</Action>

    </Rule>
<Rule id="1994" phase="generation" confidence="1" source="log_1994" type="Arithmetic_Hallucination">

        <Trigger>Calculation of differences between two financial ratios or metrics, particularly when comparing outcomes from different approaches or methodologies.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating differences between two values, the correct order of subtraction is applied (i.e., subtract the value of the first approach from the value of the second approach, or vice versa, based on the context of the question), and verify the sign of the result reflects the correct relationship between the two values (positive if the second value is greater, negative if the first value is greater).</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of totals, especially in contexts involving backlog calculations where multiple sub-values are given (e.g., funded, unfunded, total), and a final total is provided for comparison.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct and most current total backlog value is used for the calculation, and verify that all components of the backlog (funded and unfunded) are correctly summed to obtain this total if it's not explicitly given. KNOWLEDGE INJECTION: Confirm that the formula for calculating percentages (part/whole * 100) is applied correctly and that the 'part' and 'whole' values are accurately identified and extracted from the given data.</Action>

    </Rule>
<Rule id="1997" phase="generation" confidence="1" source="log_1997" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving monetary values or financial metrics, such as dividends per share, across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is performed on the correct set of values extracted from the context, avoiding rounding errors or incorrect subtraction</Action>

    </Rule>
<Rule id="1998" phase="generation" confidence="1" source="log_1998" type="Arithmetic_Hallucination">

        <Trigger>Calculating the percentage of share purchases not made as part of publicly announced programs, where the model's response deviates significantly from the correct answer due to incorrect arithmetic operations or failure to apply the correct formula.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of share purchases not part of publicly announced programs, ensure to subtract the number of shares purchased under such programs from the total shares purchased, then divide by the total shares purchased, and finally multiply by 100 to obtain the correct percentage. KNOWLEDGE INJECTION: Verify that all relevant shares purchased are accounted for in both the numerator and the denominator to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="1999" phase="generation" confidence="1" source="log_1999" type="Arithmetic_Hallucination">

        <Trigger>When calculating ratios of costs within financial statements, especially involving removal costs and total regulatory costs.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the numerator and denominator for the ratio calculation are correctly identified and that the removal costs are accurately related to the total regulatory costs, considering the context of the question and the appropriate years for calculation.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucination">

        <Trigger>When calculating ratios of financial metrics, such as interest incurred, across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct values for the respective years are retrieved from the context and used in the calculation, and verify that the arithmetic operation (e.g., division) is performed accurately without introducing incorrect values or simplifications.</Action>

    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculations involving multiple time periods or financial data points</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increases between two time periods, ensure that the difference between the two values is calculated correctly and then divided by the original value, before multiplying by 100 to obtain the percentage increase. KNOWLEDGE INJECTION: Verify that the correct formula is applied: ((New Value - Old Value) / Old Value) * 100.</Action>

    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic Hallucination">

        <Trigger>Transition adjustments related to the adoption of new financial standards, involving multiple components of income effect such as cumulative effect adjustments, pretax income adjustments, and after-tax adjustments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of income effect mentioned in the context, including cumulative effect adjustments, pretax income adjustments, and after-tax adjustments, are accurately identified and summed to calculate the net income effect, considering both the before-tax and after-tax implications of each adjustment.</Action>

    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving negative numbers or a change from a negative to a positive value, or vice versa, that results in an incorrect sign in the final percentage change value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, especially with negative values, the model maintains the correct sign by considering the direction of change (increase or decrease) and applies the formula correctly as ((New Value - Old Value) / Old Value) * 100, taking into account the impact of negative numbers on the sign of the result.</Action>

    </Rule>
<Rule id="2004" phase="generation" confidence="1" source="log_2004" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentages or proportions of financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, particularly those involving percentages or financial ratios, are conducted with sufficient decimal precision to avoid rounding errors.</Action>
    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages of financial metrics over multiple years and the model's response does not align with the provided numerical data, indicating a potential miscalculation or incorrect data interpretation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures mentioned for each year are accurately extracted and correctly averaged, considering the possibility of negative values or other factors that could influence the calculation. KNOWLEDGE INJECTION: Verify that the calculation methodology aligns with standard financial averaging practices, taking into account all provided data points.</Action>

    </Rule>
<Rule id="FIN001" phase="generation" confidence="1" source="log_FIN001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change ((New Value - Old Value) / Old Value) * 100 is applied correctly, taking into account the correct old and new values for the specified time periods, and verify that the result is rounded appropriately if necessary</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="arithmetic_logic" type="ArithmeticHallucination">
        <Trigger>Calculating averages from a series of financial data points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant data points are correctly summed before dividing by the number of periods to calculate the average, verifying that each step of the arithmetic process accurately reflects the given financial context.</Action>
    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic Hallucination">

        <Trigger>Calculation of ratio involving basis point changes and expected return on assets expense</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the numerator and denominator in ratio calculations are correctly identified and quantified, taking into account the specific context of basis point changes and their impact on financial metrics, such as expenses or returns.</Action>

    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula (New Value - Old Value) / Old Value * 100, and verify that the calculation is performed in the correct order to obtain the correct percentage change value.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Change calculation in financial metrics, such as unrecognized tax benefits, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure to subtract the initial value from the final value and then calculate the percentage change, if required, to determine the correct change in financial metrics</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="Program_Logic_Failure">

        <Trigger>Presence of percentage change or difference calculation in financial data</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that percentage change calculations involve dividing the difference between two values by the original value and then multiplying by 100, and apply this formula correctly to obtain accurate results</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_finqa" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieval of relevant financial data for calculations, such as initial and final values of unrecognized tax benefits</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the correct and relevant financial data points are identified and retrieved from the context to perform accurate calculations and provide reliable results</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Estimating percentage of maximum exposure to loss based on cumulative cash flow benefit</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage exposure to loss is performed by dividing the maximum exposure amount by the cumulative cash flow benefit and then multiplying by 100, without introducing incorrect assumptions or hallucinated values</Action>

    </Rule>
<Rule id="1002" phase="generation" confidence="1" source="log_analysis" type="Scale_Discrepancy">

        <Trigger>Comparing or calculating percentages from large cumulative benefits</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the potential for scale discrepancies when dealing with large numbers, and verify that the calculated percentages are reasonable and correctly scaled, considering the context of the problem</Action>

    </Rule>
<Rule id="1003" phase="generation" confidence="1" source="log_analysis" type="Context_Misinterpretation">

        <Trigger>Interpreting the relationship between cumulative cash flow benefits and maximum exposure to loss</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context is correctly interpreted, understanding that the maximum exposure to loss is a fraction of the cumulative cash flow benefit, and that this relationship should guide the calculation of the percentage, avoiding misinterpretations that could lead to incorrect estimates</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease from a previous year to the next, especially when the model provides a positive percentage change as the answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, considering the direction of change (increase or decrease) to avoid arithmetic hallucination. KNOWLEDGE INJECTION: Verify that a decrease is represented by a negative percentage change and an increase by a positive percentage change.</Action>

    </Rule>
<Rule id="001" phase="evaluation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Comparing financial returns between two entities over a specific period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data points for both entities are correctly retrieved and compared using the appropriate arithmetic operations, considering the initial and final values within the specified timeframe to determine which entity achieved a greater return</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Evaluating the performance of a stock or index in relation to a benchmark</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating returns, consider the percentage change in value over the specified period for both the stock and the benchmark, and apply logical comparisons to accurately determine which performed better</Action>

    </Rule>
<Rule id="003" phase="evaluation" confidence="1" source="error_analysis" type="Context_Retrieval_Failure">

        <Trigger>Retrieving and comparing historical financial data for specific dates</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the correct historical financial data points are retrieved for the specified dates and entities, and ensure that the comparison is made based on the values corresponding to those exact dates</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticError">

        <Trigger>Calculation of percentages from given numerical data, especially when determining the proportion of a specific expense category within total expenditures.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct formula (part/whole) * 100 is applied, and verify that the 'part' and 'whole' are correctly identified and extracted from the provided context, with special attention to matching the correct year's data for both the specific expense and the total expenditures.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage or absolute changes between two time periods or quantities, especially in the context of comparing numerical values across different years or scenarios.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations involving changes or differences between two values are performed using the correct formula, such as (New Value - Old Value) / Old Value * 100 for percentages, or simply New Value - Old Value for absolute changes, and consider the context of the question to provide the appropriate type of change (percentage or absolute).</Action>

    </Rule>
<Rule id="R2" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>When encountering questions that require the calculation of averages or ratios, such as increases per unit (e.g., berths per ship), to verify the correct application of formulas and the inclusion of all relevant factors.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation correctly accounts for the change in the number of units (e.g., ships) and the total change in the quantity (e.g., berths) over the period in question, using the formula (Total New Quantity / New Number of Units) - (Total Old Quantity / Old Number of Units) to calculate the change per unit.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_acquisitions" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of goodwill in total acquired intangible assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total acquired intangible assets and goodwill are correctly identified and that the percentage calculation is performed as (goodwill / total acquired intangible assets) * 100, considering potential cases where goodwill exceeds total acquired intangible assets, which would result in a percentage greater than 100.</Action>

    </Rule>
<Rule id="interval_calculation" phase="generation" confidence="1" source="log_analysis" type="Arithmetic Hallucination">

        <Trigger>When calculating statistical intervals based on percentage changes or midpoint values, especially in financial contexts involving interest rates and income.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated interval is presented as a range (e.g., lower bound < value < upper bound) rather than discrete values, to accurately represent uncertainty or variability in financial projections.</Action>

    </Rule>
<Rule id="contextual_understanding" phase="generation" confidence="1" source="log_analysis" type="Program Logic Failure">

        <Trigger>When questions imply the use of previous data points as midpoints for calculating future or hypothetical financial scenarios, such as interest income predictions based on past interest rates.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the necessity of applying percentage changes or other specified modifiers to a given midpoint or baseline value, and format the response to reflect the resulting range or interval, rather than providing a single value or inappropriate discrete values.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total components, such as loans sold from different categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant quantities are accurately summed before calculating percentages, and verify that the correct total is used as the denominator in percentage calculations</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between highest and lowest stock prices within a specific time period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by subtracting the lowest value from the highest value, then dividing by the highest value, and finally multiplying by 100 to obtain the percentage change</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>Calculating percentage growth between two time periods, especially when the initial and final values are provided along with intermediate values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage growth is applied correctly, using the initial and final values of the stock price, and verify that the calculation accounts for all relevant time periods, avoiding incorrect simplifications or omissions of intermediate data points.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages or totals from given data and the data is not fully provided for the requested range, but partial data is given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all provided numerical data is properly converted to the required unit (e.g., millions, thousands) before performing arithmetic operations, and clearly state the limitations of the calculation due to missing data.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_analysis" type="Unit_Conversion_Error">

        <Trigger>When the question requires the answer in a specific unit (e.g., millions) but the provided data or intermediate calculations are in a different unit.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify the unit of measurement of the given data and ensure that it matches the unit required by the question, performing necessary conversions before final calculations.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_analysis" type="Context_Retrieval_Failure">

        <Trigger>When the model fails to acknowledge missing data or its implications on the calculation, especially in time-series data or when calculating averages over a range.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Recognize the absence of critical data for the specified range and explicitly address this limitation in the response, ensuring clarity on what data was used for the calculation and what was not available.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>When calculating the expected growth rate of a financial metric, such as rent expense, and the model response is a single data point rather than a calculated rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points are considered and calculate the growth rate as a percentage change between consecutive periods, rather than simply reporting a single data point. KNOWLEDGE INJECTION: Apply the formula for percentage change: ((Current Period - Previous Period) / Previous Period) * 100.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_2022" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ratios involving financial metrics, such as collateral pledged, where the model provides a response with excessive precision not supported by the input data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Round calculated ratios to the nearest hundredth or to the same precision as the input data to prevent arithmetic hallucination and ensure response accuracy reflects the precision of given figures.</Action>

    </Rule>
<Rule id="FIN001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticError">
        <Trigger>Calculating percent change in financial metrics, such as expenses or revenues, between two periods.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all percent change calculations are performed using the correct formula ((New Value - Old Value) / Old Value) * 100, and verify that the direction of change (increase or decrease) is correctly interpreted and reported.</Action>
    </Rule>
<Rule id="2024" phase="generation" confidence="1" source="log_2024" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as (New Value - Old Value) / Old Value * 100, avoiding arithmetic hallucination by precise subtraction and division before multiplication</Action>

    </Rule>
<Rule id="2025" phase="generation" confidence="1" source="log_2025" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total payments due in a specific year, ensure that the correct total payments due in that year are used as the denominator.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always divide the specific payment obligation by the total payments due in the corresponding year, not by a total that includes payments due in other years, to obtain the correct percentage.</Action>

    </Rule>
<Rule id="2026" phase="generation" confidence="1" source="log_2026" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of contractual obligations due in a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of total contractual obligations due in a specific year, ensure that the correct total contractual obligations value associated with the specific type of obligation (e.g., lines of credit) is used as the denominator, rather than the overall total contractual obligations value.</Action>

    </Rule>
<Rule id="2027" phase="generation" confidence="1" source="log_2027" type="Arithmetic Hallucination">

        <Trigger>When calculating net derivative liability exposure, the presence of both derivative liabilities and receivables is detected in the context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net exposure calculation subtracts the total derivative receivables from the total derivative liabilities to obtain the correct net derivative liability exposure, considering the direction of the values (liabilities vs. receivables) to determine the appropriate sign for the result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Calculation of percentage involving financial metrics, especially when comparing net exposure to total investments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages are performed with correct consideration of the signs (positive or negative) of the values involved and that the formula for percentage calculation (part/whole * 100) is correctly applied to financial data, taking into account the context of the question being asked.</Action>
    </Rule>
<Rule id="2029" phase="generation" confidence="1" source="log_2029" type="Arithmetic_Hallucination">

        <Trigger>Calculating long-term debt for balance sheet reporting, where multiple future payments and totals are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all future payments and totals are summed and debt issuance costs are correctly accounted for when calculating the total long-term debt to be reported in the non-current liabilities section of the balance sheet, rather than solely relying on a single year's total or most recent payment information</Action>

    </Rule>
<Rule id="2030" phase="generation" confidence="1" source="log_2030" type="Arithmetic_Hallucination">

        <Trigger>Comparison of fair value adjustments between different categories of loans, such as loans transferred to held for sale and loans already classified as held for sale.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing fair value adjustments between different loan categories, ensure that the calculations are performed separately for each category and then compared, rather than making assumptions based on partial information. KNOWLEDGE INJECTION: Verify that all relevant fair value adjustments are considered and accurately calculated before making comparisons.</Action>

    </Rule>
<Rule id="2031" phase="generation" confidence="1" source="log_2031" type="Arithmetic Hallucination">

        <Trigger>Calculating cumulative total shareowner returns over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final value is calculated as a percentage change from the initial value to the last value in the given period, rather than relying on intermediate calculations or incorrectly weighted averages</Action>

    </Rule>
<Rule id="2032" phase="generation" confidence="1" source="log_2032" type="Arithmetic_Hallucination">

        <Trigger>Calculating the performance of a financial entity over multiple years to compare with a benchmark, such as determining if one stock or index outperformed another over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When comparing the performance of financial entities over time, ensure that the calculation accounts for the overall change from the starting point to the ending point, rather than just summing the annual changes. KNOWLEDGE INJECTION: Apply the formula for total return or percentage change over the period to assess outperformance accurately.</Action>

    </Rule>
<Rule id="2033" phase="generation" confidence="1" source="log_2033" type="Arithmetic Hallucination">

        <Trigger>When calculating working capital, the difference between current assets and current liabilities is involved</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of working capital is performed by subtracting current liabilities from current assets, and verify that the signs of the values are correctly applied to obtain a positive result when current assets exceed current liabilities</Action>

    </Rule>
<Rule id="2034" phase="generation" confidence="1" source="log_2034" type="ArithmeticHallucination">

        <Trigger>Questions asking for the net of increases and decreases related to tax positions taken during a prior period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all increases and decreases related to tax positions are correctly summed with appropriate consideration of their signs (positive for increases, negative for decreases) to calculate the net effect, avoiding any arithmetic hallucination by carefully applying basic arithmetic operations.</Action>

    </Rule>
<Rule id="2035" phase="generation" confidence="1" source="log_2035" type="Arithmetic_Hallucination">

        <Trigger>When calculating the ROI of an investment over a specific period, and the model provides a response that is close to but not exactly equal to the expected result, suggesting a minor arithmetic discrepancy.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final calculation for ROI is rounded to the appropriate decimal place as specified by the context or standard financial practices to prevent minor arithmetic discrepancies.</Action>

    </Rule>
<Rule id="2036" phase="generation" confidence="1" source="log_2036" type="ArithmeticHallucination">
        <Trigger>Calculation of growth rates involving fair value changes over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model applies the correct formula for growth rate calculation, considering the initial and final values of the fair value of investments, and verify that the calculation logic is sound and appropriately applied to the given context.</Action>
    </Rule>
<Rule id="2038" phase="generation" confidence="1" source="log_2038" type="Arithmetic_Hallucination">

        <Trigger>Question asks for a percentage or proportion of a total value related to financial collateral, but the model provides an absolute value instead.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the amount of collateral related to specific financial agreements as a proportion of the total, ensure that the model calculates the percentage by dividing the amount used (e.g., repledged, delivered, or otherwise used) by the total amount received and then multiplying by 100, rather than providing the absolute value of the amount used.</Action>

    </Rule>
<Rule id="2039" phase="generation" confidence="1" source="log_2039" type="ArithmeticHallucinationError">

        <Trigger>Calculating percentages of future estimated cash payments under existing contractual obligations, especially when dealing with multiple fiscal years and totals.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of components (such as payments due by specific fiscal years) of a total (like total long-term debt payments), the formula used correctly divides the component value by the total value and then multiplies by 100 to convert the result into a percentage, avoiding any rounding errors by keeping precision until the final step.</Action>

    </Rule>
<Rule id="2040" phase="generation" confidence="1" source="log_2040" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed by dividing the difference between the two values by the original value, then multiplying by 100, and rounding to the appropriate decimal place to avoid precision errors.</Action>

    </Rule>
<Rule id="2041" phase="generation" confidence="1" source="log_2041" type="Arithmetic Hallucination">

        <Trigger>When calculating the number of shares that received dividends, and the total dividend amount is given along with the dividend per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total dividend amount is divided by the dividend per share to obtain the correct number of shares that received dividends, accounting for the units of measurement (e.g., millions) to avoid calculation errors.</Action>

    </Rule>
<Rule id="2042" phase="generation" confidence="1" source="log_2042" type="Insufficient_Data_Utilization">

        <Trigger>When calculating ratios involving amounts written off and amounts recovered, and the model is given historical data on write-offs but does not directly utilize given or implied recovery amounts in its calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model seeks and incorporates all relevant data points, including those that might be implied or indirectly provided, to calculate ratios accurately, particularly when dealing with financial metrics that involve comparisons between different types of monetary movements or adjustments.</Action>

    </Rule>
<Rule id="2042" phase="generation" confidence="1" source="log_2042" type="Arithmetic_Hallucination">

        <Trigger>Investment return calculations involving initial investment, time period, and final index value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total return involves multiplying the initial investment by the ratio of the final index value to the initial index value, considering any reinvestment of dividends, to prevent arithmetic hallucination and obtain the correct total return.</Action>

    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="log_2001" type="Arithmetic Hallucination">

        <Trigger>When calculating total revenues for a region and year, and multiple regional revenues or percentages are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all provided revenues or percentages are correctly aggregated or applied to calculate the total revenue, considering the context of the question and the relationships between the different regional revenues or percentages mentioned.</Action>

    </Rule>
<Rule id="2044" phase="generation" confidence="1" source="log_2044" type="Arithmetic_Hallucination">

        <Trigger>When calculating cumulative total return over a period, especially in scenarios involving multiple years and reinvested dividends</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating cumulative total return accounts for compounding and reinvestment, and verify that all relevant factors such as initial investment, dividends, and price changes are accurately incorporated into the calculation to prevent miscalculations</Action>

    </Rule>
<Rule id="2046" phase="generation" confidence="1" source="log_2046" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of contractual obligations for future payments, especially in the context of distinguishing between short-term and long-term obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant contractual obligations (including lease and purchase commitments) are accurately identified and categorized by their respective time frames (short-term vs. long-term) before calculating percentages. KNOWLEDGE INJECTION: Verify that the calculation methodology correctly sums the relevant short-term obligations and then divides by the total obligations to obtain the percentage, avoiding any arithmetic hallucination by strictly following the numerical data provided.</Action>

    </Rule>
<Rule id="2001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Calculation of a portion or percentage of a total, where the model's response does not match the ground truth due to an incorrect arithmetic operation or an improper interpretation of the context provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the numerator and the denominator in the fraction used to calculate percentages are correctly identified and matched according to the question's context. KNOWLEDGE INJECTION: Ensure the formula for calculating percentages (part/whole) * 100 is applied accurately, considering the specific details given in the problem statement.</Action>

    </Rule>
<Rule id="2048" phase="generation" confidence="1" source="log_2048" type="ArithmeticHallucination">

        <Trigger>Calculation of average price at issuance when given total par value, total discount at issuance, and total net price at issuance</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the average price at issuance is calculated by subtracting the total discount at issuance from the total par value and then dividing by the number of series of notes, not by dividing the total net price at issuance by the total par value</Action>

    </Rule>
<Rule id="2049" phase="generation" confidence="1" source="log_2049" type="ProgramLogicFailure">

        <Trigger>Presence of multiple series of notes with different par values, discounts, and issuance costs</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the average price at issuance for multiple series of notes requires calculating the total net price at issuance for each series and then finding the average, rather than using the total net price at issuance for all series as a whole</Action>

    </Rule>
<Rule id="2048" phase="generation" confidence="1" source="log_2048" type="ArithmeticError">
        <Trigger>Calculation of percentages of total contractual obligations involving multiple years and interest amounts.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that the sum of all contractual obligations and the total interest are correctly calculated before computing the percentage of interest. Verify that all relevant figures are included and that the formula for percentage calculation is accurately applied.</Action>
    </Rule>
<Rule id="2050" phase="generation" confidence="1" source="log_2050" type="Arithmetic Hallucination">

        <Trigger>Calculating the proportion of increase in net revenue attributed to a specific factor, such as change in realized price, in financial analysis contexts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage contribution of a specific factor to an overall change, the correct formula is applied by dividing the change attributed to the factor by the total change and then multiplying by 100 to obtain the percentage, while avoiding direct calculations that might overlook intermediate steps or misinterpret the context of the factors involved.</Action>

    </Rule>
<Rule id="2050" phase="generation" confidence="1" source="log_2050" type="Arithmetic_Hallucination">

        <Trigger>Percentual increase calculations involving decimal values or rates</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations of percentual increases between two rates or decimal values are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage increase, while maintaining precision throughout the calculation to avoid rounding errors</Action>

    </Rule>
<Rule id="2051" phase="generation" confidence="1" source="log_2051" type="Arithmetic_Hallucination">

        <Trigger>Anticipated percentage increase calculations involving multiple time periods and capacity additions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage increases over multiple periods, especially involving additions or subtractions of quantities (like ships or berths), the base and final quantities are accurately identified and the formula for percentage change is correctly applied: ((Final - Initial) / Initial) * 100, considering all relevant factors and adjustments over the time frame in question</Action>

    </Rule>
<Rule id="2052" phase="generation" confidence="1" source="log_2052" type="Arithmetic_Hallucination">

        <Trigger>Percentage difference calculations between two future periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage difference is calculated as ((New Value - Old Value) / Old Value) * 100, and verify that the order of subtraction is correct to avoid sign errors, and consider the direction of change (increase or decrease) to provide a correct signed percentage difference.</Action>

    </Rule>
<Rule id="2053" phase="generation" confidence="1" source="log_2053" type="Arithmetic_Hallucination">

        <Trigger>Percentual growth calculation between two time periods involving changes in costs or expenses, where the base and new values are derived from different financial metrics (e.g., asset impairment costs and restructuring charges).</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentual growth between two time periods for different financial metrics, ensure that the base and new values are correctly identified and applied in the formula: ((NewValue - BaseValue) / BaseValue) * 100. KNOWLEDGE INJECTION: Verify that the numerator and denominator in the growth rate formula represent the correct change and initial value, respectively, for the specific financial metrics being compared.</Action>

    </Rule>
<Rule id="2054" phase="generation" confidence="1" source="log_2054" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values from given high and low prices for a specific period, especially in financial contexts where historical data is provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately calculates averages by considering all relevant data points, including both high and low prices, and correctly applies the formula for average calculation without introducing arithmetic errors or hallucinations.</Action>

    </Rule>
<Rule id="2055" phase="generation" confidence="1" source="log_2055" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations in financial balance valuation allowance rollforward</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct beginning and ending balances are identified and used in the percentage change calculation, taking into account all relevant expenses and benefits that affect the balance valuation allowance rollforward during the specified period</Action>

    </Rule>
<Rule id="2056" phase="generation" confidence="1" source="log_2056" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving multiple years or periods, where the model incorrectly applies the percentage change formula or misunderstands the direction of change (increase or decrease).</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percent change between two values over time, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, and verify that the direction of change (increase or decrease) is properly interpreted based on the context of the question.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="arithmetic_hallucination">
        <Trigger>Calculating percentages for financial segments, such as investing and lending, from given revenue figures.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage calculations involving financial data are rounded appropriately and consider the context's precision requirements to avoid minor discrepancies.</Action>
    </Rule>
<Rule id="2058" phase="generation" confidence="1" source="log_2058" type="ArithmeticError">
        <Trigger>Calculation of net change over two periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all values for the respective periods are correctly identified and that the calculation of net change involves subtracting the earlier period's value from the later period's value, considering all relevant factors and adjustments.</Action>
    </Rule>
<Rule id="2060" phase="generation" confidence="1" source="log_2060" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of total decline in operating profit associated with specific factors, ensure all relevant components are considered.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the numerator in the percentage calculation includes all specified decreases due to various factors (e.g., performance matters, amortization, adjustments, and investments) to accurately determine the proportion of the total decline.</Action>

    </Rule>
<Rule id="2061" phase="generation" confidence="1" source="log_2061" type="Program_Logic_Failure">

        <Trigger>Identify situations where the total decline is attributed to multiple factors, requiring a breakdown of each factor's contribution.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that calculating the percentage associated with a specific factor involves dividing the decrease attributed to that factor by the total decline, then multiplying by 100 to obtain the percentage, ensuring all factors are correctly accounted for in the calculation.</Action>

    </Rule>
<Rule id="2060" phase="generation" confidence="1" source="log_2060" type="Arithmetic Hallucination">

        <Trigger>Depreciation expense calculation over a period of time, where the depreciable lives of assets have a range and potential adjustments for changes in life expectancy.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating depreciation expense accumulated over time, especially for assets with variable lifespans or adjustments due to changes in life expectancy, the average depreciable life and any annual adjustments are accurately considered to avoid simplistic or incorrect assumptions about linear depreciation.</Action>

    </Rule>
<Rule id="2061" phase="generation" confidence="1" source="log_2061" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate involving multiple values for the same category, such as fair value of investments at different points in time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct and most current values for each category are used in calculations, and verify that all values are correctly labeled and distinguished to avoid confusion and incorrect arithmetic operations.</Action>

    </Rule>
<Rule id="2062" phase="generation" confidence="1" source="log_2062" type="Program_Logic_Failure">

        <Trigger> Presence of duplicate or very similar categories (e.g., total fair value of investments) with different values that could lead to confusion in calculation steps.</Trigger>

        <Action>KNOWLEDGE INJECTION: Clarify and standardize categories to ensure uniqueness and accuracy in financial data, and implement a verification step to check for and resolve any inconsistencies or duplications before performing calculations.</Action>

    </Rule>
<Rule id="2063" phase="generation" confidence="1" source="log_2063" type="Context_Retrieval_Error">

        <Trigger>Failure to accurately distinguish between relevant and irrelevant data points (such as fair value of investments versus unfunded commitments) during the calculation of growth rates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context of the question clearly defines which data points are relevant for the calculation, and filter out irrelevant data to prevent incorrect inclusions in arithmetic operations.</Action>

    </Rule>
<Rule id="2062" phase="generation" confidence="1" source="log_2062" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values over multiple periods from given expense data related to stock awards, especially in financial contexts where specific yearly amounts are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant yearly expense amounts are correctly summed and then divided by the total number of years to calculate the average compensation expense accurately, avoiding reliance on partial or incorrect data.</Action>

    </Rule>
<Rule id="2063" phase="generation" confidence="1" source="log_2063" type="Arithmetic_Hallucination">

        <Trigger>Presence of multiple geographical segments (e.g., U.S. and non-U.S.) with corresponding financial data, and a question asking for a hypothetical financial scenario excluding one of these segments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating hypothetical financial scenarios that exclude specific segments (e.g., foreign operations), ensure that the calculation is based on the total financial data for the included segments only, taking into account all relevant financial entries such as income, expenses, and taxes, and apply the correct arithmetic operations as per the question's requirements.</Action>

    </Rule>
<Rule id="2064" phase="generation" confidence="1" source="log_2064" type="Program_Logic_Failure">

        <Trigger>Questions requiring the isolation of financial data from specific segments (e.g., excluding foreign operations) to calculate a hypothetical financial metric (e.g., pre-tax income from continuing operations).</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that excluding a segment's operations involves more than just subtracting or adding that segment's financial data; it requires understanding the context of how different financial components interact and contribute to the overall financial health of the organization, and apply logical deductions accordingly to arrive at the correct hypothetical financial scenario.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Encountering calculations involving percentage changes to financial obligations</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage changes are accurately applied to the base value of the obligation, and consider all provided effects (increases, decreases) in the calculation to determine the current obligation amount.</Action>
    </Rule>
<Rule id="2065" phase="generation" confidence="1" source="log_2065" type="Insufficient Contextual Understanding">

        <Trigger>When comparing cash from financing activities to project capital expenditures to determine sufficiency for covering expenses, and the model provides a numerical value instead of a qualitative assessment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison between cash from financing activities and capital expenditures is evaluated qualitatively to determine if the former is sufficient to cover the latter, rather than providing a numerical value that may not address the question of sufficiency directly.</Action>

    </Rule>
<Rule id="2067" phase="calculation" confidence="1" source="log_2067" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes or growth rates, especially in financial metrics.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise application of mathematical formulas for percentage calculations, and verify that rounding does not inaccurately represent the outcome. KNOWLEDGE INJECTION: Double-check the accuracy of formulas used for growth rate calculations, such as ((New Value - Old Value) / Old Value) * 100, to prevent errors due to misapplication or simplification.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="percentage_increase_error" type="arithmetic_hallucination">
        <Trigger>Calculating percentage increase or decrease between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 to calculate percentage changes between financial periods</Action>
    </Rule>
<Rule id="2068" phase="generation" confidence="1" source="log_2068" type="Arithmetic_Hallucination">

        <Trigger>When calculating interest expense based on a hypothetical interest rate, and given the weighted-average debt level and the interest rate for two different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula, Interest Expense = Weighted-Average Debt Level * Weighted-Average Interest Rate, is applied using the given hypothetical interest rate and the corresponding weighted-average debt level, and verify that all values are correctly converted to the same unit (e.g., millions) before performing the calculation.</Action>

    </Rule>
<Rule id="2070" phase="calculation" confidence="1" source="log_2070" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculations involving comparative financial data from consecutive periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase is calculated using the formula ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that all values are accurately retrieved from the relevant financial statements before performing the calculation</Action>

    </Rule>
<Rule id="2070" phase="generation" confidence="1" source="log_2070" type="ArithmeticLogicFailure">
        <Trigger>Calculation of net cash impact across multiple years involving cash receipts and payments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that net cash impact calculations sum all relevant cash receipts and subtract all relevant cash payments for each period before summing these results across multiple years.</Action>
    </Rule>
<Rule id="2071" phase="generation" confidence="1" source="log_2071" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of quarterly share repurchases, especially when comparing a specific month's share repurchases to the total quarterly share repurchases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of percentages involves the correct division of the part by the whole, where the part represents the specific portion of the data (e.g., share repurchases in the last month) and the whole represents the total context (e.g., total quarterly share repurchases), and verify that the division result is accurately represented as a percentage by multiplying by 100, if necessary.</Action>

    </Rule>
<Rule id="2072" phase="generation" confidence="1" source="log_2072" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of the final purchase price dedicated to goodwill, and the model provides a response that does not accurately reflect the ratio of goodwill to the total purchase price.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of the final purchase price dedicated to goodwill is performed by dividing the goodwill amount by the total purchase price, and then multiplying by 100 to convert the result into a percentage. KNOWLEDGE INJECTION: Verify that all relevant financial figures, including goodwill and total purchase price, are correctly identified and extracted from the context before performing the calculation.</Action>

    </Rule>
<Rule id="2074" phase="generation" confidence="1" source="log_2074" type="ArithmeticError">
        <Trigger>Percentage change calculations involving financial data, especially for sequential year comparisons.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always verify that percentage changes are calculated using the correct formula ((New Value - Old Value) / Old Value) * 100, and ensure that the values used are appropriately extracted from the financial data provided.</Action>
    </Rule>
<Rule id="2074" phase="generation" confidence="1" source="log_2074" type="Arithmetic Hallucination">

        <Trigger>When calculating future revenue based on the growth rate of a related business or sector, and the growth rate is given as a percentage increase.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase is correctly applied to the base revenue by converting the percentage to a decimal and then multiplying it by the base revenue, and adding the result to the base revenue to get the new revenue, avoiding any arithmetic hallucination by carefully following the order of operations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticPrecisionError">
        <Trigger>Calculations involving percentage changes or financial ratios</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all financial calculations, especially those involving percentages or ratios, maintain a precision level that accommodates the required number of decimal places for accurate financial analysis.</Action>
    </Rule>
<Rule id="2077" phase="generation" confidence="1" source="log_2077" type="Arithmetic Hallucination">

        <Trigger>When calculating growth rate or projecting future values based on past trends, and the input data contains multiple, potentially inconsistent sets of financial figures.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the most relevant and consistent set of financial data is identified and used for calculations, and verify that the growth rate calculation is correctly applied to the appropriate financial metric (e.g., profit per share) before projecting future values.</Action>

    </Rule>
<Rule id="2078" phase="generation" confidence="1" source="log_2078" type="Program Logic Failure">

        <Trigger>Upon encountering inconsistencies or ambiguities in the input data that could affect the choice of financial figures for calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a step to resolve or clarify data inconsistencies before proceeding with calculations, and ensure that the logic for selecting the appropriate financial data for growth rate calculations and projections is robust and based on clear criteria.</Action>

    </Rule>
<Rule id="2077" phase="generation" confidence="1" source="log_2077" type="Arithmetic Hallucination">

        <Trigger>Calculation of net change in balance of unpaid losses involving multiple components such as losses incurred, losses paid, and other adjustments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant components (incurred losses, paid losses, and other adjustments) are accurately accounted for and computed in the correct order to determine the net change in the balance of unpaid losses</Action>

    </Rule>
<Rule id="2078" phase="generation" confidence="1" source="log_2078" type="ArithmeticHallucination">

        <Trigger>Percentage difference calculations involving distinct values for shares issued at different stock prices</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the values used are correctly extracted from the context and correspond to the same type of data (e.g., both are in millions of shares).</Action>

    </Rule>
<Rule id="2080" phase="generation" confidence="1" source="log_2080" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage amortized in a given period for a capital lease, where the model provides an incorrect percentage without proper basis and amortization consideration.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of the basis amortized for a capital lease, the difference in cumulative amortization between the current and previous period is correctly determined and then divided by the cost basis, multiplied by 100 to obtain the percentage amortized in the specified year.</Action>

    </Rule>
<Rule id="2081" phase="generation" confidence="1" source="log_2081" type="Arithmetic Hallucination">

        <Trigger>Recalculation of equity due to reclassification of non-controlling interests is required, and the model provides a numeric value as a response instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the impact of reclassification of non-controlling interests in equity, ensure to divide the increase in reclassification by the previously reported equity, then multiply by 100 to obtain the percentage change, rather than providing the absolute value of the increase as the response.</Action>

    </Rule>
<Rule id="2081" phase="generation" confidence="1" source="log_2081" type="Arithmetic Hallucination">

        <Trigger>When calculating expected collections from additional costs and given a timeline of contributions, the model's response does not align with the proportional increase in contributions over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of expected future collections considers the total additional costs to be recovered, the amount already collected, and the time period over which the collections are spread, applying proportional reasoning based on historical contribution data.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_error_analysis" type="ArithmeticHallucination">
        <Trigger>Interest payment calculations for fixed-rate financial instruments</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that interest payments are calculated by multiplying the principal amount by the annual interest rate and then adjusting for the payment frequency (e.g., semi-annual, annual) to avoid incorrect arithmetic operations or logic flaws.</Action>
    </Rule>
<Rule id="2083" phase="generation" confidence="1" source="log_2083" type="ArithmeticPrecisionError"><Trigger>Calculation of time periods based on financial metrics like amortization.</Trigger><Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially division and calculations involving time periods, are performed with high precision and appropriate rounding to avoid significant discrepancies in financial planning and projections.</Action></Rule>
<Rule id="2084" phase="generation" confidence="1" source="log_2084" type="Arithmetic_Hallucination">

        <Trigger>When calculating the increase in treasury stock due to total repurchase of shares, and the context provides the total number of shares purchased and the average price paid per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total cost of repurchased shares is calculated by multiplying the total number of shares purchased by the average price paid per share, and then verify that this value is correctly used to determine the increase in treasury stock, considering all relevant financial metrics and formulas.</Action>

    </Rule>
<Rule id="2086" phase="generation" confidence="1" source="log_2086" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or balances, where the model fails to apply the correct formula or misinterprets the context of the given data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the correct initial and final values are identified and applied to the formula: ((Final Value - Initial Value) / Initial Value) * 100. KNOWLEDGE INJECTION: Verify that the context of the calculation (e.g., time period, specific account or financial metric) is accurately understood and applied to select the appropriate initial and final values for the calculation.</Action>

    </Rule>
<Rule id="2087" phase="generation" confidence="1" source="log_2087" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the increase from one period to another, ensure to apply the percentage change formula: ((New Value - Old Value) / Old Value) * 100, instead of merely subtracting the old value from the new value</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total current assets involves summing multiple components such as cash and cash equivalents, receivables, and other current assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of current assets are accurately summed without omission or incorrect arithmetic operations to derive the total current assets value.</Action>

    </Rule>
<Rule id="2089" phase="generation" confidence="1" source="log_2089" type="Arithmetic_Hallucination">

        <Trigger>When calculating the statistical interval of interest income affected by interest rate changes, and the model provides a specific range without considering the lower bound or upper bound separately.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the impact of interest rate changes on interest income, consider both the increase and decrease scenarios separately to derive the correct lower and upper bounds of the statistical interval, and format the answer as a range (e.g., "between X and Y") rather than providing an incorrect or misleading range.</Action>

    </Rule>
<Rule id="2090" phase="generation" confidence="1" source="log_2090" type="Insufficient_Data_Handling">

        <Trigger>When the question pertains to a specific year or time frame that is not explicitly mentioned in the provided data context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always check if the required data for the specified year or time frame is present in the context before providing a response; if not, clearly indicate the absence of relevant data instead of making assumptions or providing incorrect information.</Action>

    </Rule>
<Rule id="2091" phase="generation" confidence="1" source="log_2091" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the order of operations is correctly applied to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="2091" phase="generation" confidence="1" source="log_2091" type="ArithmeticLogicError">
        <Trigger>Calculation of net income margin from revenue and net loss values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that net income margin calculations correctly apply the formula (|Net Income| / Revenue) * 100, considering the absolute value of net income (whether it's a profit or a loss) to obtain a positive margin percentage.</Action>
    </Rule>
<Rule id="2092" phase="generation" confidence="1" source="log_2092" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of outstanding borrowing allowances, and multiple borrowing sources are mentioned with different amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant borrowing amounts are correctly aggregated before calculating the percentage of the borrowing allowance that is outstanding, considering both short-term and long-term borrowings under various credit facilities.</Action>

    </Rule>
<Rule id="2093" phase="generation" confidence="1" source="log_2093" type="Arithmetic_Hallucination">

        <Trigger>Percentage performance calculations involving multiple time periods and comparisons between different financial indices or entities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated correctly over multiple periods by using the formula for compound annual growth rate (CAGR) or percentage change for each period, and then compare the resulting values, taking into account the correct order of operations and ensuring that all relevant data points are considered</Action>

    </Rule>
<Rule id="2094" phase="generation" confidence="1" source="log_2094" type="Program_Logic_Failure">

        <Trigger>Financial comparisons requiring the calculation of differences in percentage performance between two or more entities over a specified period</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the program logic correctly accounts for the starting and ending values of each entity's index and calculates the percentage change for each entity separately before finding the difference in their percentage performances, ensuring that the logic follows the principles of percentage change calculation and comparison</Action>

    </Rule>
<Rule id="2095" phase="generation" confidence="1" source="log_2095" type="Incorrect_Context_Retrieval">

        <Trigger>Situations where the model needs to retrieve and compare historical financial data from different entities or indices</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly retrieves and matches the corresponding data points for each entity or index being compared, verifying that the data is accurate, complete, and relevant to the calculation being performed, and that the context in which the data is being used is correctly understood and applied</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Percentage decrease calculations involving multiple time periods or geographical locations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change is performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that the old and new values are correctly identified and extracted from the context for the specific time period and location in question</Action>

    </Rule>
<Rule id="2095" phase="generation" confidence="1" source="log_2095" type="Arithmetic Hallucination">

        <Trigger>When calculating the final amount of cash and cash equivalents, the model provides an answer that suggests a partial calculation, omitting essential components such as beginning cash balance, and net changes from operating, investing, and financing activities.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the final amount of cash and cash equivalents, all relevant cash flows from operating, investing, and financing activities are considered, along with the beginning cash balance, to accurately determine the ending cash balance. KNOWLEDGE INJECTION: Recognize that the correct calculation involves summing the cash provided by or used for operating activities, and adjusting for the net effects of investing and financing activities, rather than selectively adding or subtracting components.</Action>

    </Rule>
<Rule id="2096" phase="generation" confidence="1" source="log_2096" type="Arithmetic Hallucination">

        <Trigger>Calculating net change in balance, particularly when dealing with temporal comparisons of financial metrics such as unvested shares over multiple years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating net changes over time, ensure to subtract the initial value from the final value, taking into account the correct order of operations and the potential for negative results indicating a decrease.</Action>

    </Rule>
<Rule id="2097" phase="generation" confidence="1" source="log_2097" type="Arithmetic_Hallucination">

        <Trigger>Calculation of ratios involving financial metrics, such as the ratio of restricted cash and marketable securities to the balance in the allowance for doubtful accounts, where the model incorrectly attempts to derive missing values through unsubstantiated assumptions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating financial ratios, ensure that all components of the ratio are directly provided or can be accurately derived from given information. If a component is missing, do not assume its value based on unrelated or insufficient data. Instead, identify the missing information and either retrieve it from relevant sources or acknowledge the inability to calculate the ratio due to insufficient data.</Action>

    </Rule>
<Rule id="2098" phase="generation" confidence="1" source="log_2098" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving multiple geographic regions or categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in multi-region or multi-category problems, the model accurately identifies the relevant subset of data, correctly sums the parts of the whole that pertain to the question, and then accurately divides to find the percentage, avoiding any arithmetic hallucination by closely following the question's context and the given numbers.</Action>

    </Rule>
<Rule id="2100" phase="generation" confidence="1" source="log_2100" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving multiple categories or subgroups in financial data, where incorrect aggregation or weighting may occur</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving multiple subgroups, each subgroup's value is accurately aggregated and then divided by the total sum of all relevant subgroups, considering the context of the question to avoid misinterpretation of the required calculation</Action>

    </Rule>
<Rule id="2101" phase="generation" confidence="1" source="log_2101" type="Program_Logic_Failure">

        <Trigger>Scenarios where the model fails to distinguish between different types of memberships or categories in financial data, leading to incorrect calculations</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation accurately reflects the question's context by ensuring that the numerators and denominators used in the percentage calculation are correctly matched and aggregated according to the specific categories mentioned in the question</Action>

    </Rule>
<Rule id="2100" phase="generation" confidence="1" source="log_2100" type="Arithmetic_Hallucination">

        <Trigger>When calculating the difference between two quantities, especially in the context of comparing subscriber numbers or other numerical values between different entities or categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant quantities are accurately identified and subtracted to find the difference, avoiding any arithmetic hallucination by carefully parsing the context to extract correct numerical values for subtraction.</Action>

    </Rule>
<Rule id="2101" phase="generation" confidence="1" source="log_2101" type="ArithmeticError">

        <Trigger>Calculation of change in balance, particularly when determining the difference between initial and final values of unrecognized tax benefits over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always subtract the final value from the initial value when calculating the change in balance, ensuring the correct representation of the direction of change (increase or decrease) by maintaining the order of subtraction as initial minus final.</Action>

    </Rule>
<Rule id="2102" phase="generation" confidence="1" source="log_2102" type="Arithmetic_Hallucination">

        <Trigger>Change calculation between two different years involving percentages, especially when the question implies a comparison of ratios or proportions over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in percentages over time, subtract the earlier year's percentage from the later year's percentage, taking into account any potential changes in the matched contribution rates or bases, and consider the context of maximum participant contributions if applicable.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage representation of a financial component, such as goodwill, in a total purchase price.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage representation of a component within a total, the component's value is correctly divided by the total value and then multiplied by 100 to obtain the percentage, avoiding any premature rounding or incorrect division.</Action>

    </Rule>
<Rule id="2104" phase="generation" confidence="1" source="log_2104" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total indemnification and repurchase liability, and multiple categories of liabilities are mentioned (e.g., residential mortgages, home equity loans/lines),</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct category's value is used in the calculation (i.e., the value that directly pertains to the question being asked) and that the total value used as the denominator is the sum of all relevant categories, not just a subset of them or an incorrect value. KNOWLEDGE INJECTION: Double-check that all relevant categories are considered and correctly summed to determine the total before performing percentage calculations.</Action>

    </Rule>
<Rule id="2105" phase="generation" confidence="1" source="log_2105" type="ArithmeticHallucination">
        <Trigger>Calculation of totals from distributed data points across different categories or locations</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all numerals mentioned in the context are accurately identified and summed without alteration or assumption, using a systematic approach to tally all relevant figures before providing a final calculation.</Action>
    </Rule>
<Rule id="2106" phase="generation" confidence="1" source="log_2106" type="Arithmetic Hallucination">

        <Trigger>When calculating total returns or combined values from multiple financial indices or entities over a specific period, and the model provides an incorrect sum that exceeds the expected range of values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total returns or combined values are calculated as the sum of the individual returns minus the initial investment value (if the returns are cumulative and the initial investment is $100, as commonly used in financial comparisons), rather than simply adding the returns of each entity or index. KNOWLEDGE INJECTION: Recognize that in financial contexts, when comparing performance over time, the calculation often involves understanding the baseline (initial investment) and how returns are compounded or compared over the period in question.</Action>

    </Rule>
<Rule id="2107" phase="generation" confidence="1" source="log_2107" type="Arithmetic_Hallucination">

        <Trigger>When calculating market capitalization based on the number of shareholders and the last sale price of common shares, and the model response contains an incorrect multiplication result.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total number of outstanding shares is correctly multiplied by the last sale price per share to calculate the market capitalization, and verify that the calculation is performed with precise arithmetic operations without introducing rounding errors prematurely.</Action>

    </Rule>
<Rule id="2108" phase="generation" confidence="1" source="log_2108" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of premiums paid in exchange for outstanding notes</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of the premium (cash and notes) are correctly accounted for and the total premium paid is calculated as a percentage of the total value of the outstanding notes exchanged, by dividing the total premium by the total value of the notes exchanged and then multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>When the question asks for total revenues or fees from multiple sources, such as management, leasing, and construction, over a specific period, and the provided context contains financial data for different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data mentioned in the context for the specified period is correctly identified and summed to calculate the total revenues or fees, without relying on provided totals for other years or making assumptions about missing data.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="ProgramLogicFailure">

        <Trigger>When the model fails to provide any numerical answer or provides a default value (e.g., 0) in response to a question about financial totals or sums.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model logic includes steps to extract all relevant numerical data from the context and perform the required arithmetic operations to calculate the answer based on the question's requirements, rather than relying on a default or assuming the absence of relevant data.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="IncorrectContextRetrieval">

        <Trigger>When the question specifies a particular year or period for which financial data is requested, and the context provides data for multiple years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly identifies and isolates the financial data relevant to the specified year or period from the context, and uses only this data to calculate the requested totals or sums, avoiding the inclusion of data from other years.</Action>

    </Rule>
<Rule id="2111" phase="generation" confidence="1" source="log_2111" type="Arithmetic Hallucination">

        <Trigger>Calculation of the effect in difference of average borrowing rate due to the use of swaps, where the model responds with a single value instead of a comparative analysis</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the effect of swaps on borrowing rates, ensure to compare the weighted average coupons before and after swaps, and provide the difference as the result, rather than a single absolute value. KNOWLEDGE INJECTION: Recognize that the effective average borrowing rate after swaps may not directly represent the effect of swaps, and a comparative analysis is necessary to accurately determine the impact.</Action>

    </Rule>
<Rule id="2112" phase="generation" confidence="1" source="log_2112" type="Arithmetic Verification Error">

        <Trigger>When calculating interest income based on average interest-earning assets and net interest yield, ensure that the correct arithmetic operations are applied.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the interest income calculation multiplies the average interest-earning assets by the net interest yield, taking into account the correct conversion of percentage to a decimal and the proper handling of units (e.g., millions, billions, trillions) to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>Percentage calculations involving future minimum lease payments under noncancelable operating leases with remaining terms in excess of one year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division of total future minimum lease payments due after a specified year by the total minimum lease payments to calculate the correct percentage, considering only the payments with terms exceeding one year and due after the specified year.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticError">

        <Trigger>Percentage change calculations involving multiple years or financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct base year value and the corresponding subsequent year value are identified and used in the percentage change formula, avoiding any potential confusion or misinterpretation of the provided data, especially when dealing with negative changes or decreases.</Action>

    </Rule>
<Rule id="2114" phase="generation" confidence="1" source="log_2114" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods and financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between different time periods for financial metrics, ensure that the formula is applied correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the values are correctly retrieved from the relevant context without introducing arithmetic hallucination.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_r001" type="Arithmetic_Hallucination">

        <Trigger>Share repurchase calculations involving subtraction of repurchased shares from total approved shares</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by subtracting the number of repurchased shares from the total approved shares and then dividing by the total approved shares to calculate the remaining percentage, rounding the result to the nearest whole number if necessary</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total revenues for a specific year or service type</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula for percentage calculation is applied, i.e., (part/whole) * 100, and verify that the numbers used for the calculation are the correct and up-to-date values for the specific year and service type being queried</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Retrieving and utilizing financial data for calculations across different years or categories</Trigger>

        <Action>KNOWLEDGE INJECTION: Always cross-check the year and category of the financial data being retrieved to ensure it matches the query, and confirm that all relevant data points are correctly identified and used in the calculation</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Identifying and isolating specific financial figures or metrics from a broader dataset</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a strict data validation step to ensure that the figures or metrics being used in calculations are accurately extracted from the context and pertain to the precise year and category in question, avoiding mix-ups or incorrect data retrieval</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages from given numerical values, especially in financial contexts involving earnings per share or similar metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by using the formula for percentage change: ((New Value - Old Value) / Old Value) * 100, and round the result to the appropriate decimal place as required by the context or question being answered.</Action>

    </Rule>
<Rule id="2118" phase="generation" confidence="1" source="log_2118" type="Arithmetic Hallucination">

        <Trigger>Insufficient calculation of total property value based on ownership interest and acquisition price</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the total value of a property, ensure that the acquisition price is multiplied by the total area (square feet) and then adjusted according to the ownership interest percentage to obtain the correct valuation</Action>

    </Rule>
<Rule id="2120" phase="generation" confidence="1" source="log_2120" type="Arithmetic_Hallucination">

        <Trigger>Comparison of aggregate values from different time periods or categories to determine if one is greater than the other</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values are correctly summed or aggregated before making comparative statements, and verify that the comparison is between the correct aggregated values</Action>

    </Rule>
<Rule id="2121" phase="generation" confidence="1" source="log_2121" type="Program_Logic_Failure">

        <Trigger>Calculations involving the comparison of totals from multiple sources or time frames</Trigger>

        <Action>KNOWLEDGE INJECTION: Validate that the program logic accurately accounts for all components of the totals being compared, including ensuring that like terms are properly combined and that the comparison is logically sound</Action>

    </Rule>
<Rule id="2122" phase="generation" confidence="1" source="log_2122" type="Incorrect_Context_Retrieval">

        <Trigger>Situations where the context requires distinguishing between different types of financial adjustments or revisions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the context is correctly interpreted to identify the specific types of revisions or adjustments being discussed, and apply the appropriate logic to compare or analyze these values</Action>

    </Rule>
<Rule id="2120" phase="generation" confidence="1" source="log_2120" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of long-term debt included in current liabilities, and the model responds with an implausibly low or zero value despite the presence of debt due within the next fiscal year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all long-term debt components due within the next fiscal year are properly identified and included in the calculation of current liabilities. KNOWLEDGE INJECTION: Verify that the calculation methodology correctly accounts for the portion of long-term debt that is scheduled to be paid within the current fiscal year, thereby affecting current liabilities.</Action>

    </Rule>
<Rule id="2121" phase="generation" confidence="1" source="log_2121" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage cumulative total shareholder return, especially when comparing multiple investments over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all intermediate calculations, such as dividend reinvestments and year-over-year changes, are accurately accounted for when computing cumulative returns; KNOWLEDGE INJECTION: Verify that the formula for percentage cumulative total shareholder return is correctly applied, considering the initial investment, all subsequent dividend payments, and the final value of the investment</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucinationAndLogicFailure">
        <Trigger>Forecasting future financial amounts based on historical rates of change</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate the rate of change between historical periods and apply it to predict future amounts, ensuring that all relevant factors (e.g., base amounts, rates of change) are correctly identified and used in the calculation.</Action>
    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes over time, especially in financial metrics such as gross profit margins.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the correct formula, ((New Value - Old Value) / Old Value) * 100, and that all values are accurately retrieved and applied in the calculation to avoid arithmetic errors.</Action>
    </Rule>
<Rule id="2124" phase="generation" confidence="1" source="log_2124" type="Arithmetic Hallucination">

        <Trigger>Calculating the percentage of net change in revenue attributed to a specific revenue source</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change due to a specific source involves dividing the change in that source by the total net change in revenue, and then multiplying by 100, while avoiding division by zero and properly handling negative changes.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="QuantitativeError">
        <Trigger>Calculation of percentage change between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating change between two periods, ensure to apply the formula ((New Value - Old Value) / Old Value) * 100 to obtain the percentage increase or decrease, rather than providing absolute differences or incorrect calculations.</Action>
    </Rule>
<Rule id="2126" phase="generation" confidence="1" source="log_2126" type="Arithmetic_Hallucination">

        <Trigger>When calculating financial ratios, such as debt to equity, and the model provides a response that does not accurately reflect the provided data, indicating a potential misunderstanding of the ratio calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of financial ratios, such as debt to equity, involves accurately summing all relevant components of debt (including both short-term and long-term debt) and then dividing by the total equity, taking into consideration the context provided in the question to correctly interpret the debt and equity values.</Action>

    </Rule>
<Rule id="2127" phase="generation" confidence="1" source="log_2127" type="Program_Logic_Failure">

        <Trigger>When the model's response suggests a failure to correctly apply the formula for calculating financial ratios, such as incorrectly adding percentages or misunderstanding the relationship between different financial metrics.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model applies the correct formula for financial ratios, recognizing that percentages represent proportions of a whole and must be converted to their decimal forms before being used in calculations, and ensure that the model correctly interprets the context to apply the appropriate formula.</Action>

    </Rule>
<Rule id="2127" phase="generation" confidence="1" source="log_2127" type="ArithmeticError">

        <Trigger>Percentage calculation involving subset of total viewership across multiple channels</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of total viewership for a specific channel, ensure that the numerator only includes the viewership of that channel and the denominator represents the total viewership across all relevant channels, without double-counting or omitting any channels.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>When calculating the Return on Investment (ROI) over a period, the model response does not match the expected format of a percentage value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer is formatted as a percentage when calculating ROI, by appending a percentage sign to the result and handling the numerical value accordingly to maintain consistency with financial notation standards.</Action>

    </Rule>
<Rule id="R2" phase="generation" confidence="1" source="log_finqa" type="ProgramLogicFailure">

        <Trigger>Model fails to accurately calculate the percentage change over a specified time frame, resulting in an incorrect numerical value.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement the formula for percentage change correctly, which involves calculating the difference between the final and initial values, dividing by the initial value, and then multiplying by 100 to obtain the percentage, thus ensuring arithmetic accuracy in financial calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Calculating percent change between two time periods in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percent change is applied correctly, using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the values are correctly identified as old and new for the given time periods.</Action>

    </Rule>
<Rule id="2130" phase="generation" confidence="1" source="log_2130" type="ArithmeticHallucinationError">

        <Trigger>Percent change calculations involving multiple entities, such as stocks or indexes, where the model fails to apply the correct formula or compares the changes incorrectly.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the difference in percent change between two entities over a specified period, the percent change for each entity is calculated separately using the formula ((New Value - Old Value) / Old Value) * 100, and then the difference between these two percent changes is computed by subtracting one from the other.</Action>

    </Rule>
<Rule id="2131" phase="generation" confidence="1" source="log_2131" type="ContextMisinterpretationError">

        <Trigger>Situations where the model misinterprets the context of the question, such as misunderstanding what is being compared or the time frame of the comparison.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always identify the specific time frame and entities involved in the comparison to ensure that the correct data points are used for calculations and that the question's context is accurately understood and addressed.</Action>

    </Rule>
<Rule id="2132" phase="generation" confidence="1" source="log_2132" type="LogicalInconsistencyError">

        <Trigger>Questions requiring the calculation of differences in percent changes between two or more financial instruments or indexes, where the model's response indicates a failure to logically apply financial formulas or concepts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all calculations involving financial data, especially those requiring comparisons between different instruments or indexes, adhere to standard financial formulas and logic, ensuring that each step in the calculation process is correctly executed to avoid logical inconsistencies.</Action>

    </Rule>
<Rule id="2131" phase="generation" confidence="1" source="log_2131" type="Arithmetic Hallucination">

        <Trigger>Calculating the range between the largest and smallest segments as a percentage of total revenue, where multiple percentages are provided for different categories and years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When determining the range between the largest and smallest segments as a percentage of total revenue, ensure that all relevant percentages are identified and compared across different categories, and then calculate the difference between the maximum and minimum percentages found.</Action>

    </Rule>
<Rule id="2132" phase="generation" confidence="1" source="log_2132" type="Arithmetic Hallucination">

        <Trigger>When calculating percentage changes in financial metrics, such as stock prices, during a specific time period, and the model provides a numeric answer without indicating whether it's an increase or decrease.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always clarify the direction of change (increase or decrease) when reporting percentage changes in financial metrics to avoid ambiguity and ensure accurate interpretation of the results.</Action>

    </Rule>
<Rule id="FINQA001" phase="generation" confidence="1" source="log_FINQA001" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage within financial liabilities</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all liability components are summed and correctly accounted for when calculating proportional percentages, and verify that the formula applied accurately reflects the financial relationship being queried.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change in financial metrics, such as liquidity and capital resources, across different fiscal years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage change calculations are performed using the precise formula: ((New Value - Old Value) / Old Value) * 100, and verify that the values used are correctly extracted from the relevant fiscal years' data</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis_log" type="arithmetic_hallucination">
        <Trigger>Percentage change calculations involving decimal numbers</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations, especially those involving percentage changes, are performed with full precision until the final rounding step to prevent arithmetic hallucination errors.</Action>
    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Discrepancy between calculated and given net reserve allowance values, especially in financial statements or mortgage-related queries.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant financial figures, such as outstanding balances and carrying amounts for the specified year and previous year, are accurately incorporated into calculations to derive the net reserve allowance, ensuring that the methodology accounts for changes in financial metrics over time.</Action>

    </Rule>
<Rule id="2138" phase="generation" confidence="1" source="log_2138" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage of capital spending from a specific segment in comparison to total continuing operations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages from specific segments to total operations involves accurate division and multiplication operations, following the formula: (segment_value / total_value) * 100, where segment_value is the value of the specific segment and total_value is the total value from continuing operations</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="percentage_calculation_error_log" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations between two time periods or values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accuracy in financial assessments.</Action>
    </Rule>
<Rule id="2140" phase="generation" confidence="1" source="log_2140" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total shares purchased within a specific time frame, ensure that all relevant data points are accurately considered and arithmetic operations are correctly performed.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the percentage calculation is based on the correct total number of shares purchased in the specified period and that the arithmetic operation (e.g., division and multiplication by 100) is accurately executed to obtain the percentage value.</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_arithmetic" type="ArithmeticHallucination">
        <Trigger>Calculating percentage changes over time in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage increase: (New Value - Old Value) / Old Value * 100, ensuring each step of the calculation is accurately performed to avoid arithmetic errors.</Action>
    </Rule>
<Rule id="2141" phase="generation" confidence="1" source="log_2141" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change involving negative values or decreases</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to correctly apply the formula ((New Value - Old Value) / Old Value) * 100, considering the sign of the result to accurately reflect increases or decreases</Action>

    </Rule>
<Rule id="2142" phase="generation" confidence="1" source="log_2142" type="Arithmetic_Hallucination">

        <Trigger>When calculating growth ratios between different regions or periods, and the model's response deviates from the expected answer by a small margin.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of growth ratios by re-verifying the formula used, paying particular attention to the correct ordering of operations and accurate division to avoid rounding errors that could lead to slight discrepancies in the final result.</Action>

    </Rule>
<Rule id="2143" phase="generation" confidence="1" source="log_2143" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving net revenue between two consecutive years with similar numerical values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations are performed by rounding intermediate calculations to a sufficient number of decimal places before final rounding to avoid truncation errors, and KNOWLEDGE INJECTION: Verify that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating return on investment over multiple years with varying stock prices</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the return on investment calculation is performed by comparing the initial and final stock prices, taking into account the time period of the investment, and applying the correct formula: (final_price - initial_price) / initial_price * 100</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Incorrect handling of temporal data points for stock prices</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly identifies and retrieves the relevant stock prices for the specified investment period, and that it applies the correct calculation formula considering the time period of the investment</Action>

    </Rule>
<Rule id="3" phase="generation" confidence="1" source="log_3" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to consider the specific investment dates and corresponding stock prices</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model retrieves and uses the correct stock prices for the specified investment start and end dates, rather than relying on arbitrary or unrelated data points</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>When calculating tax rates for stock-based compensation, the model fails to utilize given income tax benefits and compensation values to derive the correct tax rate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial values, including income tax benefits and stock-based compensation, are properly utilized in calculations to derive accurate tax rates. KNOWLEDGE INJECTION: Verify that the model understands the relationship between income tax benefits, stock-based compensation, and tax rates to prevent arithmetic hallucination.</Action>

    </Rule>
<Rule id="2147" phase="generation" confidence="1" source="log_2147" type="Arithmetic Hallucination">

        <Trigger>Ratio calculations involving multi-year financial data, particularly when comparing non-operating expenses across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial figures from the previous and current year are accurately identified and used in calculations, especially when determining ratios that involve specific expense categories such as early debt extinguishment charges</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total amounts due in specific future years under non-cancelable operating leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the amount due in the specific year by the total amount of future minimum rental payments and then multiplying by 100 to obtain the correct percentage, avoiding arithmetic hallucination by verifying the accuracy of intermediate calculations</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Comparing financial values across different time periods to determine sufficiency for budgeted expenditures</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison between available funds and budgeted expenditures is based on the actual values provided for the respective periods, without assuming or hallucinating values not given in the context</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>Evaluating the sufficiency of operating cash flow for capital expenditures without considering all relevant financial data</Trigger>

        <Action>KNOWLEDGE INJECTION: Always consider the specific financial data provided for the relevant time periods when evaluating the sufficiency of funds for budgeted expenditures, and ensure that the comparison is logically sound and based on the provided context</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Percent calculation involving multiple geographic regions or categories within financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages involving different geographic regions or categories, ensure that the correct totals for each region or category are used as the base for the calculation, and verify that the formula for percentage calculation is correctly applied as (part/whole) * 100, where 'part' is the portion of the total being considered and 'whole' is the total amount for the specific category or region being analyzed.</Action>

    </Rule>
<Rule id="2150" phase="generation" confidence="1" source="log_2150" type="Arithmetic Hallucination">

        <Trigger>When calculating the total percentage of costs that came from identifiable assets, the model provides a numerical percentage value instead of the actual amount of identifiable assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model distinguishes between requests for percentages and requests for actual amounts, and provide the correct type of answer based on the question. KNOWLEDGE INJECTION: Verify that the model understands the context of "identifiable assets" and can accurately extract and calculate the relevant amount from the given financial data.</Action>

    </Rule>
<Rule id="2151" phase="generation" confidence="1" source="log_2151" type="Arithmetic_Hallucination">

        <Trigger>Change calculation involving principal maturities due in a specific year after debt refinancing</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in principal maturities due to debt refinancing, ensure that the difference is computed by subtracting the initial value from the final value, and then apply the correct unit conversion if necessary (e.g., converting to thousands), and verify the sign of the result to correctly represent an increase or decrease.</Action>

    </Rule>
<Rule id="2152" phase="generation" confidence="1" source="log_2152" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decrease from a previous value to a current value, where the model provides an incorrect response due to miscalculation or rounding errors.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the previous value from the current value, then dividing by the absolute value of the previous value, and finally multiplying by 100 to obtain the percentage, taking care to maintain precision and apply proper rounding at the final step, not during intermediate calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of annual compensation expense for remaining unvested performance retention awards</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total unrecognized compensation expense is divided by the weighted-average period in years to calculate the annual compensation expense, considering the correct units and timeframes for the calculation.</Action>

    </Rule>
<Rule id="2154" phase="generation" confidence="1" source="log_2154" type="ArithmeticHallucination">

        <Trigger>Calculation of cumulative total return over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating cumulative total return, ensure that the formula correctly accounts for the percentage change in each period, using the formula: ((End Value / Start Value) - 1) * 100, and apply this calculation to each relevant time frame, summing the results to obtain the cumulative total return.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="financial_calculation_log" type="CalculationError">
        <Trigger>Calculations involving interest rates and principal amounts for financial instruments like senior notes</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentages are converted to decimals before application in financial calculations, and verify that the formula for calculating interest costs (e.g., Principal * Rate) is correctly applied</Action>
    </Rule>
<Rule id="2156" phase="generation" confidence="1" source="log_2156" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes over time, especially in the context of financial metrics such as commodity prices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always apply the percentage change formula correctly, which involves subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to get the percentage increase. KNOWLEDGE INJECTION: Ensure that the model understands the formula for percentage change is ((Final Value - Initial Value) / Initial Value) * 100.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="precision_error_log" type="PrecisionError">
        <Trigger>Calculations involving percentage changes in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations are performed with full precision, applying rounding rules only at the final presentation step to avoid premature precision loss.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>Percent change calculations involving multiple time periods, especially when determining changes in financial metrics like cumulative translation adjustments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percent change using the formula ((New Value - Old Value) / Old Value) * 100, ensuring that the old and new values are correctly identified and applied in the formula to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="2160" phase="generation" confidence="1" source="log_2160" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total account balance for plan assets, specifically when determining the proportion of purchases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the result is rounded appropriately to the correct number of decimal places as required by the context, and verify that the calculation correctly represents the proportion of the part to the whole, considering the precision needed for financial reporting.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percent change between two consecutive years in financial data, particularly in cash flows provided by operating activities</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percent change, ensure to subtract the earlier year's value from the later year's value, then divide by the earlier year's value, and finally multiply by 100 to get the correct percentage. KNOWLEDGE INJECTION: Verify that the formula for percentage change is correctly applied as ((Later Year - Earlier Year) / Earlier Year) * 100</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage returns over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula, ((Final Value - Initial Value) / Initial Value) * 100, and apply it to the entire period in question to avoid incorrect returns.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving percentages of a total value, especially in the context of financial acquisitions and recognition of intangible assets like trademarks and tradenames.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of a total value, the formula correctly represents the part of the whole (e.g., part/total * 100), and verify that the units and context of the calculation align with the question being asked, to prevent miscalculations or misinterpretations of financial data.</Action>

    </Rule>
<Rule id="2163" phase="generation" confidence="1" source="log_2163" type="Arithmetic Hallucination">

        <Trigger>Percentage calculations involving multiple variables and acquired businesses in financial reports</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage contribution of acquired businesses to overall sales improvement, ensure that the calculation is based on the actual sales figures of the acquired businesses and the total sales improvement, rather than relying on approximations or incorrect assumptions. KNOWLEDGE INJECTION: Verify that all relevant sales figures are accurately accounted for and that the calculation methodology is sound and consistent with financial reporting principles.</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticError">
        <Trigger>Percentage change calculations involving financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the precise formula for percentage change ((New Value - Old Value) / Old Value) * 100, avoiding premature rounding and ensuring all calculations are carried out with sufficient precision to maintain accuracy.</Action>
    </Rule>
<Rule id="2165" phase="generation" confidence="1" source="log_2165" type="Arithmetic Hallucination">

        <Trigger>Questions involving ratios or proportions of financial metrics, such as sales and operating profit, across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data points are properly extracted and that the correct mathematical operations are applied to calculate the desired ratio or proportion, taking into account any increases or decreases in the respective metrics.</Action>

    </Rule>
<Rule id="2166" phase="generation" confidence="1" source="log_2166" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of a specific component within a total, especially in the context of financial liabilities or assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct components are identified and summed appropriately before calculating percentages, and verify that the calculation is based on the relevant and accurate figures, avoiding incorrect combinations or omissions of data.</Action>

    </Rule>
<Rule id="2167" phase="generation" confidence="1" source="log_2167" type="Program Logic Failure">

        <Trigger>Upon encountering multiple sets of data that could potentially be used for a calculation, such as different dates or categories of financial data.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always evaluate the context to determine which dataset is relevant for the calculation at hand, and apply the formula correctly to the appropriate numbers, considering the possibility of needing to sum certain values before performing the percentage calculation.</Action>

    </Rule>
<Rule id="2168" phase="generation" confidence="1" source="log_2168" type="Incorrect Context Retrieval">

        <Trigger>When the question pertains to a specific date or category of financial data, and there are multiple datasets provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Carefully identify and select the data that corresponds to the specific context of the question, ensuring that the calculation is performed with the correct and relevant numbers, and double-check that the context (e.g., date, type of loan) matches the question's requirements.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving discounted liabilities or similar financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula [(New Value - Old Value) / Old Value] * 100 is correctly applied, and the signs of the values are properly considered to avoid miscalculations.</Action>

    </Rule>
<Rule id="2168" phase="generation" confidence="1" source="log_2168" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total future obligations, ensure that all relevant components are accurately summed and the correct total is used as the denominator.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation for the percentage of total future obligations involves dividing the specific component's value by the total value for the relevant time period, and ensure that this calculation is performed after all components have been accurately summed.</Action>

    </Rule>
<Rule id="2170" phase="generation" confidence="1" source="log_2170" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two values, especially when determining decline or increase rates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations adhere to the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result correctly indicates the direction of change (positive for increase, negative for decrease).</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="finqa_error_log" type="ProgramLogicFailure">
        <Trigger>Percentage change calculations involving small differences</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial calculations, particularly those involving percentage changes or small differences, are performed with attention to precision and appropriate rounding to avoid minor errors.</Action>
    </Rule>
<Rule id="2171" phase="generation" confidence="1" source="log_2171" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage from given net sales and total sales, where the model's response does not match the expected calculation based on provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the part by the whole and then multiplying by 100, using the correct figures for the part and the whole as specified in the problem context, without introducing rounding errors prematurely.</Action>

    </Rule>
<Rule id="2172" phase="generation" confidence="1" source="log_2172" type="Program Logic Failure">

        <Trigger>Failure to identify the correct set of numbers for calculating the percentage of a specific category's sales (e.g., North American printing papers net sales) out of total sales in a given year.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation of a percentage from a subset of data (like a specific product's sales) is done using the correct subset's total and the correct overall total, ensuring alignment between the problem's context and the mathematical operation performed.</Action>

    </Rule>
<Rule id="2173" phase="generation" confidence="1" source="log_2173" type="Incorrect Context Retrieval">

        <Trigger>Inadequate retrieval or application of context-specific information, such as incorrectly identifying the base for calculating percentages or neglecting to adjust for excluded categories (e.g., coated and super-calendered papers business) when necessary.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Mandate a thorough review of the problem statement to ensure all relevant contextual details are considered and applied appropriately in calculations, including adjustments for exclusions or specific inclusions that affect the totals used in percentage calculations.</Action>

    </Rule>
<Rule id="2172" phase="generation" confidence="1" source="log_2172" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of the total purchase price attributed to intangible assets, and the model provides an incorrect percentage value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of intangible assets (such as existing technology, customer relationships, and trade names) are accurately summed and then divided by the total purchase price, before multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="2173" phase="generation" confidence="1" source="log_2173" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total long-term debt, especially when dealing with unamortized debt discounts and various debt instruments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of unamortized debt discount on long-term debt, ensure that the absolute value of the unamortized debt discount is correctly calculated and then divided by the total long-term debt, before multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Be aware of the sign of the unamortized debt discount (positive or negative) as it affects the calculation.</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_average_calculation" type="ArithmeticHallucination">
        <Trigger>Calculation of averages involving percentages</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure correct interpretation of calculated averages, considering the context in which percentages are provided, and verify that the operation (averaging) is appropriate for the given financial metrics.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change is calculated using the formula ((New Value - Old Value) / Old Value) * 100, where Old Value and New Value are the respective values for the two time periods being compared, to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="2176" phase="generation" confidence="1" source="log_2176" type="Arithmetic_Hallucination">

        <Trigger>Calculating returns on investment for a given period, especially when considering the final year of an investment and initial investment amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that returns on investment are calculated by considering the actual change in value over the specified period, subtracting the initial investment from the final value and expressing this as a percentage of the initial investment, rather than directly reporting the final value as the return.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving contractual obligations and commitments due in a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the sum of contractual obligations due in the specified year is correctly divided by the total contractual obligations, and then multiplied by 100 to obtain the accurate percentage</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation is required, but the model provides an absolute value instead of a relative change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in quantities over time, the model should determine whether the question asks for an absolute or relative change and calculate accordingly, providing the answer in the correct format (e.g., percentage when relative change is requested).</Action>

    </Rule>
<Rule id="ErrorAnalysis01" phase="generation" confidence="1" source="log_01" type="ArithmeticHallucination">

        <Trigger>When calculating total area or space based on given land measurements in different units (e.g., acres to square feet), especially in the context of property development or land use.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all unit conversions are correctly applied and double-check arithmetic operations, particularly when converting between units of land measurement to derive total buildable space or area, by verifying the conversion factors and recalculating the result to prevent arithmetic hallucination or calculation errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates or percentages from given numeric values, particularly when comparing values across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations, especially those involving growth rates, are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and that this calculation is applied to the correct set of numbers provided in the context, without rounding intermediate results prematurely.</Action>

    </Rule>
<Rule id="FINQA_001" phase="generation" confidence="1" source="log_FINQA_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of operating leases due in a specific timeframe, the model provides an absolute value instead of a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the percentage by dividing the value of operating leases due in the specified timeframe by the total operating leases and then multiplying by 100, rather than providing an absolute value.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Comparison of adjusted and actual financial metrics (e.g., EBITDA) where the model provides a numeric value as part of its response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when comparing financial metrics, the model should evaluate if the difference between the adjusted and actual values is an increase or decrease without necessarily providing the exact difference, unless the question explicitly asks for it. KNOWLEDGE INJECTION: Always verify that the comparison of financial figures aligns with the question's requirements, focusing on the direction of change (increase/decrease) rather than calculating the exact difference unless required.</Action>

    </Rule>
<Rule id="2183" phase="generation" confidence="1" source="log_2183" type="Arithmetic_Hallucination">

        <Trigger>Implied total value calculations involving percentages and aggregate transaction values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating implied total values from percentages and aggregate transaction values, the percentage is correctly applied to the transaction value, and the result is properly formatted to match the expected output, including the correct placement of decimal points and zeros for currency values</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_R001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total expenditures for a specific business segment, and the model's response exceeds 100% or is significantly inaccurate.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage of capital expenditures for a specific segment involves dividing the segment's expenditures by the total capital expenditures, and then multiplying by 100 to obtain the correct percentage. KNOWLEDGE INJECTION: Verify that the formula used is (Segment Expenditure / Total Expenditure) * 100.</Action>

    </Rule>
<Rule id="2185" phase="generation" confidence="1" source="log_2185" type="Arithmetic_Hallucination">

        <Trigger>Encountering a question that requires calculating cumulative change in value over multiple time periods, especially when the model provides a response as a percentage without proper calculation or formatting.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating cumulative changes in financial indices or values over time, the model must accurately compute the percentage change using the formula ((Final Value - Initial Value) / Initial Value) * 100, and present the answer in the required format, avoiding confusion between numerical values and percentages.</Action>

    </Rule>
<Rule id="2186" phase="generation" confidence="1" source="log_2186" type="ArithmeticLogicError">
        <Trigger>Calculation of cumulative return differences between investment entities over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all cumulative returns are calculated as percentage changes from the initial value to the final value for each entity, and then compute the difference between these percentages to find the relative performance difference.</Action>
    </Rule>
<Rule id="2188" phase="generation" confidence="1" source="log_2188" type="Arithmetic_Hallucination">

        <Trigger>Exclusion of cumulative values in financial calculations, specifically when dealing with accumulated other comprehensive income or loss over different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating accumulated other comprehensive income or loss for a specific year while excluding cumulative values from previous years, ensure to subtract the cumulative value of the excluded year from the total accumulated value to obtain the correct balance.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa_error" type="ArithmeticLogicError">
        <Trigger>Percentage change calculations between different time periods in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct percentage change formula, ((New Value - Old Value) / Old Value) * 100, when calculating decreases or increases in financial metrics over time to ensure accurate arithmetic operations.</Action>
    </Rule>
<Rule id="2190" phase="generation" confidence="1" source="log_2190" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of shares bought during a specific period, especially when given total numbers of shares purchased and maximum numbers of shares that may yet be purchased.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of shares bought, the correct formula is applied, considering the total number of shares purchased as part of the program and the maximum number of shares that may yet be purchased. KNOWLEDGE INJECTION: Verify that all relevant numerical values are correctly identified and used in the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticError">

        <Trigger>Calculation of percentage increase between two consecutive years in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage increase is correctly applied as (New Value - Old Value) / Old Value * 100, and verify that the values used are from consecutive years and correctly correspond to the period in question</Action>

    </Rule>
<Rule id="2191" phase="generation" confidence="1" source="log_2191" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods for a specific financial metric, such as operating companies income (loss) attributable to a particular segment, where the model's response does not accurately reflect the expected calculation based on the provided data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified and extracted from the relevant time periods, ensuring accurate arithmetic operations to prevent hallucination of incorrect percentages.</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_precision_error" type="ArithmeticPrecisionError">
        <Trigger>Calculation of growth rates or percentages from financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentages and growth rates, are calculated with sufficient decimal precision before final rounding to avoid compounding minor errors.</Action>
    </Rule>
<Rule id="2193" phase="generation" confidence="1" source="log_2193" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a whole based on given parts, especially in the context of geographic distributions or categorical breakdowns.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the part by the whole and then multiplying by 100, without introducing or assuming unseen values. KNOWLEDGE INJECTION: Always verify that the context provides clear definitions of the part and the whole to avoid confusion or misinterpretation of the data provided.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value from a previous period to a current period</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes that result in a decrease, ensure that the result is correctly represented as a negative percentage to accurately reflect the direction of the change</Action>

    </Rule>
<Rule id="2195" phase="generation" confidence="1" source="log_2195" type="ArithmeticHallucination">

        <Trigger>Calculation of percentages from given fractions or proportions, especially when determining ratios of subsets to totals within financial or categorical data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When computing percentages, ensure that the quotient obtained from dividing the subset by the total is correctly converted into a percentage by multiplying by 100, and then rounding the result appropriately to match the expected precision of the answer format.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving decreases in value, especially when the result is a significant increase in the percentage due to a small subsequent value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure the formula for percent change is correctly applied as ((New Value - Old Value) / Old Value) * 100, considering the possibility of negative Old Values or New Values, and verify that the direction of change (increase or decrease) aligns with the expected outcome.</Action>

    </Rule>
<Rule id="2197" phase="generation" confidence="1" source="log_2197" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage decrease in financial metrics, such as interest expense payments, between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and round the result to the appropriate number of decimal places to maintain precision and accuracy</Action>

    </Rule>
<Rule id="2201" phase="generation" confidence="1" source="log_2201" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving decimal points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations, especially those involving percentages and decimal points, are performed with precise calculation, applying the correct formula for percentage change: ((New Value - Old Value) / Old Value) * 100, and properly handling decimal places to avoid rounding errors.</Action>
    </Rule>
<Rule id="2200" phase="generation" confidence="1" source="log_2200" type="Arithmetic Hallucination">

        <Trigger>Percentage calculation involving proved undeveloped resources and extensions and discoveries across different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages involving changes in quantities over time, ensure to accurately add all relevant components from the previous period and then calculate the percentage based on the total of the current period, taking into account any increases or decreases due to extensions, discoveries, or other factors.</Action>

    </Rule>
<Rule id="2201" phase="generation" confidence="1" source="log_2201" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving balance comparisons across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes in financial metrics, such as goodwill balance, across different periods, the formula [(New Value - Old Value) / Old Value] * 100 is correctly applied to avoid arithmetic hallucination, and verify that the old and new values are correctly identified and retrieved from the relevant financial statements or notes</Action>

    </Rule>
<Rule id="2201" phase="generation" confidence="1" source="log_2201" type="ArithmeticHallucination">
        <Trigger>Questions involving ratios or percentages of financial metrics, such as allowances for doubtful accounts relative to total receivables.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate the required metric (e.g., percentage) by dividing the specific account balance (e.g., allowances for doubtful accounts) by the relevant total balance (e.g., total trade and other accounts receivable), and then multiply by 100 if the answer requires a percentage format.</Action>
    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticError">
        <Trigger>Calculation of averages for financial metrics over multiple periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial values for each period are summed and then divided by the number of periods to calculate the average, avoiding rounding errors by maintaining precision until the final calculation step.</Action>
    </Rule>
<Rule id="2203" phase="generation" confidence="1" source="log_2203" type="Arithmetic_Hallucination">

        <Trigger>When calculating the change in a financial metric between two periods, and the model's response does not match the correct calculation based on provided numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of change between two periods involves subtracting the earlier period's value from the later period's value, using the formula: Change = Later Period Value - Earlier Period Value.</Action>

    </Rule>
<Rule id="2201" phase="calculation" confidence="1" source="log_2201" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and rounded appropriately to match the required precision.</Action>

    </Rule>
<Rule id="2205" phase="generation" confidence="1" source="log_2205" type="ArithmeticContextError">
        <Trigger>Calculation of net change between two temporal values</Trigger>
        <Action>CRITICAL FORMATTING RULE - Ensure correct application of arithmetic operations based on context when calculating net changes over time</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percent change, ensure to round the result to the correct number of significant figures or as specified by the context, and verify that the formula used is ((New Value - Old Value) / Old Value) * 100, to avoid precision errors.</Action>

    </Rule>
<Rule id="2207" phase="generation" confidence="1" source="log_2207" type="ArithmeticHallucination">

        <Trigger>Calculating average decrease in tax positions over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all decreases in tax positions are summed and then divided by the number of periods to calculate the average decrease, rather than relying on intermediate calculations or incorrect rounding.</Action>

    </Rule>
<Rule id="2208" phase="generation" confidence="1" source="log_2208" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of a total based on given regional distributions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for percentages is performed by dividing the specific regional total by the overall total and then multiplying by 100, rather than relying on potentially incorrect or incomplete intermediate calculations</Action>

    </Rule>
<Rule id="2209" phase="generation" confidence="1" source="log_2209" type="Arithmetic Hallucination">

        <Trigger>When calculating the balance of aggregate principal payments of long-term debt, and the input data provides the current balance and the amount to be paid, the model fails to accurately subtract the payment from the balance, resulting in an incorrect final balance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the remaining balance after debt repayment accurately reflects the subtraction of the payment amount from the initial balance, taking into account any potential compounding or additional factors that may affect the balance, and verify that all relevant financial data is correctly incorporated into the calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="RoundingError">
        <Trigger>Percentage change calculations, especially in financial contexts requiring precise formatting of answers.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that numerical calculations, particularly those involving percentage changes, are rounded appropriately to match the expected answer format. KNOWLEDGE INJECTION: Implement a rounding mechanism that adheres to financial reporting standards for percentage changes.</Action>
    </Rule>
<Rule id="FINQA_R1" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>When calculating net operating income for multiple types of properties, ensure all relevant properties' incomes are considered.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Sum the net operating incomes of all mentioned property types before finalizing the calculation to avoid omission of relevant financial data.</Action>

    </Rule>
<Rule id="FINQA_R2" phase="generation" confidence="1" source="log_finqa" type="Program_Logic_Failure">

        <Trigger>Upon encountering multiple financial metrics (e.g., net operating income, percentages, number of properties) for different property types, verify the correct application of these metrics in calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure the model understands that percentages of net operating income and the number of properties are supplementary information that may not directly influence the summation of net operating incomes across different property types but are crucial for a comprehensive financial analysis.</Action>

    </Rule>
<Rule id="FINQA_R3" phase="generation" confidence="1" source="log_finqa" type="Context_Retrieval_Error">

        <Trigger>When the question pertains to specific types of properties (e.g., triple-net, seniors housing), confirm that the model accurately identifies and processes the financial data related to these properties.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Mandate a strict context retrieval process where the model must explicitly recognize and isolate the financial data (e.g., net operating income) for each mentioned property type before proceeding with any calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of target authorized return on common equity involves a midpoint value with a specified bandwidth, and the model's response exceeds the midpoint but does not correctly apply the bandwidth to determine the maximum value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating a maximum or minimum value based on a midpoint and a bandwidth, ensure that the bandwidth is correctly applied to the midpoint to determine the range, and verify that the calculated value does not exceed this range, taking into account the direction of the bandwidth application (i.e., addition for maximum, subtraction for minimum).</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of expenses as a percentage of revenue change, involving subtraction and division operations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by first calculating the total change in revenue and then computing the percentage of expenses relative to this change, considering the correct order of operations and potential rounding effects</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_error_analysis" type="Program_Logic_Failure">

        <Trigger>Incorrect application of arithmetic operations to derive a percentage value from given financial data</Trigger>

        <Action>KNOWLEDGE INJECTION: Validate the logic flow by checking if the calculation correctly accounts for the decrease in net revenue and accurately applies the formula for percentage calculation, avoiding any incorrect assumptions about the relationship between the given financial figures</Action>

    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucinationAndContextMisinterpretation">
        <Trigger>Calculation involving unit conversions and multiplication in financial award valuation</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all arithmetic operations are correctly applied with careful attention to unit conversions, and KNOWLEDGE INJECTION: Verify that the question's requirements are accurately interpreted, including the correct application of decimal points and conversion between different units of measurement (e.g., thousands to millions).</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving percentages of future expenditures under unconditional purchase obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for determining the percentage of future expenditures due in a specific year accurately reflects the portion of total obligations, by correctly dividing the amount due in that year by the total of all future expenditures and then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Difference calculation between two time periods for a specific financial metric, such as carrying amount of trading assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct values for the specified metric are retrieved from the relevant time periods and that the difference is calculated accurately, taking into account the possibility of changes in values due to various financial operations or updates</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage return differences between financial entities over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage returns are calculated correctly using the formula ((End Value - Start Value) / Start Value) * 100 for each entity, and then find the difference between these percentages by subtracting one from the other. Verify that all arithmetic operations are performed accurately and in the correct order.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages involving weighted averages of financial metrics, such as common shares outstanding and dilutive potential common shares.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of percentages by dividing the weighted average number of common shares outstanding by the sum of the weighted average number of common shares and dilutive potential common shares, then multiply by 100 to obtain the percentage, rounding the result appropriately to avoid hallucination.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of obligations under a deferred compensation plan without considering the impact of changes in market value of the investment portfolio</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all changes in market value, including income and losses, are accounted for when calculating obligations under a deferred compensation plan, by subtracting or adding these changes to the initial obligation value to determine the correct adjusted obligation amount</Action>

    </Rule>
<Rule id="AR001" phase="calculation" confidence="1" source="finqa_log" type="ArithmeticHallucination">
        <Trigger>Multiplication operations involving quantities and monetary values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic calculations by multiplying the exact quantities by the respective monetary values without intermediate rounding.</Action>
    </Rule>
<Rule id="2221" phase="generation" confidence="1" source="log_2221" type="ArithmeticHallucination">
        <Trigger>Calculation of percentages from lease commitments data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all time-based monetary commitments are accurately calculated and considered when determining percentages of outstanding aggregate minimum rental commitments due after a specified year</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa_error" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two values, especially in the context of financial metrics such as cash provided by operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination and provide accurate financial analysis.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total purchase consideration comprised of intangible assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all intangible assets, including goodwill, are summed and divided by the total purchase consideration to calculate the correct percentage, using the formula: (sum of all intangible assets / total purchase consideration) * 100</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((Current Value - Previous Value) / Previous Value) * 100, and verify that all values are correctly retrieved and ordered chronologically before performing calculations</Action>

    </Rule>
<Rule id="2226" phase="generation" confidence="1" source="log_2226" type="Arithmetic Hallucination">

        <Trigger>When calculating the weighted-average useful life of assets as a percentage of a specific category, and the model provides an answer that seems unrealistic or significantly off-scale.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentages are calculated by dividing the part by the whole and then multiplying by 100, and verify that the whole is indeed the correct denominator for the given context, considering the specific categories and their respective weights or values.</Action>

    </Rule>
<Rule id="2227" phase="generation" confidence="1" source="log_2227" type="Program Logic Failure">

        <Trigger>Upon encountering a question that involves comparing or relating different categories within a specific segment, such as software and other intangible assets in the engineered products and solutions segment.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model understands the relationships between different categories within the segment and applies the correct formula or logic to calculate the weighted-average useful life as a percentage, considering all relevant categories and their respective values or weights.</Action>

    </Rule>
<Rule id="2228" phase="generation" confidence="1" source="log_2228" type="Incorrect Context Retrieval">

        <Trigger>When the model fails to correctly identify or apply the given context, such as misunderstanding the specific segment or categories involved in the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and applies the context provided in the question, identifying the correct segment, categories, and their respective values or weights, to calculate the weighted-average useful life as a percentage.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucinationError">

        <Trigger>Calculating average values from a series of future lease payments</Trigger>

        <Action>CRITICAL FORMATTING RULE: When computing averages of sequential payments, ensure that all payments are summed and then divided by the total number of payment periods, avoiding any omission or incorrect inclusion of payment values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating future values based on past trends, especially involving percentage increases or decreases over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the units of measurement (e.g., dollars, millions, billions) are correctly applied and maintained throughout calculations to prevent order of magnitude errors.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Upon encountering multi-year financial data and being asked to project or calculate future financial metrics based on historical growth rates.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the growth rate calculation properly accounts for the difference in values between successive periods and applies this rate correctly to predict future values, avoiding simplifications that might overlook compounding effects or changes in growth rates.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>When the question involves using historical financial data to make predictions about future financial performance, such as operating cash flow.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct historical data points are identified and used for calculating growth rates or trends, and confirm that these calculations are correctly applied to make predictions about future financial metrics, considering the context provided by the question.</Action>

    </Rule>
<Rule id="2228" phase="generation" confidence="1" source="log_2228" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative total shareholder return percentage difference between two entities over a period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values used in the calculation of cumulative total shareholder return are correctly normalized to their initial values before computing the percentage change, and verify that the formula used to calculate the percentage difference is correctly applied to the normalized values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_restructuring" type="Arithmetic Hallucination">

        <Trigger>When calculating total pre-tax restructuring program costs, multiple charges and adjustments are mentioned across different periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant pre-tax charges and adjustments (including but not limited to new charges and changes in estimates for previously recorded programs) are accurately summed to obtain the total pre-tax restructuring program cost, considering the context of each mentioned figure.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating a portion of votes supporting a proposal when given the total number of votes and the breakdown of opposing votes, abstained votes, and broker non-votes.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the portion of votes supporting the proposal subtracts the opposing votes, abstained votes, and broker non-votes from the total number of votes before calculating the percentage of supporting votes, and then correctly computes the percentage by dividing the supporting votes by the total number of votes and multiplying by 100.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Gross profit increase calculations involving multiple-year comparisons</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that all relevant values from previous years are correctly retrieved and applied to the calculation, and that the formula for percentage change is correctly implemented to prevent program logic failure.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Contextual understanding of "gross profit" and its implications on financial calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the model accurately identifies and retrieves the correct values for gross profit from the provided context, ensuring that the calculation is based on the appropriate data points.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_debtcalculation" type="ArithmeticHallucinationError">

        <Trigger>Calculations involving issuance costs, discounts, and proceeds from bond issuances, especially in the context of acquisitions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of net proceeds after deducting discounts and issuance costs, ensure to accurately apply the formula: (Total Proceeds / Total Principal Amount) * 100, considering all mentioned deductions.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="ArithmeticHallucinationError">

        <Trigger>Percent change calculations involving investment values over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed using the formula ((new_value - old_value) / old_value) * 100, and the result is rounded to the correct number of decimal places as required by the context, to provide accurate and precise financial metrics</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">
        <Trigger>Calculating highest return for an investment period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all investment types are evaluated for their percentage increase during the specified period, and the highest value among these calculations is selected as the answer.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ProgramLogicFailure">

        <Trigger>Calculating percentages of total debt from multiple periods that involve both long-term and total debt values across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of a specific component of debt (e.g., long-term debt) relative to the total debt over multiple periods, ensure to calculate the percentage for each period separately and then find the average percentage if required, rather than averaging the debt values first.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>Incorrectly applying averaging to calculate percentages or ratios of financial metrics across different periods without considering the proper method for calculating such percentages (e.g., averaging the values before calculating the percentage).</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the calculation of percentages or ratios involving financial metrics (like debt) over multiple periods requires careful consideration of whether to average the underlying values before calculating the percentage or to calculate the percentage for each period and then average those percentages, depending on the context and the question being asked.</Action>

    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change or difference involving numerical values extracted from financial data, particularly when comparing rates or ratios across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in percentages or rates, the model subtracts the earlier value from the later value without mistakenly appending a percentage sign (%) to the result, unless explicitly required by the question context.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the impact of unconditional purchase obligations on the total value, and the model response is a percentage or ratio but the calculation provided does not match this format.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the impact of unconditional purchase obligations involves dividing the obligation amount by the total value and then multiplying by 100 to obtain a percentage, rather than providing the obligation amount as is or a partial calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Reclassification of accumulated other comprehensive income to earnings, involving tax rates and adjustments to pension and postretirement expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that tax rates applied to adjustments from accumulated other comprehensive income are correctly derived from the relevant financial reporting standards and properly calculated based on pre-tax and after-tax amounts, considering all applicable tax regulations and financial disclosure requirements.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_tax_expense" type="Arithmetic Hallucination">

        <Trigger>Calculating net tax expense related to changes in financial derivatives over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all tax expenses and benefits mentioned for each year are correctly summed with appropriate signs (positive for expenses, negative for benefits) to calculate the net tax expense.</Action>

    </Rule>
<Rule id="2241" phase="generation" confidence="1" source="log_2241" type="Arithmetic_Hallucination">

        <Trigger>Ratio calculations involving unrecognized prior service cost and income in financial reasoning models, where the model provides an incorrect numerical answer without transparent step-by-step arithmetic.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of the calculation, including the numerator and denominator, are explicitly identified and correctly computed, with each step of the arithmetic process clearly outlined to prevent arithmetic hallucination and ensure accuracy in financial ratio calculations.</Action>

    </Rule>
<Rule id="2241" phase="generation" confidence="1" source="log_2241" type="Arithmetic_Hallucination">

        <Trigger>Calculating the total of contractual obligations and commitments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial components, including leases, debts, commitments, and liabilities, are accurately identified and summed when calculating total contractual obligations and commitments.</Action>

    </Rule>
<Rule id="2242" phase="generation" confidence="1" source="log_2242" type="ArithmeticHallucination">

        <Trigger>Percentage increase calculations involving multiple time periods, especially when comparing expense values across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify that all values are accurately retrieved from the relevant time periods.</Action>

    </Rule>
<Rule id="2243" phase="generation" confidence="1" source="log_2243" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage differences in cumulative total returns between financial entities, particularly when comparing stock performance over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated correctly by first determining the difference in the final and initial values, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the formula for percentage change is applied consistently across all financial comparisons, including those involving stocks and market indices.</Action>

    </Rule>
<Rule id="2244" phase="generation" confidence="1" source="log_2244" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple components, such as accumulated other comprehensive earnings (loss), that require summing or subtracting changes in various financial categories over a period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes in financial metrics that aggregate multiple components, ensure all relevant components' changes are accurately summed or subtracted before applying the percentage change formula, and verify that the initial and final values used in the calculation are correctly identified as the starting and ending points of the period in question.</Action>

    </Rule>
<Rule id="2245" phase="generation" confidence="1" source="log_2245" type="Arithmetic Hallucination">

        <Trigger>Calculation of net change in shares outstanding involving multiple transactions, such as acquisitions, and changes in issued and treasury shares.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant transactions (e.g., acquisitions, issuances, treasury share changes) are properly accounted for, and their impacts on shares outstanding are correctly calculated, considering both the increase in issued shares and the decrease due to treasury shares, before determining the net change in shares outstanding.</Action>

    </Rule>
<Rule id="2246" phase="generation" confidence="1" source="log_2246" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase between two values, particularly in the context of financial metrics such as service costs over different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to first determine the difference between the two values in question, then divide this difference by the original value, and finally multiply by 100 to obtain the percentage increase. KNOWLEDGE INJECTION: Verify that the formula for percentage increase is correctly applied as ((New Value - Old Value) / Old Value) * 100.</Action>

    </Rule>
<Rule id="2247" phase="generation" confidence="1" source="log_2247" type="ArithmeticError">

        <Trigger>Percentage change calculations involving a decrease in value, where the initial and final values are provided, and the model is required to calculate the percentage decline.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage decline calculations are performed using the formula: ((Initial Value - Final Value) / Initial Value) * 100, and verify that the result is expressed as a negative percentage when the final value is less than the initial value, indicating a decline.</Action>

    </Rule>
<Rule id="2249" phase="generation" confidence="1" source="log_2249" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or increases in financial metrics, such as reserves, and the context provides beginning and end-of-year values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage changes involves subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage increase, rather than solely relying on absolute differences or incorrect arithmetic operations.</Action>

    </Rule>
<Rule id="2250" phase="generation" confidence="1" source="log_2250" type="Arithmetic Hallucination">

        <Trigger>Percent change calculations between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the difference between the two values is divided by the original value, then multiplied by 100, to obtain the accurate percentage increase or decrease.</Action>

    </Rule>
<Rule id="2250" phase="generation" confidence="1" source="log_2250" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of shares outstanding or shares yet to be purchased, and given a specific authorization amount and a remaining amount to be purchased.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages of shares outstanding or yet to be purchased is based on the correct total authorization amount and the accurate remaining amount, taking into account the correct mathematical operations and formulas for percentage calculations.</Action>

    </Rule>
<Rule id="2251" phase="generation" confidence="1" source="log_2251" type="UnitInconsistencyError">

        <Trigger>Identification of monetary values without consistent unit specification in financial calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all financial values are converted to a consistent unit (e.g., dollars to millions or thousands) before performing arithmetic operations to calculate net income or other financial metrics</Action>

    </Rule>
<Rule id="2252" phase="generation" confidence="1" source="log_2252" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation of lease payments due after a specific year in the context of noncancelable operating leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of future payments, ensure to round the result to the nearest whole number as per standard financial reporting practices, unless specifically instructed to provide decimal places</Action>

    </Rule>
<Rule id="2253" phase="generation" confidence="1" source="log_2253" type="Program_Logic_Failure">

        <Trigger>Calculating proportions or percentages from given totals and components within financial data</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation correctly identifies the portion of the total that is relevant to the query (e.g., payments due after a certain year) and applies the appropriate arithmetic operation to derive the percentage, considering the context's requirements for precision and rounding</Action>

    </Rule>
<Rule id="2253" phase="generation" confidence="1" source="log_2253" type="RoundingError">
        <Trigger>Percentage change calculations that require rounding</Trigger>
        <Action>CRITICAL FORMATTING RULE: Round percentage changes to the appropriate number of decimal places as required by the context or question, ensuring consistency with expected answer formats</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination_Error">
        <Trigger>Calculation of net change in balance of unpaid losses involves multiple components such as losses incurred, losses paid, and other adjustments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all addends and subtrahends related to losses (including incurred losses, paid losses, reinsurance recoverables, and other adjustments such as foreign exchange revaluations) are accurately summed and accounted for when calculating the net change in the balance of unpaid losses.</Action>
    </Rule>
<Rule id="2255" phase="generation" confidence="1" source="log_2255" type="Arithmetic_Hallucination">

        <Trigger>When calculating the proportion of total floor space used by a specific category, and the model response does not match the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model divides the total floor space of the specific category by the total floor space of all categories, and then multiplies by 100 to obtain the percentage, rather than providing a raw value.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating net cash flow from multiple periods, and the model's response does not match the expected result based on the provided data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant cash flow values from each period are correctly summed (considering both inflows and outflows) before calculating the net cash flow, and verify that the calculation aligns with the question's context to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="2257" phase="generation" confidence="1" source="log_2257" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the growth rate, ensure to apply the correct formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, to avoid arithmetic hallucination and obtain accurate percentage changes</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of differences or averages involving financial projections or benefits across different regions or entities</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations involving differences or averages are contextually appropriate and consider implicit requirements such as annualization or proper subtraction, reflecting on the question's specifics before performing arithmetic operations</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="PrecisionError">
        <Trigger>Calculation of percentages from total contractual obligations</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of percentages by dividing the specific obligation by the total contractual obligation for the year in question and then multiplying by 100, rounding appropriately to match the required precision level.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change involving multiplication and subtraction operations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by following the order of operations (PEMDAS/BODMAS) and verifying the correctness of intermediate calculations before computing the final percentage change</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="Rounding_Error">

        <Trigger>Numerical computations resulting in non-integer intermediate or final values</Trigger>

        <Action>KNOWLEDGE INJECTION: Retain sufficient decimal places during intermediate calculations to prevent rounding errors, and apply rounding only to the final result as required by the context</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_finqa" type="Context_Misinterpretation">

        <Trigger>Financial calculations requiring the use of specific values from different time periods or categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the correct values from the respective periods or categories are used in the calculation, ensuring consistency with the question's context and requirements</Action>

    </Rule>
<Rule id="R001" phase="responseFormatting" confidence="1" source="log_R001" type="PresentationError">
        <Trigger>Questions asking for percentages or proportional values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure responses to percentage questions include the '%' symbol for clarity and correctness</Action>
    </Rule>
<Rule id="2262" phase="generation" confidence="1" source="log_2262" type="Arithmetic_Hallucination">

        <Trigger>Calculating total cash received from shares purchased, where multiple years' data and weighted average prices per share are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total cash received is based on the correct year's data and that the weighted average price per share is multiplied by the number of shares purchased for that year, then summing the results for the specified year only.</Action>

    </Rule>
<Rule id="2263" phase="generation" confidence="1" source="log_2263" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, particularly when comparing beginning and ending balances across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes over time, the correct formula is applied: ((Ending Balance - Beginning Balance) / Beginning Balance) * 100, considering the specific years and balances involved in the question</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation involving historical data, particularly when comparing consecutive time periods (e.g., year-over-year volatility changes)</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, applying this formula consistently across all relevant time-series data comparisons to avoid arithmetic errors</Action>

    </Rule>
<Rule id="2265" phase="generation" confidence="1" source="log_2265" type="Arithmetic_Hallucination">

        <Trigger>Questions involving percentage calculations of a specific component within a broader financial metric, such as tax benefits as part of stock-based compensation, where the model fails to perform the necessary arithmetic operations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of components within financial metrics, all relevant numerical values are properly identified and arithmetic operations are correctly performed to derive the percentage, including dividing the component by the total and multiplying by 100 to obtain the percentage value.</Action>

    </Rule>
<Rule id="2267" phase="postprocessing" confidence="1" source="error_analysis_log" type="ScaleError">

        <Trigger>When the model is asked for the lowest or highest value of a financial metric (e.g., inventories) and the answer options or context include numerical values with different scales (e.g., millions, thousands, etc.),</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model's response matches the scale of the input data or question context, avoiding unnecessary unit conversions that might lead to incorrect answers. KNOWLEDGE INJECTION: Validate the answer against the provided context to prevent scale-related errors.</Action>

    </Rule>
<Rule id="2268" phase="generation" confidence="1" source="log_2268" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage cumulative return on investment for a given period, especially when comparing multiple investments or indexes over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for calculating percentage cumulative return on investment is correctly applied, considering the initial and final values of the investment or index over the specified period, and verify that all intermediate steps, such as calculating annual returns and compounding, are accurately performed to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="2268" phase="generation" confidence="1" source="log_2268" type="Arithmetic Hallucination">

        <Trigger>When calculating the matured value of a fixed-rate note, the model responds with the initial issuance value instead of applying the interest rate over the maturity period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model applies the correct interest calculation formula, considering the principal amount, interest rate, and time to maturity, to determine the matured value of a fixed-rate note.</Action>

    </Rule>
<Rule id="2269" phase="generation" confidence="1" source="log_2269" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multi-year financial data, especially when calculating year-over-year changes in expenses such as rent.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage increase involves correctly identifying the base year value and the subsequent year value, then applying the formula (New Value - Old Value) / Old Value * 100, to accurately determine the percentage change without introducing calculation errors or omitting necessary steps in the mathematical process.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase is calculated using the correct formula: ((New Value - Old Value) / Old Value) * 100, and that the old and new values are correctly identified from the given context.</Action>

    </Rule>
<Rule id="2271" phase="generation" confidence="1" source="log_2271" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage impact on earnings per share involving negative or small values, particularly in the context of pro forma adjustments and retirement-eligible employees.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage impacts, ensure to apply the correct formula, considering the absolute change and the base value. KNOWLEDGE INJECTION: Confirm that the model understands the context of pro forma adjustments and how they affect financial metrics, including the proper handling of negative values and small changes.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_error_log" type="ArithmeticHallucination">
        <Trigger>Calculation of growth rates or percentages in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for percentage change, which is ((New Value - Old Value) / Old Value) * 100, and ensure accurate arithmetic operations.</Action>
    </Rule>
<Rule id="2273" phase="generation" confidence="1" source="log_2273" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total number of shareholders, the model provides an incorrect response that does not match the sum of record holders for each series of common stock.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total number of shareholders is calculated by summing the number of record holders for each series of common stock, without relying on hallucinated or unrelated values.</Action>

    </Rule>
<Rule id="2274" phase="generation" confidence="1" source="log_2274" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or increases over time, especially in financial contexts involving projections or benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for percentage increase is performed correctly by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the formula used is ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="CalculationError">
        <Trigger>Presence of multiple financial values or entities that need to be summed for a total calculation.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned financial values are correctly aggregated and summed before providing a total figure, especially in multi-entity or multi-component financial calculations.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating a balance without an adjustment for a change in fair value, and given multiple transition adjustments with specific values and dates.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all adjustments are correctly applied by subtracting the total adjustment value from the final balance, taking into account the direction of the adjustment (addition or subtraction) based on its description.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="lease_payment_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total minimum lease payments due after a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant time periods are considered and their corresponding lease payments are accurately summed before calculating the percentage of total minimum lease payments due after a specific year. KNOWLEDGE INJECTION: Verify that the calculation accounts for the proportion of payments due after the specified year relative to the total minimum lease payments.</Action>

    </Rule>
<Rule id="2278" phase="generation" confidence="1" source="log_2278" type="Arithmetic Hallucination">

        <Trigger>Percent calculation for a subset of total leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a subset of total leases, the correct formula is applied by dividing the subset value by the total value and then multiplying by 100 to obtain the percentage, and append the percentage sign (%) to the result.</Action>

    </Rule>
<Rule id="2280" phase="generation" confidence="1" source="log_2280" type="Arithmetic Hallucination">

        <Trigger>Calculating percentage changes in financial metrics, such as credit spreads, where the model provides a numerical value without considering the correct representation of percentages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the result is properly formatted as a percentage, including the percentage sign (%), to avoid confusion with absolute values or other numerical representations.</Action>

    </Rule>
<Rule id="2280" phase="generation" confidence="1" source="log_2280" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two time periods, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied accurately, and the result is rounded correctly to the required precision, considering significant figures and rounding conventions in financial reporting</Action>

    </Rule>
<Rule id="2281" phase="generation" confidence="1" source="log_2281" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change or growth rate between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, rather than relying on mental math or simplified approximations that may lead to inaccuracies</Action>

    </Rule>
<Rule id="2282" phase="generation" confidence="1" source="log_2282" type="ArithmeticHallucination">

        <Trigger>Calculating percentage return differences between financial entities over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage returns are calculated as ((final_value - initial_value) / initial_value) * 100 for each entity, and then find the difference between these percentages to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="2283" phase="generation" confidence="1" source="log_2283" type="ProgramLogicFailure">

        <Trigger>Comparing financial performance metrics, such as percentage returns, between different entities</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation for percentage return difference between entities is correctly implemented as (entity1_percentage_return - entity2_percentage_return), ensuring the correct order of subtraction to reflect the actual difference</Action>

    </Rule>
<Rule id="2283" phase="generation" confidence="1" source="log_2283" type="Arithmetic Hallucination">

        <Trigger>Calculating the difference between two percentage rates, particularly in the context of financial metrics such as expected long-term rate of return on plan assets and discount rates used for actuarial present value of benefit obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the difference between two percentage rates, the result is expressed as a percentage by maintaining the percentage sign (%) in the final answer, rather than providing a numeric value only.</Action>

    </Rule>
<Rule id="2284" phase="generation" confidence="1" source="log_2284" type="Arithmetic_Hallucination">

        <Trigger>Percent calculation for a specific period or quarter, involving the number of shares bought or repurchased, with given total numbers and averages.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate identification of relevant quarters or periods when calculating percentages of shares bought or repurchased, and verify that calculations are based on the correct total numbers of shares for the specified period, taking into account all provided averages and totals to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="2285" phase="generation" confidence="1" source="log_2285" type="Arithmetic_Hallucination">

        <Trigger>Calculating net change in outstanding shares over a period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate subtraction of the initial value from the final value when calculating net changes, considering the possibility of rounding errors and verify if the numbers used are indeed the ones that should be used for the calculation (e.g., diluted vs basic shares) to avoid precision discrepancies.</Action>

    </Rule>
<Rule id="2286" phase="generation" confidence="1" source="log_2286" type="arithmetic_hallucination">

        <Trigger>Percentage calculations involving cumulative total returns over a period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer is properly formatted as a percentage by appending the percentage symbol (%) to the calculated result, especially when the question explicitly requests a percentage value</Action>

    </Rule>
<Rule id="2287" phase="generation" confidence="1" source="log_2287" type="Arithmetic Hallucination">

        <Trigger>When calculating the percent of a potential factor based on the lower sales of a specific program, and the model response is a simple percentage value without considering the distribution of decrease among various programs.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant programs' decreases are considered and their contributions to the total decrease are accurately calculated before determining the percentage of the potential factor. KNOWLEDGE INJECTION: Recognize that the percentage of the potential factor is often a function of the specific program's decrease in relation to the total decrease, and apply this understanding to compute the correct percentage.</Action>

    </Rule>
<Rule id="2288" phase="generation" confidence="1" source="log_2288" type="arithmetic_hallucination">

        <Trigger>When calculating the difference in recognized interest expense between two years in connection with tax matters</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated difference is presented as a numerical value without appending unnecessary units or descriptors, unless explicitly required by the context</Action>

    </Rule>
<Rule id="2290" phase="generation" confidence="1" source="log_2290" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rate or percentage change between two consecutive financial periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentage changes or growth rates are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is rounded correctly to the appropriate number of decimal places.</Action>

    </Rule>
<Rule id="2290" phase="generation" confidence="1" source="log_2290" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage cumulative total return for a given period between two financial entities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage cumulative total return is correctly applied, considering the initial and final values of both entities over the specified period, and verify that the calculation accounts for potential fluctuations and does not ignore any intermediate values.</Action>

    </Rule>
<Rule id="2291" phase="generation" confidence="1" source="log_2291" type="Program_Logic_Failure">

        <Trigger>Comparing financial performance metrics, such as cumulative total return, between different entities</Trigger>

        <Action>KNOWLEDGE INJECTION: Validate that the comparison logic correctly subtracts the cumulative total return of one entity from that of the other, and confirm that the signs of the returns are accurately considered to reflect outperformance or underperformance.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_analysis" type="ArithmeticCalculationError">
        <Trigger>Calculation of averages from given numerical data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical values relevant to the calculation are summed and then divided by the total count of values to obtain the average, without omitting any values or introducing extraneous calculations.</Action>
    </Rule>
<Rule id="2292" phase="generation" confidence="1" source="log_2292" type="ArithmeticHallucination">

        <Trigger>Questions asking for the proportion of a specific component within a larger financial value, especially in contexts involving derivatives or commodity pricing.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating proportions of financial components, ensure to accurately identify and divide the specific component's value by the total value, avoiding reliance on memorized or previously computed values that may not apply to the current context. KNOWLEDGE INJECTION: Recognize the necessity of precise arithmetic operations in financial calculations, especially when determining ratios or percentages of financial instruments or commodity derivatives.</Action>

    </Rule>
<Rule id="2293" phase="generation" confidence="1" source="log_2293" type="Arithmetic_Hallucination">

        <Trigger>When calculating the number of years required to pay off future minimum lease payments, and the model's response does not match the ground truth.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of years to pay off lease payments is based on the actual lease payment schedule and interest rate, rather than relying on assumptions or simplified models. KNOWLEDGE INJECTION: Verify that the model understands the concept of amortization and the formula for calculating the number of years required to pay off a lease, taking into account the implicit interest rate and the lease payment amounts.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticError">

        <Trigger>Percentage growth calculation is required, and the model provides an incorrect response that significantly deviates from the expected range of percentage growth values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage growth calculation is performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the correct percentage growth rate.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_finqa" type="ContextMisinterpretation">

        <Trigger>The model fails to correctly interpret the context of the question, leading to an incorrect response that does not match the expected format or range of values for percentage growth.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly understands the question's context, including identifying the relevant data points and applying the appropriate mathematical operations to calculate the percentage growth.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_finqa" type="DataMisapplication">

        <Trigger>The model incorrectly applies the data provided, resulting in a response that does not accurately reflect the percentage growth between the given values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately applies the data by using the correct initial and final values for the calculation and avoiding any incorrect assumptions or data substitutions.</Action>

    </Rule>
<Rule id="2301" phase="generation" confidence="1" source="log_2301" type="Arithmetic Hallucination">

        <Trigger>When calculating amortization rates related to asset useful life, ensure accurate division and percentage conversion.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the yearly amortization rate is calculated as the reciprocal of the asset's useful life in years, and then correctly convert the result to a percentage by multiplying by 100, considering significant figures and rounding as necessary.</Action>

    </Rule>
<Rule id="2297" phase="generation" confidence="1" source="log_2297" type="Arithmetic_Hallucination">

        <Trigger>Change calculation between two time periods for financial metrics, such as quarterly originations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for the specified time periods are correctly identified and subtracted to calculate the change, avoiding any arithmetic hallucination by verifying the mathematical operations performed</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of average returns over a specified period, especially when provided with a time series of data points for a financial index.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of average annual returns correctly sums all annual returns over the specified period, then divides by the number of years, considering compounding effects if applicable, and verify the correct application of the formula for average return, avoiding simplistic or incorrect arithmetic operations.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the number of leased or subleased towers, the model provides an answer that is equivalent to the total number of sites on which towers are located, without accounting for the distinction between leased, subleased, licensed, and owned properties.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model differentiates between various types of property agreements (e.g., leased, subleased, licensed, owned) and only includes relevant categories in the calculation to provide an accurate answer.</Action>

    </Rule>
<Rule id="R2" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>When the question asks for the number of towers leased or subleased, but the model responds with the total number of sites that include owned properties, indicating a failure to filter out irrelevant information.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model's logic correctly filters the data to exclude properties that do not match the query criteria (e.g., owned properties) to prevent overcounting and ensure the response accurately reflects the question asked.</Action>

    </Rule>
<Rule id="R3" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>The model's response suggests that it failed to correctly apply the percentage of leased or subleased towers to the total portfolio or misinterpreted the context provided in the question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the model accurately applies percentages or proportions to the relevant total when calculating specific quantities (e.g., leased vs. total towers) and verify that the context (e.g., year, location) is correctly applied to the query.</Action>

    </Rule>
<Rule id="2300" phase="generation" confidence="1" source="log_2300" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in accumulated values over time, specifically when determining differences in comprehensive losses or gains between two distinct years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the change in accumulated values between two periods involves subtracting the earlier period's value from the later period's value, taking into account the sign and magnitude of the values to accurately determine the increase or decrease.</Action>

    </Rule>
<Rule id="2301" phase="generation" confidence="1" source="log_2301" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total future minimum commitments, especially in the context of comparing components like purchase obligations against total obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the specific component (e.g., purchase obligations) by the total amount and then multiplying by 100, without rounding prematurely, to maintain precision and accuracy in the final percentage calculation.</Action>

    </Rule>
<Rule id="2301" phase="generation" confidence="1" source="log_2301" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a whole, especially in the context of comparing components of total sales across different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct total value is used as the denominator when calculating percentages, and verify that all relevant components (such as foodservice net sales) are accurately divided by this total to obtain the correct percentage representation.</Action>

    </Rule>
<Rule id="2302" phase="generation" confidence="1" source="log_2302" type="Arithmetic_Hallucination">

        <Trigger>When calculating averages or totals based on given numbers in a financial context, especially in scenarios involving purchase prices and quantities of items.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation logic correctly applies the arithmetic operations as described in the context, specifically focusing on correctly dividing total costs by quantities to find averages, and verify the unit of measurement (e.g., millions) to ensure the answer is appropriately scaled.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="arithmetic_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving financial metrics such as dividend yields</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that percentage changes are calculated using the formula \(((NewValue - OldValue) / OldValue) \times 100\%\) to avoid arithmetic hallucination</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="financial_context_analysis" type="InformationOmissionError">
        <Trigger>Financial quantities and calculations involving interest rates, investments, or market values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial quantities are presented with their appropriate units of measurement (e.g., dollars, millions, percentages) to provide complete and accurate information.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the difference between two financial metrics (e.g., high and low prices) across different quarters, and the model's response does not match the expected result based on provided context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial metrics are correctly identified and extracted from the context. KNOWLEDGE INJECTION: Verify that the calculation correctly accounts for the differences between the specified quarters, applying the appropriate arithmetic operations (subtraction in this case) to the correct values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of securities to be issued upon exercise of outstanding options, warrants, and rights compared to the number of securities remaining available for future issuance under equity compensation plans</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula for calculating percentages is applied, which involves dividing the number of securities to be issued by the total number of securities remaining available for future issuance, and then multiplying by 100, while maintaining precise arithmetic operations to avoid rounding errors</Action>

    </Rule>
<Rule id="2307" phase="generation" confidence="1" source="log_2307" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages or proportions of a total amount in financial transactions, particularly when the total and partial amounts are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the specific portion's amount by the total amount and then multiplying by 100, rather than relying on assumed ratios or incorrect arithmetic operations</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculation between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change is calculated as ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, to accurately determine the rate of increase or decrease</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal values or rounding</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by maintaining sufficient decimal places during intermediate calculations and apply rounding only at the final step to prevent truncation errors, thus providing accurate percentage change values</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating average values from a series of financial data points across multiple years, where the model's response does not accurately reflect the arithmetic mean of the provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating averages from a set of financial data points over several years, all values are correctly summed and then divided by the total number of years to obtain the accurate mean value, avoiding any arithmetic hallucination by verifying each step of the calculation process.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis_log" type="Program_Logic_Failure">

        <Trigger>Incorrect application of financial formulas or failure to follow the logical sequence required for calculating specific financial metrics, such as averages or totals, from given data sets.</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement a systematic approach to calculating financial metrics that involves identifying all relevant data points, applying the correct formula, and performing calculations in the appropriate order to ensure logical consistency and accuracy in the final result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage growth between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by using the formula ((Current Year Value - Previous Year Value) / Previous Year Value) * 100 to calculate percentage growth, and round the result to the nearest whole number or as per the required precision</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="proportion_calculation_error_log" type="ProportionCalculationError">
        <Trigger>Calculation of a portion of a total amount</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating a proportion of a total, ensure to divide the specific amount by the total amount and then multiply by 100 to get the percentage, avoiding any incorrect assumptions about the relationship between the numbers provided.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Presence of implicit interest rate and future minimum lease payments in the context, requiring calculation of implicit interest costs</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating implicit interest costs, ensure that the formula for calculating the implicit interest rate is correctly applied to the minimum lease payments, taking into account the timing and amount of payments, and that all relevant numerical values are accurately extracted and used in the calculation</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>When a financial transaction involves a payment made for a joint venture or acquisition, and the model response only accounts for a single aspect of the transaction without considering the entirety of the equity value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial components, including but not limited to payments, investments, and equity values, are comprehensively considered and accurately calculated to reflect the total equity value, especially in scenarios involving joint ventures or acquisitions where multiple financial figures might be mentioned.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the proportion of total future minimum lease payments dedicated to interest payments, the model provides an incorrect percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the proportion of interest payments is performed by dividing the total interest by the total minimum lease payments and then multiplying by 100 to obtain the correct percentage, taking into account the proper handling of negative values or signs indicating deductions or decreases.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticError">
        <Trigger>Calculating percentage changes in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the percentage change formula correctly by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to get the percentage change.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of percent change between two financial values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the percent change formula as ((New Value - Old Value) / Old Value) * 100, ensuring each step of the calculation is accurately performed to avoid rounding errors or hallucinations.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total expected cash payments for obligations in a specific year, where multiple types of payments (e.g., long-term debt, interest payments, non-cancelable operating lease obligations, contingent acquisition payments) are involved.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant payment types for the specified year are accurately identified and summed, without omitting any payment categories or including payments from other years, to calculate the total expected cash payments.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the values are accurately retrieved from the context for the specified time periods</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="precision_error_log" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentages or financial metrics where precision beyond two decimal places is necessary.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all intermediate and final calculations maintain the highest precision possible, especially when dealing with financial data or percentages, to avoid precision loss or truncation errors.</Action>
    </Rule>
<Rule id="FINQACalc001" phase="generation" confidence="1" source="log_FINQA001" type="ArithmeticCalculationError">
        <Trigger>Percentual increase calculations between two financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure accurate application of the percentage change formula: ((New Value - Old Value) / Old Value) * 100, verifying each arithmetic step for precision and correctness.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Comparing percentages or ratios between two quantities, especially when determining the difference in size or magnitude between the largest and second-largest entities in a dataset.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentages by using the formula (larger value - smaller value) / smaller value * 100, and verify that all arithmetic operations are correctly ordered and executed to avoid precision errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating revenue per customer in regulated businesses, and the model's response significantly deviates from the expected answer derived from provided financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial metrics (e.g., operating revenues and number of customers) are accurately extracted and applied in the calculation of revenue per customer. KNOWLEDGE INJECTION: Verify that the calculation logic correctly divides total revenues by the total number of customers to derive the revenue per customer, without introducing unauthorized assumptions or arithmetic errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="arithmetic_hallucination">
    
        <Trigger>When calculating the difference in financial values between two periods, and the model's response does not match the ground truth.</Trigger>
        
        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the difference in financial values between two periods is performed by subtracting the earlier period's value from the later period's value, considering the potential for negative results if the earlier period's value is larger.</Action>
    
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Range calculation of shares bought over multiple periods, with provided monthly totals</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all monthly totals of shares bought are summed to calculate the range of shares bought over multiple periods, without relying on individual month's data in isolation</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>Calculation involving aggregation of data points from different time periods, with incorrect selection of relevant data</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation logic includes all relevant data points from each period and applies correct arithmetic operations to obtain the desired range or total, avoiding the use of a single period's data when multiple periods are specified</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="PercentageCalculationError">

        <Trigger>When calculating the percentage increase between two time periods, and the model's response does not match the expected outcome.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage increase as ((New Value - Old Value) / Old Value) * 100 to ensure accurate growth rate determination, and KNOWLEDGE INJECTION: Recognize that percentage calculations involve comparing differences relative to a base value, not absolute differences alone.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of total intangibles-net comprised of a specific component, such as developed product technology-gross, and the model's response does not match the correct calculation based on provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage of a component within a total is performed by dividing the component's value by the total value and then multiplying by 100, without introducing external or unrelated values into the calculation.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program Logic Failure">

        <Trigger>When the model is required to calculate percentages or ratios from given financial data and it fails to apply the correct formula or sequence of operations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always apply the formula for percentage calculation as (part/whole) * 100, where "part" is the value of the component in question and "whole" is the total value of the category, ensuring that both values are appropriately matched in terms of their financial reporting dates and categories.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect Context Retrieval">

        <Trigger>When the model incorrectly identifies or matches financial data points, such as confusing different years or categories of financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the financial data used for calculations are correctly identified and matched according to their respective categories and reporting periods, ensuring that the calculation is relevant and accurate within the given financial context.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods involving negative numbers or a change from positive to negative</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to apply the formula correctly as ((New Value - Old Value) / |Old Value|) * 100, considering the absolute value of the old value to handle cases where the old or new value is negative, and be cautious of changes from positive to negative or vice versa which may result in a negative percentage change indicating a decrease.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentages involving financial metrics, such as dividends or receivables, where the model incorrectly applies arithmetic operations or fails to consider the correct base value for the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, especially in financial contexts, the correct formula is applied (part/whole * 100), and verify that the 'part' and 'whole' are correctly identified based on the problem statement, avoiding confusion between different financial metrics or time periods.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating financial balances, especially for specific date queries, and the model's response does not match the expected numerical range based on given context or if the context implies a calculation involving multiple financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all relevant financial components are accurately identified and correctly calculated. KNOWLEDGE INJECTION: Verify that the model understands the relationships between different financial metrics (e.g., DVA and FVA) and applies the correct mathematical operations to derive the requested balance, considering the impact of each component on the final result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticLogicError">
        <Trigger>Calculation of percentage cumulative total returns for comparison between financial indices or stocks over multiple periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for cumulative returns calculation is correctly applied, considering each period's change and compounding effect. KNOWLEDGE INJECTION: Verify that the percentage difference calculation between two sets of cumulative returns is performed by dividing the difference by the original value of the baseline index and then multiplying by 100, to obtain the correct percentage difference.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">

        <Trigger>Comparison of financial expenses or costs where one value is explicitly stated as a non-recurring or one-time payment and the other is a regular expense, such as interest expense.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all comparisons between financial figures accurately reflect their nature (recurring vs. non-recurring) and consider the context of the comparison to provide a correct logical outcome, rather than just comparing the numerical values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving temporal financial data, such as year-over-year comparisons of balance changes in unrecognized tax benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula [(Ending Value - Beginning Value) / Beginning Value] * 100 is accurately applied, considering the correct beginning and ending values for the respective period to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving incremental risk-weighted assets and total incremental risk-weighted assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of a specific component within a total (e.g., credit cards within total incremental risk-weighted assets), the formula (specific component / total) * 100 is applied correctly, and verify that the components are correctly identified and their respective values are accurately used in the calculation.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculations involving multiple time periods and financial metrics, particularly when the model's response is close to but not exactly matching the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed with precise decimal arithmetic to avoid rounding errors, using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is executed with sufficient precision to capture minor differences.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change or decrease between two consecutive time periods in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((Initial Value - Final Value) / Initial Value) * 100, ensuring the correct order of operations and accurate representation of the change</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="analysis_log" type="ArithmeticError">
        <Trigger>Calculation of percentage change between two time periods for financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage changes using the formula ((New Value - Old Value) / Old Value) * 100 to ensure accuracy in financial metric comparisons.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase of net sales without considering the impact of external factors such as acquisitions, accounting standards changes, and currency rates</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all external factors contributing to the change in net sales are identified and their impacts are subtracted from the total change before calculating the percentage increase, to avoid arithmetic hallucination and provide an accurate estimate of organic growth</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Failure to account for the specific contributions of various factors to the overall change in net sales, leading to incorrect calculation of the percentage increase</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating the percentage increase of net sales, critically evaluate the contributions of acquisitions, changes in accounting standards, and currency fluctuations, and adjust the calculation accordingly to reflect the true organic growth, ensuring that the model's logic aligns with sound financial reasoning principles</Action>

    </Rule>
<Rule id="2340" phase="generation" confidence="1" source="log_2340" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of components contributing to a total value, especially in the context of financial or reserve data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages is based on accurate and relevant data, avoiding any arithmetic hallucination by meticulously verifying the numerator and denominator used in the percentage calculation formula.</Action>

    </Rule>
<Rule id="2341" phase="generation" confidence="1" source="log_2341" type="Program_Logic_Failure">

        <Trigger>Upon encountering questions that require the calculation of proportions or percentages of a total amount, such as reserves or financial assets.</Trigger>

        <Action>KNOWLEDGE INJECTION: Double-check the formulas and logic applied to derive the proportions or percentages, ensuring that all components and their respective values are correctly accounted for and that the calculation methodology aligns with standard financial or accounting practices.</Action>

    </Rule>
<Rule id="R001" phase="postprocessing" confidence="1" source="error_analysis_log" type="UnitOmissionError">

        <Trigger>Percentage calculations that require the inclusion of units to provide a complete and accurate answer</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always append the relevant unit (e.g., %, dollars, etc.) to the final numerical answer when the question context implies its necessity for a complete and meaningful response</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Question asks for the fair value of a specific financial instrument at a particular date, and the model provides an incorrect numerical value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when answering questions about fair values at specific dates, the model directly retrieves the relevant value from the provided context without performing unnecessary calculations, and verifies that the retrieved value corresponds to the correct date mentioned in the question.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ProgramLogicFailure">
        <Trigger>Calculation of annualized returns from multi-year financial index data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all historical data points are considered and correctly applied to the formula for calculating annualized returns, taking into account the initial and final values of the investment over the specified period.</Action>
    </Rule>
<Rule id="R1" phase="postprocessing" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Encountering a calculation that requires averaging numerical values over multiple periods, where the model's response is a numerical value but does not match the expected scale or unit of measurement (e.g., millions, thousands, etc.).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the unit of measurement and scale of the calculated average (e.g., millions, thousands) match the question's requirements before providing the final numerical answer, and verify that the arithmetic operations are correctly performed without altering the scale or unit.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="percentage_change_calculation" type="ArithmeticError">
        <Trigger>Calculation of percentage change between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always subtract the earlier percentage from the later percentage to calculate the change, and ensure the sign of the result reflects an increase (positive) or decrease (negative) accurately.</Action>
    </Rule>
<Rule id="AR001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">
        <Trigger>Calculation of average cost per unit or site</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always perform division when calculating averages or costs per unit to ensure accurate distribution of total costs.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ContextMisinterpretation">

        <Trigger>Questions asking for comparisons between quantities owned inside and outside a specific region or country</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model interprets the question correctly by identifying the relevant categories (e.g., "owned outside the United States") and comparing the corresponding quantities directly, rather than relying on arithmetic operations that might misinterpret the question's intent</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">

        <Trigger>Arithmetic operations involving subtraction where the intent is to find the difference in quantities but the operation is applied incorrectly due to misunderstanding the question's requirements</Trigger>

        <Action>KNOWLEDGE INJECTION: Always validate the arithmetic operation with the question's context to ensure that the correct quantities are being compared or calculated, focusing on the logic of "how much more" which typically involves comparing totals or differences in a specific context</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_analysis" type="LogicError">

        <Trigger>Scenarios where the question asks for a comparison or a total but the model responds with an incorrect calculation due to a logic failure in interpreting the categories or quantities involved</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a step to re-evaluate the question's requirements and ensure that the calculation or comparison aligns with the logical intent of the question, considering the categories and quantities provided in the context</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the order of values (new and old) is correctly represented to avoid sign errors.</Action>

    </Rule>
<Rule id="2349" phase="generation" confidence="1" source="log_2349" type="Arithmetic_Hallucination">

        <Trigger>Calculation of quick ratio involves adding cash and cash equivalents to accounts receivable and then dividing by the sum of accrued liabilities and accounts payable.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by verifying that all relevant assets are summed and all relevant liabilities are summed before calculating the quick ratio, using the formula: (cash and cash equivalents + accounts receivable) / (accrued liabilities + accounts payable), and consider the correct sign for liabilities to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total revenues, particularly when determining the proportion of non-interest revenue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a component of total revenue (e.g., non-interest revenue), the formula includes dividing the component's value by the total revenue value and then multiplying by 100 to obtain the percentage, avoiding rounding errors or incorrect placement of decimal points.</Action>

    </Rule>
<Rule id="R001" phase="postprocessing" confidence="1" source="finqa_log" type="UnitOmissionError">

        <Trigger>Model response is a numerical value and the question asks for a percentage or ratio</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model appends the appropriate unit (e.g., %, $, etc.) to numerical answers when the question context implies a specific unit of measurement</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Identification of comparative questions regarding financial metrics across different periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: When encountering questions that compare financial metrics (e.g., cash flows, revenues) across different time periods, ensure the response addresses whether the metric has increased or decreased, rather than calculating the difference between the periods</Action>
    </Rule>
<Rule id="2352" phase="generation" confidence="1" source="log_2352" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving bond tranches and total amounts, particularly when determining the proportion of a specific tranche due at a certain time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages, ensure that the division of the specific tranche amount by the total amount is performed accurately, and then multiply by 100 to obtain the percentage, rounding appropriately to the required decimal places without introducing precision errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="lease_payment_calculation" type="ArithmeticHallucination">
        <Trigger>Calculations involving proportions or percentages of financial obligations over time, such as lease payments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant time periods' payments are accurately identified and summed before calculating percentages or proportions, considering the total payments over the specified term.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or differences between two time periods, especially in financial or quantitative contexts, and the model's response is given as an absolute number instead of a percentage or proportion.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that calculations involving comparisons across time periods correctly apply percentage change formulas when the context implies a proportional change, and verify that the answer is expressed in the correct units (e.g., percentage, proportion) as indicated by the question or problem context.</Action>

    </Rule>
<Rule id="2355" phase="generation" confidence="1" source="log_2355" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percent change in financial metrics, such as amortization expense, between two consecutive periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percent change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that all values are accurately retrieved from the context before performing the calculation</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cash flow change between two periods, where the model incorrectly applies arithmetic operations or fails to consider all relevant financial data points.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data points, including initial and final balances, are correctly identified and applied in calculations to determine changes in cash flow over time. KNOWLEDGE INJECTION: Verify that the calculation accounts for the difference between the ending balance of the previous period and the ending balance of the current period, considering any additional inflows or outflows that may have occurred.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_log" type="ArithmeticError">

        <Trigger>Percent change calculations involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percent change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the signs of the values are correctly interpreted to avoid sign errors, especially when calculating decreases.</Action>

    </Rule>
<Rule id="2358" phase="generation" confidence="1" source="log_2358" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative return on net sales for discontinued operations involving multiple years of financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of cumulative return on net sales accurately accounts for the income before taxes and net sales for each year, using the formula: (Total Income Before Taxes / Total Net Sales) * 100, where totals are calculated over the specified period, to prevent arithmetic hallucination and ensure accuracy in financial analysis</Action>

    </Rule>
<Rule id="2360" phase="generation" confidence="1" source="log_2360" type="ArithmeticHallucination">

        <Trigger>When calculating averages or ratios involving customer data and revenue, ensure that the correct variables are selected and properly scaled.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Validate that the arithmetic operations are performed in the correct order and with the correct units, considering factors such as the total number of customers, total revenue, and the specific population or region in question, to prevent incorrect scaling or unit mismatches.</Action>

    </Rule>
<Rule id="2361" phase="generation" confidence="1" source="log_2361" type="ProgramLogicFailure">

        <Trigger>Encountering a scenario where the average annual revenue per customer is requested for a specific geographic region.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model logic correctly identifies the relevant data points for the specified region, applies the appropriate formula for calculating averages (e.g., total revenue divided by the number of customers), and executes the calculation without introducing incorrect factors or operations.</Action>

    </Rule>
<Rule id="2362" phase="generation" confidence="1" source="log_2362" type="IncorrectContextRetrieval">

        <Trigger>When provided with a mix of data points including percentages, totals, and regional specifications, the model must accurately distinguish between relevant and irrelevant information for the query at hand.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a filtering mechanism to selectively focus on the data directly pertinent to the question, avoiding the incorporation of unnecessary or misleading data points that could lead to incorrect calculations or assumptions.</Action>

    </Rule>
<Rule id="2360" phase="generation" confidence="1" source="log_2360" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations adhere to the formula: ((Ending Value - Beginning Value) / Beginning Value) * 100, and verify that all intermediate calculations are performed accurately to avoid rounding errors</Action>

    </Rule>
<Rule id="2361" phase="generation" confidence="1" source="log_2361" type="Arithmetic Hallucination">

        <Trigger>When calculating the volume impact on sales, the presence of multiple factors such as acquisitions, increased volumes, higher selling prices, and foreign currency translation is mentioned.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of volume impact considers all mentioned factors, including but not limited to acquisitions, price changes, and currency effects, and apply them to the base value correctly, avoiding incorrect isolation of factors or misapplication of percentage changes.</Action>

    </Rule>
<Rule id="2362" phase="generation" confidence="1" source="log_2362" type="Program Logic Failure">

        <Trigger>Given a scenario where sales changes are attributed to various factors, including increased volumes, the model attempts to calculate the volume impact.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the volume impact should be derived from the total change in sales, considering each factor's contribution, and not solely from the difference between two values without accounting for all relevant factors, such as price increases and currency effects.</Action>

    </Rule>
<Rule id="2363" phase="generation" confidence="1" source="log_2363" type="Incorrect Context Retrieval">

        <Trigger>When multiple years' sales data and various factors influencing sales changes are provided, the model incorrectly identifies or applies the relevant data for calculating volume impact.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always identify and isolate the specific data points and factors relevant to the question being asked, ensuring that calculations are based on the correct year's data and appropriately account for all mentioned factors influencing sales changes.</Action>

    </Rule>
<Rule id="2362" phase="generation" confidence="1" source="log_2362" type="Arithmetic_Hallucination">

        <Trigger>Contractual cash obligations calculation, specifically when determining the percentage of total contractual cash obligations due to long-term debt</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components of long-term debt and total contractual cash obligations are accurately identified and summed before calculating percentages to prevent arithmetic hallucination; KNOWLEDGE INJECTION: Verify that the calculation methodology correctly accounts for all periods (less than 1 year, 1-3 years, 4-5 years, and after 5 years) for both long-term debt and total contractual cash obligations</Action>

    </Rule>
<Rule id="2363" phase="generation" confidence="1" source="log_2363" type="Arithmetic_Hallucination">

        <Trigger>When calculating the difference in cash flow between two consecutive years based on provided balance information, and the model's response contains a negative sign opposite to the expected result.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure the direction of change (increase or decrease) is correctly applied when subtracting the earlier year's balance from the later year's balance to determine the cash flow change, avoiding sign errors that could invert the result.</Action>

    </Rule>
<Rule id="2364" phase="generation" confidence="1" source="log_2364" type="Arithmetic_Hallucination">

        <Trigger>When calculating accumulated totals over multiple periods, especially for financial metrics such as comprehensive loss, and the model's response does not match the expected arithmetic result based on provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values are correctly summed or subtracted as appropriate for the financial metric being calculated, paying special attention to the signs of the numbers (positive or negative) to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="2365" phase="generation" confidence="1" source="log_2365" type="Arithmetic_Hallucination">

        <Trigger>Calculation of yearly amortization rate related to intangible assets such as trademarks or copyrights</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the yearly amortization rate for intangible assets, the model accurately divides 1 by the weighted average useful life and then multiplies by 100 to convert the result into a percentage, rounding the final answer to one decimal place if necessary</Action>

    </Rule>
<Rule id="2367" phase="generation" confidence="1" source="log_2367" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a specific component within a total value, especially in financial contexts involving property and equipment, ensure that the calculation directly relates to the question asked.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the numerator and denominator used in percentage calculations are correctly identified and directly relevant to the question's context, ensuring that the calculation accurately represents the relationship between the specific component and the total value in question.</Action>

    </Rule>
<Rule id="2368" phase="generation" confidence="1" source="log_2368" type="Program_Logic_Failure">

        <Trigger>Upon encountering a question that requires determining the proportion of a specific asset type (like software) within a broader category (like total property and equipment), ensure that the logic applied to calculate this proportion is sound and directly addresses the question.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the calculation logic correctly isolates the value of the specific asset type and then accurately calculates its proportion of the total category value, avoiding misconstrued calculations that might lead to incorrect proportions.</Action>

    </Rule>
<Rule id="2369" phase="generation" confidence="1" source="log_2369" type="Incorrect_Context_Retrieval">

        <Trigger>When a question pertains to the relationship between a specific component and a total within a financial context, verify that the relevant data (both for the component and the total) is correctly retrieved and applied to the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context retrieval mechanism accurately identifies and extracts the necessary financial data for both the specific component in question (e.g., software) and the broader category (e.g., total property and equipment), to facilitate a correct calculation that reflects the actual financial relationship.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Presence of unit conversion factors (e.g., square feet per acre) in the context, combined with a question requiring land area calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating total area from given land quantities in different units, all provided conversion factors are correctly applied and all relevant land quantities are summed before performing the unit conversion.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Scenario where the model is given multiple pieces of information that could contribute to calculating a total (e.g., total land area), but the question explicitly mentions "total" or implies a comprehensive calculation.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify if the provided numbers and context imply additional, unmentioned quantities that should be included in the calculation (e.g., separate totals for different regions or categories) and ensure these are accounted for in the final calculation.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticPrecisionError">
        <Trigger>Calculations involving percentages or rates of change in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial calculations, particularly those involving percentages and rates of change, are performed with consistent and appropriate rounding methods to maintain precision.</Action>
    </Rule>
<Rule id="2369" phase="generation" confidence="1" source="log_2369" type="Arithmetic Hallucination">

        <Trigger>Presence of multiple entities with potentially overlapping or distinct financial data, requiring careful aggregation to avoid double-counting or misattribution of financial values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating totals for a parent company and its subsidiaries, distinguish between the parent's direct financial values and those of its subsidiaries to avoid incorrect aggregation, and verify that all relevant financial data are appropriately accounted for without duplication.</Action>

    </Rule>
<Rule id="2370" phase="generation" confidence="1" source="log_2370" type="Arithmetic_Hallucination">

        <Trigger>Amortization expense calculation related to intangible assets, such as trademarks or goodwill, with a specified amortization period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the amortization expense is calculated by dividing the total value of the intangible asset by its amortization period, and verify that the result is presented in the correct units and scale, considering factors such as thousands or millions, to avoid numerical inaccuracies</Action>

    </Rule>
<Rule id="2371" phase="generation" confidence="1" source="log_2371" type="Arithmetic_Hallucination">

        <Trigger>When calculating the total value of securities, the model provides an answer that does not match the expected result, indicating a potential miscalculation or incorrect application of numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values are correctly extracted and applied to the calculation, including but not limited to, the number of securities and their respective prices, and verify that the calculation logic accurately reflects the question being asked, such as summing the products of the number of securities and their prices for each category.</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage of total capacity from a specific energy source</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated percentage value is properly formatted with a percentage sign (%) to avoid confusion with absolute values</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program Logic Failure">

        <Trigger>Failure to distinguish between absolute values and percentages in the response</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that percentage values require explicit indication (e.g., % symbol) to differentiate them from absolute values, and apply this formatting consistently in responses</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative total shareholder return over a multi-year period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for cumulative total shareholder return is applied correctly, taking into account the initial investment, dividend reinvestment, and the stock prices at the beginning and end of each period, and verify that the calculation accurately reflects the percentage change over the specified timeframe.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_log" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial ratios involving different time periods or maturities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division of corresponding values for each period, verifying that the correct numerator and denominator are used for the ratio calculation, and apply this calculation consistently across all periods being compared</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_log" type="Program_Logic_Failure">

        <Trigger>Calculations involving multiple years or financial obligations with different due dates</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the model properly interprets and applies the financial data provided for each respective year or due date, correctly identifying and calculating the ratios as requested without mixing data from different periods</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_log" type="Incorrect_Context_Retrieval">

        <Trigger>Financial questions requiring data from specific dates or periods, such as long-term debt maturities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model accurately retrieves and isolates the relevant financial data for the specified dates or periods, ensuring that calculations are based solely on the correct context and data</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of total minimum lease payments due in a specific year, and the model responds with an implausible value such as 0, indicating a potential failure to consider all relevant lease payments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages of total minimum lease payments due in a specific year involves aggregating all relevant lease payments, including both operating and capital leases, before applying the percentage calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="2376" phase="generation" confidence="1" source="log_2376" type="ArithmeticError">

        <Trigger>Calculation of growth rate or percentage change between two time periods, particularly when given average prices or values for those periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the growth rate or percentage change, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination and obtain the accurate percentage change.</Action>

    </Rule>
<Rule id="2378" phase="evaluation" confidence="1" source="log_2378" type="InsufficientContextualUnderstanding">

        <Trigger>When determining the sufficiency of funds for future payments, especially in the context of securitization facilities and lease obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the current balance or available funds under a facility are compared against the total amount due for payments within the specified timeframe, considering any changes or additions to the facility that could impact its value or the entity's obligations.</Action>

    </Rule>
<Rule id="2379" phase="reasoning" confidence="1" source="log_2379" type="InadequateCalculation">

        <Trigger>Upon encountering questions that require assessing the adequacy of a balance to cover future expenses or payments, such as lease payments due by specific dates.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always calculate or estimate the total amount due for payments within the relevant period and compare it against the available or projected balance, taking into account any relevant financial transactions or adjustments that might affect the balance or payment obligations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Comparative questions involving financial metrics, such as expenses or costs, where the model responds with a numerical value instead of a qualitative answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When encountering comparative questions, ensure the response is a qualitative comparison (e.g., "yes" or "no") rather than a quantitative value, by evaluating the relationship between the financial metrics mentioned in the question.</Action>

    </Rule>
<Rule id="1" phase="postprocessing" confidence="1" source="log_analysis" type="PercentageFormattingError">

        <Trigger>When calculating percentages, ensure the result includes the appropriate percentage symbol (%), especially in contexts where the result could be interpreted as a whole number or a decimal value without the symbol.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always append the percentage symbol (%) to the result of percentage calculations to avoid ambiguity and ensure clarity in the answer format.</Action>

    </Rule>
<Rule id="2380" phase="generation" confidence="1" source="log_2380" type="ArithmeticHallucination">

        <Trigger>When calculating ratios involving the fair value of assets acquired and the fair value of net assets acquired, ensure that all relevant components are accurately summed and considered.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of the ratio includes the correct aggregation of current and non-current assets, property and equipment, and intangible assets, and that the fair value of net assets acquired is correctly determined before computing the ratio.</Action>

    </Rule>
<Rule id="2381" phase="generation" confidence="1" source="log_2381" type="ArithmeticError">

        <Trigger>Percentage change calculations involving multi-year financial data, specifically when determining changes in unrecognized tax benefits over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula: ((Ending Value - Beginning Value) / Beginning Value) * 100, and verify that all values are correctly retrieved from the relevant financial periods to avoid arithmetic hallucination or program logic failure</Action>

    </Rule>
<Rule id="2382" phase="generation" confidence="1" source="log_2382" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentage of shares not purchased as part of publicly announced plans or programs</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage of a specific category of shares, the correct total number of shares for the relevant period is used as the denominator, and the correct number of shares for the category in question is used as the numerator, to avoid arithmetic hallucination and ensure accurate percentage calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>When calculating the difference in debt fair market value due to a change in market interest rates, and the model's response has an opposite sign or incorrect magnitude compared to the expected result based on the given context.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the effect of interest rate changes on debt fair market value, the model correctly applies the principles of how interest rate fluctuations impact debt valuation, considering the direction and magnitude of the rate change. KNOWLEDGE INJECTION: Verify that the model understands the inverse relationship between interest rates and debt fair market value, such that a decrease in interest rates leads to an increase in debt fair market value and vice versa.</Action>

    </Rule>
<Rule id="2384" phase="generation" confidence="1" source="log_2384" type="Arithmetic Hallucination">

        <Trigger>Calculation of total cash outflow for shares repurchased involves determining the number of shares repurchased and the average price paid per share, where the model incorrectly calculates the difference in shares authorized for repurchase and applies the wrong average price.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the total cash outflow for shares repurchased, the correct number of shares repurchased is determined by subtracting the shares authorized for repurchase at the end of the period from the shares authorized for repurchase at the beginning of the period, and then multiply this number by the correct average price paid per share for the period. KNOWLEDGE INJECTION: Verify that the average price paid per share used in the calculation corresponds to the same period as the shares being repurchased.</Action>

    </Rule>
<Rule id="2385" phase="generation" confidence="1" source="log_2385" type="Arithmetic_Hallucination">

        <Trigger>When calculating future base rental revenue under non-cancelable operating leases for multiple years, the model fails to sum the revenues for each year correctly.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all mentioned years' revenues are summed separately and then added together to obtain the total revenue, without omitting any year's data or incorrectly calculating the sum.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating the total value of outstanding security options involves multiplying the number of securities to be issued upon exercise of outstanding options by the weighted average exercise price.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant factors, including the number of securities and their respective prices, are correctly multiplied to obtain the total value, and verify that the calculation does not introduce extraneous numerical values or incorrect rounding that could lead to significant discrepancies.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>When computing the total value of outstanding security options, the model fails to apply the correct formula or misinterprets the given data, such as incorrectly applying the weighted average exercise price or neglecting to consider all relevant securities.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always apply the correct formula for calculating the total value of outstanding security options, which involves multiplying the number of securities to be issued by the weighted average exercise price, and ensure that all necessary data points are accurately incorporated into the calculation to prevent logical errors.</Action>

    </Rule>
<Rule id="2387" phase="generation" confidence="1" source="log_2387" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage decrease or increase over time, especially in financial metrics such as the cash conversion cycle.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the most recent and previous values of the metric being analyzed, respectively.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value from a previous year to a current year</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure to subtract the current year's value from the previous year's value and divide by the previous year's value, then multiply by 100, accounting for potential negative results indicating a decrease</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating or comparing financial ratios, especially in the context of regulatory requirements</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately distinguishes between different types of capital ratios (e.g., Tier 1, Total Capital) and their respective regulatory minimums, avoiding the confusion between these ratios and providing answers that reflect the correct type of ratio being queried</Action>

    </Rule>
<Rule id="2390" phase="generation" confidence="1" source="log_2390" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage changes or differences between two financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the difference between two percentages, the result is formatted correctly, without adding unnecessary percentage signs, and with proper rounding or truncation as per the context's requirements</Action>

    </Rule>
<Rule id="2391" phase="generation" confidence="1" source="log_2391" type="Arithmetic_Hallucination">

        <Trigger>Change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all numerical values are properly scaled (e.g., millions, thousands) and that the subtraction operation correctly computes the difference between the two periods, taking into account the sign and magnitude of the values.</Action>

    </Rule>
<Rule id="2392" phase="generation" confidence="1" source="log_2392" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total contractual obligations and commitments, and the model's response is a numeric value with a high degree of precision (e.g., multiple decimal places) that does not match the expected answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer is rounded to the nearest whole number or to a specific number of decimal places as implied by the context or question requirements, to prevent unnecessary precision that may lead to incorrect comparisons or interpretations.</Action>

    </Rule>
<Rule id="2393" phase="generation" confidence="1" source="log_2393" type="ArithmeticError">

        <Trigger>Percent change calculations involving consecutive years or periods, particularly when assessing shifts in financial metrics such as operating companies' income or loss attributable to specific product segments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent changes between two periods, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is correctly applied, paying close attention to the order of subtraction and the division by the original value to avoid arithmetic hallucination or logic failure.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving monetary values from different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed with precise arithmetic operations, considering the exact values of the previous and current periods, and rounded appropriately to match the required precision level.</Action>

    </Rule>
<Rule id="2395" phase="generation" confidence="1" source="log_2395" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving long-term debt and total contractual obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and rounding when calculating percentages, especially when dealing with financial metrics such as long-term debt and total contractual obligations, by verifying that the numerator and denominator are correctly identified and that the division result is properly rounded to the required precision.</Action>

    </Rule>
<Rule id="1" phase="calculation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total value from granted options and weighted-average exercise price</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula is applied to calculate the total value, considering the multiplication of the number of granted options by the weighted-average exercise price, and then dividing by 1,000,000 to convert the result to millions, without introducing arithmetic errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticError">
        <Trigger>Calculation of averages from a series of financial data points</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all values are correctly summed and then divided by the total number of values to calculate averages, considering both positive and negative values accurately.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculation is required, but the model responds with an absolute value instead of a percentage change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating increase or decrease over time, ensure to check if the question asks for a percentage or absolute change and respond accordingly, applying the correct formula: ((New Value - Old Value) / Old Value) * 100 for percentage change.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage change in net revenue due to a specific factor, such as purchased power capacity, yields an implausible or negative result.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change due to a specific factor involves correctly identifying the total change in net revenue and accurately attributing the portion of this change to the specified factor, using the formula: (change due to factor / total change in net revenue) * 100.</Action>

    </Rule>
<Rule id="2401" phase="generation" confidence="1" source="log_2401" type="ContextMisinterpretation">

        <Trigger>When calculating the difference in square feet between two regions, and the model response is a negative number or does not align with the context of the question asked.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation directly addresses the question's context by identifying the relevant regions and the specific type of space (owned, leased, or total) being compared. KNOWLEDGE INJECTION: Verify that the calculation is based on the correct categories of space (e.g., owned, leased) as mentioned in the question to provide an accurate comparison.</Action>

    </Rule>
<Rule id="2401" phase="generation" confidence="1" source="log_2401" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a total, especially in a context involving geographic distribution or categorization.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages is performed by dividing the specific category's total by the overall total and then multiplying by 100, to avoid arithmetic hallucination and ensure accurate representation of proportions.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_log" type="ProgramLogicFailure">
        <Trigger>Calculation of change in financial values between two periods for a specific category</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always ensure that calculations of changes in financial values are performed by subtracting the initial period's value from the final period's value for the specified financial category, considering all relevant data points provided for that category.</Action>
    </Rule>
<Rule id="2403" phase="generation" confidence="1" source="log_2403" type="Arithmetic Hallucination and Context Misinterpretation">

        <Trigger>Presence of lease obligations with specific amounts due to assets under construction, and requirement to calculate payments not due to such assets.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating lease payments not due to assets under construction, ensure to subtract the amount related to assets under construction only from the capital lease obligations, not from the total of both capital and operating lease obligations. KNOWLEDGE INJECTION: Distinguish between capital and operating lease obligations and apply adjustments related to assets under construction to the relevant category only.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic Hallucination">

        <Trigger>When calculating the total amount of unvested shares, the model fails to consider the context of the question and incorrectly adds the number of shares for each year without considering the weighted-average grant-date fair value or other relevant factors.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating totals or aggregates from time-series data, all relevant factors such as weighted averages, fair values, or other contextual information are properly considered and integrated into the calculation to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_error_analysis" type="Program Logic Failure">

        <Trigger>When the model is faced with a question about the total amount of unvested shares gifted by the company over a period, it fails to apply the correct methodology for calculating such totals, leading to an incorrect sum.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation methodology matches the requirements of the question, taking into account all provided data points such as the number of shares and their respective values at different time points, to ensure an accurate computation of totals over a specified period.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_error_analysis" type="Incorrect Context Retrieval">

        <Trigger>The model incorrectly identifies the relevant data for calculating the total amount of unvested shares, potentially ignoring crucial details such as changes in the unvested share-based awards over the years or misinterpreting the provided data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Before performing calculations, ensure that all relevant contextual information is correctly identified and retrieved, including but not limited to, the number of shares, their fair values, and any changes in these metrics over the specified time period, to provide an accurate basis for computation.</Action>

    </Rule>
<Rule id="2405" phase="generation" confidence="1" source="log_2405" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of outstanding amounts under a credit facility</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the outstanding amount by the total credit facility amount and then multiplying by 100, without introducing incorrect assumptions or rounding prematurely</Action>

    </Rule>
<Rule id="2406" phase="generation" confidence="1" source="log_2406" type="Arithmetic_Hallucination">

        <Trigger>When calculating the net change in a financial metric, such as unrecognized tax benefits, between two time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation subtracts the later value from the earlier value to determine the net change, considering the direction of the change (increase or decrease) to assign the correct sign to the result.</Action>

    </Rule>
<Rule id="2407" phase="generation" confidence="1" source="log_2407" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth or change in a financial value over a period, such as a year, given initial and final balances.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always subtract the initial balance from the final balance to calculate the growth, ensuring that the correct mathematical operation is applied to derive the change in value over the specified period.</Action>

    </Rule>
<Rule id="2408" phase="generation" confidence="1" source="log_2408" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of total purchase consideration composed of goodwill, and the model response differs significantly from the correct answer, indicating a possible arithmetic error.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages are performed by dividing the component value by the total value and then multiplying by 100, and verify that the decimal places are correctly handled to avoid precision errors.</Action>

    </Rule>
<Rule id="2409" phase="generation" confidence="1" source="log_2409" type="Arithmetic_Hallucination">

        <Trigger>Identification of change in financial metrics, such as pre-tax earnings, between two periods, where the model's response does not match the expected calculation based on provided numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in financial metrics, the correct arithmetic operation (addition or subtraction) is applied, considering the context of the question (e.g., increase or decrease) and verify that the calculation is performed in the correct direction (i.e., later year's value minus earlier year's value for decreases, or earlier year's value minus later year's value for increases, depending on the context of increase or decrease in the question).</Action>

    </Rule>
<Rule id="2411" phase="generation" confidence="1" source="log_2411" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of total future minimum lease payments, ensure all components of the total are correctly identified and summed.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant lease payments, including both capital and non-cancellable operating leases for the specified year, are included in the calculation of total future minimum lease payments before computing percentages.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">
        <Trigger>Ratio calculations involving annual maturities on long-term debt across consecutive years</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure accurate division of corresponding annual maturities by correctly identifying and pairing the respective years' values, avoiding any simplification that might lead to incorrect ratio calculations</Action>
    </Rule>
<Rule id="2412" phase="generation" confidence="1" source="log_2412" type="Arithmetic Hallucination">

        <Trigger>Calculating average compensation and benefits per head count when total compensation and benefits and total staff are provided</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that total compensation and benefits are divided by total staff to calculate average compensation and benefits per head count, considering the units of measurement and performing the necessary unit conversions before final calculation</Action>

    </Rule>
<Rule id="2413" phase="generation" confidence="1" source="log_2413" type="Program Logic Failure">

        <Trigger>Failure to perform division operation correctly when calculating ratios or averages in financial data</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model performs the correct mathematical operations for calculating averages, ensuring that the divisor is not zero and that the division result is accurately calculated and represented</Action>

    </Rule>
<Rule id="2414" phase="generation" confidence="1" source="log_2414" type="Incorrect Context Retrieval">

        <Trigger>Incorrect retrieval or application of context-specific data such as units of measurement or time periods when calculating financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the model accurately retrieves and applies context-specific data, including units of measurement and time periods, to ensure that calculations are performed on the correct data and that results are accurately interpreted and represented</Action>

    </Rule>
<Rule id="2413" phase="generation" confidence="1" source="log_2413" type="Arithmetic_Hallucination">

        <Trigger>When calculating average volatility values from a given range, especially in financial contexts such as valuing employee stock purchase rights.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of averages from given percentage ranges involves correctly interpreting the range as the sum of the lower and upper bounds divided by 2, and apply this method consistently across different years or contexts to maintain accuracy and avoid hallucinated arithmetic results.</Action>

    </Rule>
<Rule id="2414" phase="generation" confidence="1" source="log_2414" type="Arithmetic_Hallucination">

        <Trigger>Presence of aggregate purchase price or total cost in the context, alongside specific numbers or financial terms that might be misinterpreted as the final answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model verifies if the provided numbers are part of a larger calculation or represent a total, and apply the correct arithmetic operations as per the context before generating the final response.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple time periods or values, particularly when determining year-over-year changes in financial metrics such as commercial mortgage recourse obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the old and new values are correctly identified and matched to their respective time periods before performing the calculation.</Action>

    </Rule>
<Rule id="2417" phase="generation" confidence="1" source="log_2417" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a total based on given context, and the model's response does not match the ground truth calculated from provided numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that percentages are calculated by dividing the specific subset by the total and then multiplying by 100, rounding the result to the nearest whole number or as contextually appropriate, without introducing extraneous calculations or assumptions not supported by the given context.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="precision_analysis" type="ArithmeticPrecisionError">
        <Trigger>Financial calculations involving percentages or ratios</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial calculations are performed with precise arithmetic operations, and the final results are rounded according to the expected precision of the answer or the context's requirements.</Action>
    </Rule>
<Rule id="2418" phase="generation" confidence="1" source="log_2418" type="RoundingError">

        <Trigger>Calculations involving percentage changes in financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all calculated percentage changes are rounded to the appropriate number of decimal places as per the financial context or reporting standards</Action>

    </Rule>
<Rule id="2420" phase="generation" confidence="1" source="log_2420" type="Arithmetic Hallucination">

        <Trigger>Exclusion of specific financial items or adjustments in calculating net income, where the model fails to account for the exclusion correctly.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating net income and excluding specific items, ensure all relevant financial components mentioned are correctly adjusted for, including subtracting recognized items from the given net income to arrive at the correct figure.</Action>

    </Rule>
<Rule id="001" phase="calculation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percent change between two time periods in financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percent change calculation is performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the values are correctly extracted from the context before calculation.</Action>

    </Rule>
<Rule id="2421" phase="generation" confidence="1" source="log_2421" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total proved undeveloped reserves, especially when comparing reserves from different regions or time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of percentages is based on the correct total value and the correct subset value, taking into account the specific context and time frame mentioned in the question, and perform the calculation as (subset value / total value) * 100 to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Recognition of expense related to stock-based payments and calculation of deemed fair value per share</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated deemed fair value per share is appropriately rounded and formatted as a numerical value without decimal points, unless explicitly stated otherwise in the context, to prevent incorrect representation of the result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Calculation of debt ratios involving large numbers and precision</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding only at the final step of calculation, avoiding intermediate rounding that may lead to cumulative errors</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage change between two consecutive time periods, particularly when determining the increase or decrease in financial metrics such as carrying amounts on a balance sheet.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the arithmetic operations are executed with precise decimal handling to avoid rounding errors, especially when the differences are small or the values are large.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When the model is asked to report a specific financial value in a context where units (such as millions or dollars) are mentioned, and the model responds with a value that seems to ignore the context of units or scales.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly interprets and applies the unit context (e.g., millions, dollars) when providing financial values to avoid scaling errors. KNOWLEDGE INJECTION: Verify that the training data includes a variety of unit contexts to improve the model's ability to generalize and apply appropriate scaling factors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="annualized_return_calculation" type="ArithmeticHallucination">
        <Trigger>Calculation of annualized return for a multi-year investment period with reinvested dividends</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that annualized return calculations correctly account for compounding over multiple years and properly incorporate the effect of reinvested dividends, using the formula for compound annual growth rate (CAGR) that considers the initial and final values of the investment, adjusted for reinvested dividends.</Action>
    </Rule>
<Rule id="1001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculations involving percentage changes in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations follow the formula ((New Value - Old Value) / Old Value) * 100, with precise arithmetic operations to avoid rounding errors during intermediate steps.</Action>
    </Rule>
<Rule id="2428" phase="generation" confidence="1" source="log_2428" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentual return for a given period, involving comparison of initial and final values of an index or investment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentual returns, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, taking into account the proper identification of the old and new values for the specified time period.</Action>

    </Rule>
<Rule id="2430" phase="generation" confidence="1" source="log_2430" type="Arithmetic Hallucination">

        <Trigger>Calculation of mathematical mean for multiple investments over a period of time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all investment values are accurately summed and then divided by the total number of investments to calculate the mean, avoiding any arithmetic hallucination by verifying the calculation steps.</Action>

    </Rule>
<Rule id="2430" phase="generation" confidence="1" source="log_2430" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving negative numbers or large changes in financial metrics, such as investment income or losses, between two periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and be mindful of the sign of the result to accurately reflect increases or decreases, especially in cases involving significant changes or negative values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Hallucination">

        <Trigger>Percentage of net reclassifications within a specific portfolio is given, and the total net reclassifications for that year are also provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the dollar amount for a specific category (e.g., commercial portfolio) of net reclassifications, ensure to apply the given percentage to the total net reclassifications for that year to obtain the correct amount, rather than relying on incorrect assumptions or unrelated data.</Action>

    </Rule>
<Rule id="2432" phase="generation" confidence="1" source="log_2432" type="Arithmetic Hallucination">

        <Trigger>Calculations involving total cash used for share repurchases, where the model provides a response that does not accurately reflect the product of the total number of shares purchased and the average price paid per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the total cash used for the repurchase of shares, the model accurately multiplies the total number of shares (or units) purchased by the average price paid per share (or unit), and then correctly converts the result to the desired unit (e.g., millions) without introducing rounding errors prematurely.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage changes or increases in financial metrics, such as rent expense, across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentage change is performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage, rather than merely subtracting the initial from the final value or performing an incorrect arithmetic operation</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate involving percentages and numerical values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating growth rates, percentages are properly converted to decimal form and applied correctly to the base value, considering whether the percentage represents an increase, decrease, or a percentage of the total, to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing handling of negative growth rates or percentage changes</Trigger>

        <Action>KNOWLEDGE INJECTION: Implement logic to recognize and correctly calculate growth rates that result in negative percentages, indicating a decrease, to prevent program logic failures in financial reasoning tasks.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Failure to identify relevant data points for growth rate calculation, such as base year value and current year value</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the context provided includes both the initial and final values necessary for calculating growth rates, and ensure these values are correctly identified and applied in the calculation to avoid errors due to incorrect context retrieval.</Action>

    </Rule>
<Rule id="FIN001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticLogicFailure">
        <Trigger>Calculation of net change in financial obligations over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that net change calculations involve subtracting the starting value of the period from the ending value of the period, considering the direction of change (increase or decrease) to determine the correct sign of the result.</Action>
    </Rule>
<Rule id="2437" phase="generation" confidence="1" source="log_2437" type="arithmetic_hallucination">
        <Trigger>Calculation of percentages involving multiple components (e.g., cash, cash equivalents, short-term investments) in financial statements.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all components (domestic and foreign) are accurately summed to determine the total before calculating percentages to avoid arithmetic errors.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation involving financial units (e.g., dollars, millions of dollars) in share purchase contexts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all calculations maintain consistency in units of measurement, and verify that the final answer's unit aligns with the context provided in the question or problem statement</Action>
    </Rule>
<Rule id="2439" phase="generation" confidence="1" source="log_2439" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total future minimum lease payments due in a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total due in the specified year is calculated by summing the portions due for both operating and capital leases, and then divide by the total minimum lease payments to obtain the percentage.</Action>

    </Rule>
<Rule id="2440" phase="generation" confidence="1" source="log_2440" type="Program_Logic_Failure">

        <Trigger>Determining the total minimum lease payments and portions due in a specific year</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation of total minimum lease payments includes both operating and capital leases, and that the portions due in the specified year are accurately identified and summed before calculating the percentage.</Action>

    </Rule>
<Rule id="2441" phase="generation" confidence="1" source="log_2441" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving relevant data for calculating percentages of total future minimum lease payments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that all necessary data, including total minimum lease payments for operating and capital leases, and the portions due in the specified year, are correctly retrieved and applied in the calculation to avoid omitting crucial information.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Encountering a calculation involving large numbers and decimal points in financial transactions, particularly in share repurchases or similar equity security purchases.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all numerical values are correctly formatted and calculations are performed with proper consideration of decimal points and significant figures to avoid arithmetic hallucination, especially when multiplying large numbers with decimal values.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>Calculations involving the multiplication of share quantities and average prices to determine total expenditure.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation logic correctly applies the formula for total expenditure (i.e., quantity * price) and ensures that the result is accurately represented without introducing unnecessary or incorrect digits, focusing on the precision of financial data.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="log_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving and applying relevant financial data from the context, such as average share price and number of shares repurchased.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all contextually relevant numerical data (e.g., share quantities, average prices) are correctly identified, extracted, and applied to calculations, avoiding any confusion or misinterpretation of the given financial information.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total maturities of long-term debt and capital lease obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages is based on accurate identification and summation of relevant components, including proper consideration of timeframes and categories of debt obligations, before final calculation</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis_log" type="Program_Logic_Failure">

        <Trigger>Incorrect allocation or prioritization of debt obligations by maturity year</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating percentages of debt obligations payable after a specific year, ensure that all relevant debt obligations are correctly categorized by their maturity years and that the calculation reflects the proper proportion of obligations payable after the specified year relative to the total</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">
        <Trigger>Calculation of differences between financial metrics across different years or periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the direction of calculation for differences is correctly applied based on the context, and verify that subtraction operations are performed with attention to the order of operands to reflect the intended comparison (e.g., increase, decrease, or net change).</Action>
    </Rule>
<Rule id="2442" phase="generation" confidence="1" source="log_2442" type="Arithmetic_Hallucination">

        <Trigger>Calculating average values from multiple data points over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points are summed and then divided by the total number of data points to calculate the average, avoiding arithmetic hallucination by verifying the intermediate calculations.</Action>

    </Rule>
<Rule id="2443" phase="generation" confidence="1" source="log_2443" type="ArithmeticError">

        <Trigger>Calculation of percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the percentage decrease, subtract the later value from the earlier value and divide by the earlier value, then multiply by 100, and retain the negative sign if the result represents a decrease</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ScalingError">
        <Trigger>Calculations involving financial metrics (e.g., expenses, recoveries) that require unit consistency (e.g., millions, thousands, dollars).</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that units of measurement (e.g., millions, thousands) are consistently applied in calculations to prevent scaling errors. KNOWLEDGE INJECTION: Verify that the model understands the context of units mentioned in the problem statement to accurately compute financial metrics.</Action>
    </Rule>
<Rule id="2445" phase="generation" confidence="1" source="log_2445" type="Arithmetic_Hallucination">

        <Trigger>Multiple segment revenues are provided with their respective percentages and previous year's values, but the model's response does not accurately reflect the sum of these segments.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all segment revenues mentioned in the context are summed accurately, taking into account any overlapping or distinct categories, to calculate the total segment revenue.</Action>

    </Rule>
<Rule id="2446" phase="generation" confidence="1" source="log_2446" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving tax rates or percentages based on pretax and after-tax values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that tax rates are calculated as (pretax - after-tax) / pretax, considering the correct formula for percentage calculation to avoid arithmetic errors</Action>

    </Rule>
<Rule id="2447" phase="generation" confidence="1" source="log_2447" type="Arithmetic_Hallucination">

        <Trigger>Computed expected tax change calculation between two years where the model response contains a decimal point but the expected answer does not, indicating a potential unit or scaling issue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in financial metrics, such as taxes, the units (e.g., millions, thousands) are properly accounted for and consistently applied across the calculation to avoid scaling errors, especially when the context implies a specific unit of measurement for the answer.</Action>

    </Rule>
<Rule id="2448" phase="generation" confidence="1" source="log_2448" type="ArithmeticCalculationError">
        <Trigger>Percentage change calculations involving multiple financial indices or stocks over a specified period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage change as ((EndValue - StartValue) / StartValue) * 100 for each entity, and then find the difference between these calculated percentages to compare changes between different entities</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_precision_error" type="ArithmeticError">
        <Trigger>Calculation of percentage growth or change in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure calculations of percentage changes are rounded appropriately to match the context's required precision, typically to one or two decimal places for financial data, to avoid arithmetic errors due to premature rounding.</Action>
    </Rule>
<Rule id="FINQA_CALC_001" phase="generation" confidence="1" source="log_finqa_calc" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change in financial metrics, such as investment exposure.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the percentage change formula correctly as ((New Value - Old Value) / Old Value) * 100, ensuring that all values are correctly identified and calculated in the context of financial data analysis.</Action>
    </Rule>
<Rule id="2451" phase="generation" confidence="1" source="log_2451" type="Arithmetic_Hallucination">

        <Trigger>Calculation of differences between two financial values, especially when determining changes in cash flow over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure subtraction is correctly applied with respect to the order of years when calculating differences in financial metrics over time, taking care to maintain the correct sign (positive or negative) based on the direction of change</Action>

    </Rule>
<Rule id="2452" phase="generation" confidence="1" source="log_2452" type="ArithmeticHallucination">

        <Trigger>Calculations involving time periods or durations where the model's response deviates from the expected answer, indicating a potential miscalculation or incorrect assumption about the timeline or duration of an event or contract.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify the calculation methodology by ensuring that all relevant temporal information (e.g., start year, end year, license expiration dates) is correctly extracted and applied to determine durations or time periods, and cross-check the arithmetic operations involved in the calculation to prevent hallucination or errors in numerical computations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving specific numerical values from financial data, such as revenues or expenses, across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by applying the percentage change formula correctly: ((New Value - Old Value) / Old Value) * 100, and round the result appropriately based on the context or required precision.</Action>

    </Rule>
<Rule id="001" phase="evaluation" confidence="1" source="error_analysis" type="arithmetic_hallucination">

        <Trigger>Comparing historical financial data between a company and an index to determine relative performance over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating returns for comparison, ensure that the formula used accurately reflects the percentage change over the specified period, taking into account the initial and final values of both the company and the index, and apply it consistently to both entities for a valid comparison.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="program_logic_failure">

        <Trigger>Encountering a question that requires a direct comparison between a company's financial performance metric (e.g., return) and that of an index over the same period.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the comparison is based on correctly calculated metrics for both the company and the index, using the same methodology for calculation, and that the conclusion drawn (e.g., "less than") is logically consistent with the calculated values.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving decimal values or minor differences between two consecutive numerical values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations, especially in percentage change calculations, by rounding only after final computation and verifying the number of significant figures required for the answer.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving historical data and fair value estimates</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the correct formula (New Value - Old Value) / Old Value, and verify the context to use the appropriate values for 'New Value' and 'Old Value', typically the most recent and preceding year's values respectively, without mistakenly using the wrong year's data or misinterpreting the question as asking for a different metric such as the fair value itself.</Action>

    </Rule>
<Rule id="2457" phase="generation" confidence="1" source="log_2457" type="Arithmetic_Hallucination">

        <Trigger>Comparison of percentage gains between investment in a specific stock and an index, where the model's response contains an incorrect calculation of the percentage increase.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage gain of an investment, ensure that the correct formula is applied: ((final_value - initial_value) / initial_value) * 100. KNOWLEDGE INJECTION: Verify that all values used in the calculation, including initial and final values of both the investment and the comparative index, are accurately retrieved and correctly applied in the formula.</Action>

    </Rule>
<Rule id="2458" phase="generation" confidence="1" source="log_2458" type="arithmetic_error">

        <Trigger>Percent change calculations involving time-series data, particularly when computing differences between consecutive years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result accurately reflects an increase or decrease, KNOWLEDGE INJECTION: Double-check the arithmetic operations to prevent sign errors or incorrect application of the formula</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Recognition of impairment charges in financial statements where the calculated percentage does not match the provided numbers, indicating a miscalculation or incorrect application of formulas.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages related to impairment charges, ensure that the formula correctly accounts for the relationship between the recognized impairment charge and the implied fair value of goodwill, by dividing the impairment charge by the goodwill value and then multiplying by 100 to obtain the percentage, thus avoiding arithmetic hallucination and ensuring accuracy in financial calculations.</Action>

    </Rule>
<Rule id="2460" phase="generation" confidence="1" source="log_2460" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values over multiple years or periods, and the model's response does not match the expected result from simple arithmetic operations on given numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of averages involves summing all relevant values and then dividing by the total count of values, without excluding or misinterpreting any part of the given data.</Action>

    </Rule>
<Rule id="2461" phase="generation" confidence="1" source="log_2461" type="Arithmetic_Hallucination">

        <Trigger>Calculating maximum change in share price during a specific quarter when given high and low values for that quarter and previous quarters</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for maximum change in share price is based on the difference between the high and low values of the same quarter, without considering values from other quarters unless explicitly required by the context</Action>

    </Rule>
<Rule id="2462" phase="generation" confidence="1" source="log_2462" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total long-term debt, especially after the implementation of new accounting standards or updates, and the model provides an answer that seems reasonable but does not accurately reflect the provided financial data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that the calculation of percentages from given financial data involves accurately identifying the relevant numerator and denominator and applying the correct formula, double-checking units and ensuring consistency in the treatment of negative numbers or adjustments due to accounting standards updates.</Action>

    </Rule>
<Rule id="2463" phase="generation" confidence="1" source="log_2463" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of a total, ensure the context contains the required parts and the whole to perform the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation logic includes dividing the part by the whole and then multiplying by 100 to obtain the percentage, and that the result is correctly formatted as a percentage value.</Action>

    </Rule>
<Rule id="2464" phase="generation" confidence="1" source="log_2464" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of tax benefit compared to gross net operating loss, especially when the carryforward period is indefinite</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the tax benefit amount by the gross net operating loss amount and then multiplying by 100, rounding the result to the nearest whole number if necessary, while being mindful of the context and the specific financial terms involved</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating utilization of a facility, and the given answer is a specific number, but the context implies a percentage calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always determine the context of the question to identify whether the calculation requires a percentage or a specific value, and ensure that all relevant information (such as total facility amount and utilized amount) is correctly interpreted and applied to calculate the correct utilization percentage or amount.</Action>

    </Rule>
<Rule id="2467" phase="generation" confidence="1" source="log_2467" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of contractual obligations due within a specific timeframe, particularly when aggregating totals and subsets of obligations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that when calculating percentages of portions of total contractual obligations (such as operating lease obligations), divide the specific portion's value by the total value and then multiply by 100, rounding to the appropriate decimal place for the context, and verify the precision of the division to prevent rounding errors before final calculation</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="LogicFailure">
        <Trigger>Calculating percentage of total years' repurchases in a specific period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Verify if total shares purchased in the period match total shares under publicly announced plans before calculating percentage to ensure accurate determination of repurchase percentage.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating total estimated future benefit payments, multiple categories of pension plans are mentioned.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant categories of pension plans, including both U.S. and non-U.S. plans, are summed to calculate the total estimated future benefit payments, considering all specified amounts.</Action>

    </Rule>
<Rule id="2470" phase="generation" confidence="1" source="log_2470" type="Arithmetic Precision Error">

        <Trigger>Calculation of percentages from given totals, especially in financial contexts where precision is crucial, such as calculating the percent of the total number of shares purchased.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages from totals, ensure that rounding is applied consistently and as per the context's requirements, typically rounding to one decimal place for financial percentages to maintain precision and avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="2471" phase="generation" confidence="1" source="log_2471" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage change in revenue due to a specific factor, such as fuel recovery, where the result is a negative percentage indicating a decrease</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage of net change in revenue due to a specific factor, ensure that the sign of the change (increase or decrease) is correctly applied to the percentage calculation, and verify that the percentage is calculated as ((change due to factor / total change) * 100), considering the direction of change (increase or decrease) to avoid incorrect negative percentages when the factor contributes to an increase in revenue but the overall revenue decreases</Action>

    </Rule>
<Rule id="2471" phase="generation" confidence="1" source="log_2471" type="Arithmetic Hallucination">

        <Trigger>When calculating aggregate values from partially allocated components, especially in financial statements or reports.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure all allocated components are summed, and if a percentage of the total is given, calculate the total based on the percentage to verify the accuracy of the partial allocations before providing a final answer.</Action>

    </Rule>
<Rule id="2472" phase="generation" confidence="1" source="log_2472" type="ArithmeticError">
        <Trigger>Percentage change calculations involving financial metrics such as cash flow.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, applying precise arithmetic operations to avoid errors.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="UnitOmissionError">

        <Trigger>Percent calculations or answers that require unit specifications (e.g., percentages, currency) in financial questions</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always include the appropriate unit of measurement in the final answer when calculating percentages or when the question context implies a specific unit of measurement, such as percentages or currency, to ensure clarity and accuracy of the response.</Action>

    </Rule>
<Rule id="2474" phase="generation" confidence="1" source="log_2474" type="Arithmetic_Hallucination">

        <Trigger>Change calculations involving numerical values across different time periods, especially when comparing metrics such as rentable square feet between two consecutive years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all subtraction operations involving time-series data are performed with precise values and correctly account for any potential rounding differences that might arise from previous calculations, by reevaluating the original values provided for each time period before computing the difference.</Action>

    </Rule>
<Rule id="2475" phase="generation" confidence="1" source="log_2475" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values from a set of numbers over multiple periods, the model provides an incorrect response that does not match the actual average of the given data points.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points for the specified periods are correctly summed and then divided by the total number of periods to calculate the average, without introducing external biases or assumptions not supported by the provided data.</Action>

    </Rule>
<Rule id="2476" phase="generation" confidence="1" source="log_2476" type="ProgramLogicFailure">
        <Trigger>Comparative questions involving quantities or values</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure direct comparison of relevant values when answering questions that involve determining which of two or more entities has a greater, lesser, or equal quantity of something.</Action>
    </Rule>
<Rule id="2477" phase="generation" confidence="1" source="log_2477" type="ArithmeticHallucination">
        <Trigger>Calculating percent change between two values</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating the percent change, ensure to subtract the original value from the new value, then divide by the original value, and finally multiply by 100 to get the percentage change.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ProgramLogicFailure">

        <Trigger>When comparing the average daily variance by risk category for different financial metrics, such as interest rates and equity prices, to determine if one is greater than the other.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the comparison is made based on the calculated average daily variance values, not the absolute values of the financial metrics, and provide a qualitative answer (e.g., "yes" or "no") indicating whether one variance is greater than the other.</Action>

    </Rule>
<Rule id="2480" phase="generation" confidence="1" source="log_2480" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage decline in financial metrics, such as net revenue, where the model provides a response that is close to but not exactly equal to the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by rounding only at the final step of calculation, and verify that the calculation is performed with sufficient decimal precision to avoid truncation errors, especially when calculating percentages or ratios from given numerical values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of percentages from given data, especially in contexts involving gains and losses over a period.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentages are calculated by correctly identifying the numerator (relevant instances, e.g., days with losses) and the denominator (total instances, e.g., total trading days), and apply the formula: (numerator / denominator) * 100.</Action>
    </Rule>
<Rule id="2481" phase="generation" confidence="1" source="log_2481" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving two different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed as ((New Value - Old Value) / Old Value) * 100 to avoid arithmetic hallucination and obtain the correct percentage change between two time periods</Action>

    </Rule>
<Rule id="2482" phase="generation" confidence="1" source="log_2482" type="Arithmetic_Hallucination">

        <Trigger>Amortization cost calculation for intangible assets</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating amortization costs, ensure that the asset's value is correctly identified and divided by the amortization period, without including unrelated financial figures in the calculation</Action>

    </Rule>
<Rule id="2483" phase="generation" confidence="1" source="log_2483" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of totals for specific categories, especially in contexts involving financial data over multiple years or categories.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure to accurately calculate percentages by dividing the specific category value by the total value for the respective year or category and then multiplying by 100, avoiding any form of arithmetic hallucination or incorrect rounding.</Action>

    </Rule>
<Rule id="2485" phase="generation" confidence="1" source="log_2485" type="Arithmetic Hallucination">

        <Trigger>When calculating the total number of securities to be issued and the context mentions multiple categories of securities, including those to be issued upon exercise of outstanding options, warrants, and rights, and those remaining available for future issuance under equity compensation plans.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant categories of securities are summed, including but not limited to, securities to be issued upon exercise of outstanding options, warrants, and rights, and those remaining available for future issuance under equity compensation plans, before providing the final answer.</Action>

    </Rule>
<Rule id="2485" phase="generation" confidence="1" source="log_2485" type="Arithmetic_Hallucination">

        <Trigger>Calculation of cumulative total return over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all intermediate values are correctly calculated and that the final result is determined by comparing the initial and final values in the sequence, taking into account any potential negative returns that may affect the overall cumulative return.</Action>

    </Rule>
<Rule id="2486" phase="generation" confidence="1" source="log_2486" type="Program_Logic_Failure">

        <Trigger>Sequence of financial data points over time</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating cumulative returns, verify that the logic accounts for decreases in value as well as increases, and apply the correct formula to avoid misunderstanding the direction of change in financial metrics.</Action>

    </Rule>
<Rule id="2487" phase="generation" confidence="1" source="log_2487" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieval of historical financial data for calculations</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the context used for calculations includes all relevant data points within the specified timeframe and that the data points are correctly associated with their respective time periods to ensure accurate calculations.</Action>

    </Rule>
<Rule id="2487" phase="generation" confidence="1" source="log_2487" type="ProgramLogicFailure">
        <Trigger>Calculations involving percentage growth over multiple years</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate percentage change by dividing the difference between the final and initial values by the initial value, then multiply by 100, to ensure accurate percentage growth calculations.</Action>
    </Rule>
<Rule id="2487" phase="generation" confidence="1" source="log_2487" type="Arithmetic Hallucination">

        <Trigger>Discrete tax benefits and valuation allowances are mentioned in the context, and the model is required to calculate a percentage of the company's valuation allowance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of a company's valuation allowance, ensure that the correct base value is used. KNOWLEDGE INJECTION: Identify the period's ending balance as the base for calculating the percentage, rather than the beginning balance or an unrelated value.</Action>

    </Rule>
<Rule id="2488" phase="generation" confidence="1" source="log_2488" type="ArithmeticError">

        <Trigger>Percentage change calculations involving multiple years of financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure that the difference between the two values is calculated first, and then this difference is divided by the original value, not the final value, and finally multiplied by 100 to obtain the percentage change.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculation of growth rate or percentage change in financial metrics such as interest rates.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that growth rates are calculated as the percentage change relative to the original value, using the formula: ((New Value - Old Value) / Old Value) * 100, rather than merely subtracting the old value from the new value.</Action>
    </Rule>
<Rule id="2490" phase="generation" confidence="1" source="log_2490" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the growth rate calculation is performed by subtracting the earlier year's value from the later year's value, then dividing by the earlier year's value, and finally multiplying by 100 to obtain the percentage change.</Action>

    </Rule>
<Rule id="2491" phase="generation" confidence="1" source="log_2491" type="Program_Logic_Failure">

        <Trigger>Retrieval of relevant financial data for growth rate calculation</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the correct and relevant financial data points are retrieved for both the base and comparison years, ensuring that the calculation is based on the most accurate and applicable figures.</Action>

    </Rule>
<Rule id="2492" phase="generation" confidence="1" source="log_2492" type="Incorrect_Context_Retrieval">

        <Trigger> Identification of operating income values for consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the operating income values used in the calculation correspond to the correct years and are not confused with other financial metrics or years, ensuring that the context is accurately applied.</Action>

    </Rule>
<Rule id="2491" phase="generation" confidence="1" source="log_2491" type="ProgramLogicFailure">
        <Trigger>Calculation of averages from given data points in financial contexts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all data points are summed and then divided by the total number of points when calculating averages to avoid logic errors</Action>
    </Rule>
<Rule id="2492" phase="generation" confidence="1" source="log_2492" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving multiple regional totals and architecture values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages from regional totals and specific architecture values, all relevant values are accurately summed and divided, considering potential rounding differences that may arise from the division operation</Action>

    </Rule>
<Rule id="2493" phase="generation" confidence="1" source="log_2493" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal results</Trigger>

        <Action>CRITICAL FORMATTING RULE: Round calculated percentage changes to the nearest whole number or to a specific decimal place as required by the context to avoid precision errors</Action>

    </Rule>
<Rule id="2494" phase="generation" confidence="1" source="log_2494" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation in financial comparisons, especially when determining the biggest decline among multiple groups over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that percentage calculations are correctly formatted with the percentage sign (%) and that the calculation itself is performed based on the actual difference in values over the specified period, rather than an absolute comparison. KNOWLEDGE INJECTION: Verify that the formula used for percentage change is ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic hallucination and ensure accurate financial analysis.</Action>

    </Rule>
<Rule id="2496" phase="generation" confidence="1" source="log_2496" type="ArithmeticError">

        <Trigger>Percentage change calculations involving negative numbers or decreases in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, considering the sign of the change to accurately reflect increases or decreases</Action>

    </Rule>
<Rule id="2496" phase="generation" confidence="1" source="log_2496" type="Arithmetic_Hallucination">

        <Trigger>Calculation of averages or totals from a series of expenditures or financial data points</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant data points are accurately summed before performing division or other arithmetic operations to calculate averages or totals, and verify that the correct number of data points is used in the calculation</Action>

    </Rule>
<Rule id="2497" phase="generation" confidence="1" source="log_2497" type="Program_Logic_Failure">

        <Trigger>Inclusion of all expenditures or financial data points in calculations, especially when totals are provided separately</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that pre-calculated totals may be provided separately and can be used directly for calculations such as averages, rather than manually summing individual data points</Action>

    </Rule>
<Rule id="2500" phase="generation" confidence="1" source="log_2500" type="ArithmeticHallucination">
        <Trigger>Calculation of ratios involving financial data, such as curtailment losses to termination benefits</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial ratios are calculated using accurately extracted and correctly identified figures, with precise arithmetic operations performed on these figures.</Action>
    </Rule>
<Rule id="2499" phase="generation" confidence="1" source="log_2499" type="ArithmeticHallucination">
        <Trigger>Calculation of differences or ranges between financial values, especially in contexts involving carrying and fair values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Provide the numerical result of financial subtractions without appending units unless explicitly requested by the question context.</Action>
    </Rule>
<Rule id="2500" phase="generation" confidence="1" source="log_2500" type="Arithmetic_Hallucination">

        <Trigger>When calculating the proportion of a specific expense to a total loss, especially in financial contexts involving mark-to-market losses and costs of goods sold.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the proportion of an expense (such as cost of goods sold) to a total (such as net mark-to-market loss) involves correctly dividing the specific expense by the total loss and then multiplying by 100 to obtain the percentage, without omitting any components of the total loss or incorrectly calculating the division.</Action>

    </Rule>
<Rule id="2500" phase="generation" confidence="1" source="log_2500" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of contractual obligations for future payments, especially when dealing with long-term debt maturities and total contractual obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of components within total contractual obligations, the correct values for both the component (e.g., maturities of long-term debt) and the total contractual obligations are used, and the calculation is performed as (component / total) * 100 to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="2501" phase="generation" confidence="1" source="log_2501" type="PrecisionError">
        <Trigger>Financial percentage calculations requiring rounding to a specific decimal place</Trigger>
        <Action>CRITICAL FORMATTING RULE: Round financial percentage calculations to the implied number of decimal places based on the context, typically one decimal place unless specified otherwise.</Action>
    </Rule>
<Rule id="2502" phase="generation" confidence="1" source="log_2502" type="Arithmetic_Hallucination">

        <Trigger>Calculation of portion or percentage of a total, especially when dealing with quantities that have been authorized, issued, or remaining under plans like the LTI plan.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating portions or percentages, ensure to accurately subtract the available or remaining quantity from the total authorized quantity to find the issued quantity, and then calculate the percentage by dividing the issued quantity by the total authorized quantity and multiplying by 100, taking into account any rounding that may be necessary for the final percentage calculation.</Action>

    </Rule>
<Rule id="2503" phase="generation" confidence="1" source="log_2503" type="Arithmetic_Hallucination">

        <Trigger>Calculating the highest return for a specific year of investment, where the model response does not accurately reflect the percentage change from the initial value to the final value for that year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating the return for a specific year, the model accurately applies the formula for percentage change, which is ((final value - initial value) / initial value) * 100, and selects the correct initial and final values for the specified year.</Action>

    </Rule>
<Rule id="2504" phase="generation" confidence="1" source="log_2504" type="Arithmetic_Hallucination">

        <Trigger>Comparison of cumulative total return between a company's stock and a market index, where the model calculates the percentage return of the company but fails to compare it correctly with the market index return.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the percentage return of a company's stock in comparison to a market index, ensure that the returns are calculated over the same period for both the company and the index, and then find the difference in returns to determine the outperformance or underperformance of the company relative to the market.</Action>

    </Rule>
<Rule id="2505" phase="generation" confidence="1" source="log_2505" type="Program_Logic_Failure">

        <Trigger>Calculation of percentage return difference between a company and a market index, where the model incorrectly computes the final percentage return difference or misunderstands the concept of "beating" the market.</Trigger>

        <Action>KNOWLEDGE INJECTION: To calculate if a company beats the overall market, first, compute the total return for both the company and the market index over the specified period. Then, find the percentage return for each. Finally, subtract the market's percentage return from the company's percentage return to find the percentage by which the company outperformed or underperformed the market.</Action>

    </Rule>
<Rule id="2505" phase="generation" confidence="1" source="log_2505" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rates involving percentages or financial metrics, especially when comparing sequential years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by re-evaluating the formula used for calculating growth rates, considering the possibility of rounding errors and verifying that all relevant factors are accurately included in the calculation</Action>

    </Rule>
<Rule id="2506" phase="generation" confidence="1" source="log_2506" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates involving percentage change between two consecutive years, especially when the context involves financial metrics such as revenue.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, paying special attention to the precise values used for "New Value" and "Old Value" to avoid arithmetic errors or incorrect rounding.</Action>

    </Rule>
<Rule id="2507" phase="generation" confidence="1" source="log_2507" type="IncorrectContextRetrieval">
        <Trigger>Calculations involving percentages of specific portions of contractual obligations out of total obligations.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that calculations for percentages of contractual obligations accurately identify and utilize the correct specific portion's total and the overall total of such obligations across all relevant periods.</Action>
    </Rule>
<Rule id="2508" phase="generation" confidence="1" source="log_2508" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of payments or amounts to be paid after a specific year, and the context provides a total amount and a thereafter amount.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation considers the proportion of the thereafter amount to the total amount when determining the percentage of payments to be made after a specific year, without assuming payments stop at the end of the specified year unless explicitly stated.</Action>

    </Rule>
<Rule id="2509" phase="generation" confidence="1" source="log_2509" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving time-series data, especially when computing year-over-year changes in financial metrics such as open claims ending balances.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied accurately, avoiding rounding errors by maintaining precise arithmetic operations until the final result is obtained.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_analysis" type="ProgramLogicFailure">
        <Trigger>Calculation of lowest return for an investment period</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always calculate the percentage change for each investment/index from the start to the end of the specified period to determine returns, and then compare these changes to identify the lowest return.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="financial_reasoning_log" type="CalculationError">
        <Trigger>Calculation of net change in cash</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all operating, investing, and financing activities for the given year are accurately summed to calculate the net change in cash.</Action>
    </Rule>
<Rule id="2512" phase="generation" confidence="1" source="log_2512" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving two distinct time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage change, ensure the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly, and verify that the result is expressed as a percentage, rounding appropriately if necessary</Action>

    </Rule>
<Rule id="2513" phase="generation" confidence="1" source="log_2513" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two financial periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is executed accurately to avoid rounding errors</Action>

    </Rule>
<Rule id="2514" phase="generation" confidence="1" source="log_2514" type="ArithmeticHallucination">

        <Trigger>Calculating percentage increase between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When computing percentage changes, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied accurately, and the result is rounded correctly to the required precision, avoiding potential arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="2515" phase="generation" confidence="1" source="log_2515" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages or proportions of a total, especially in the context of geographic or categorical distributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated value is properly formatted as a percentage by appending the appropriate percentage symbol (%) to the result, unless explicitly instructed otherwise by the question context.</Action>

    </Rule>
<Rule id="2517" phase="generation" confidence="1" source="log_2517" type="ArithmeticHallucination">

        <Trigger>When calculating profit margins, ensure all relevant financial figures are accurately retrieved and applied to the formula.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the profit margin calculation is performed by dividing the operating profit by the sales figure for the respective year, and then multiplying by 100 to obtain the percentage, to prevent arithmetic hallucination errors.</Action>

    </Rule>
<Rule id="2518" phase="generation" confidence="1" source="log_2518" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of total commercial commitments, especially when specific categories like the sale of receivables are involved</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the correct formula is applied by dividing the part by the whole and then multiplying by 100, without rounding prematurely, and verify that the context clearly defines what constitutes the 'whole' in the calculation to avoid incorrect totals</Action>

    </Rule>
<Rule id="2519" phase="generation" confidence="1" source="log_2519" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving owned and leased facilities' square footage</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation of owned facilities' square footage is performed by dividing the total square footage of owned facilities by the sum of the total square footage of both owned and leased facilities, and then multiplying by 100 to obtain the correct percentage.</Action>

    </Rule>
<Rule id="2520" phase="generation" confidence="1" source="log_2520" type="Arithmetic_Hallucination">

        <Trigger>When calculating total reduction in cost of sales over multiple fiscal years, and the context mentions both increases and decreases in different years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all changes (increases and decreases) to the cost of sales are correctly accounted for with appropriate signs (positive for increases, negative for decreases) before summing them up to find the total reduction or increase over the specified period.</Action>

    </Rule>
<Rule id="2520" phase="generation" confidence="1" source="log_2520" type="Arithmetic_Hallucination">

        <Trigger>When calculating growth rates or percentages, especially in the context of financial data spanning multiple periods, such as comparing asset allocations between two years.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant factors, including net inflows, outflows, acquisitions, market changes, and FX impacts, are accurately accounted for and calculated before determining the final growth rate or percentage change. KNOWLEDGE INJECTION: Apply the formula for percentage change correctly, which involves subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="2521" phase="generation" confidence="1" source="log_2521" type="Arithmetic_Hallucination">

        <Trigger>When calculating operating margins for a specific segment, and the model provides a response without explicit calculation steps shown.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always verify that the operating margin calculation is performed by dividing the segment's operating income by its net sales, and ensure this process is explicitly followed in the reasoning trace to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>Calculation of percentage or proportion of a total, especially in contexts involving geographic or categorical subsets of a larger data set.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that when calculating proportions or percentages, the correct formula is applied, specifically dividing the subset value by the total value and then multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the calculation directly addresses the question asked, using the correct subsets and totals provided in the context.</Action>

    </Rule>
<Rule id="2523" phase="generation" confidence="1" source="log_2523" type="Arithmetic_Hallucination">

        <Trigger>Amortization of deferred financing fees mentioned across multiple years in the context of interest expense and net loss or gain on extinguishment of debt.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all instances of amortization expenses across the relevant time period are accurately identified and summed to calculate the total deductible amount from future income tax due to amortization.</Action>

    </Rule>
<Rule id="2524" phase="generation" confidence="1" source="log_2524" type="FormattingError">
        <Trigger>Questions explicitly asking for percentages or ratios.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always include the appropriate unit (e.g., %) when the question context implies or directly asks for a percentage or ratio value.</Action>
    </Rule>
<Rule id="2525" phase="generation" confidence="1" source="log_2525" type="Arithmetic_Hallucination">

        <Trigger>When calculating differences or changes between two values, especially in the context of comparing metrics across different years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation respects the order of operations and correctly accounts for the subtraction direction (i.e., later year's value minus earlier year's value) to avoid sign errors, and verify that the result's sign is correctly interpreted as positive (increase) or negative (decrease).</Action>

    </Rule>
<Rule id="2526" phase="generation" confidence="1" source="log_2526" type="ArithmeticHallucinationAndLogicFailure">
        <Trigger>Calculation of range for financial metrics across multiple years</Trigger>
        <Action>CRITICAL FORMATTING RULE: Identify the maximum and minimum values of the metric across all specified years and subtract the minimum from the maximum to find the range.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculation between two periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage increase is calculated using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the numbers of shares purchased in the respective periods, to prevent arithmetic hallucination and ensure accurate calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculating percentage change between two time periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as (New Value - Old Value) / Old Value * 100, considering the appropriate rounding and significant figures for financial contexts.</Action>
    </Rule>
<Rule id="2530" phase="generation" confidence="1" source="log_2530" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving sequential year-on-year comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two consecutive years, ensure that the difference is computed as ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and verify that the arithmetic operations are executed in the correct order to prevent rounding errors.</Action>

    </Rule>
<Rule id="2531" phase="generation" confidence="1" source="log_2531" type="ArithmeticHallucination">

        <Trigger>When calculating percentages of total commercial commitments, the model provides a numerical value without considering the context of percentages, which require a percentage sign or a clear indication of the percentage value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when providing a numerical value as a percentage of a total, the response includes a percentage sign (%) or explicitly states that the value is a percentage to avoid confusion with absolute numerical values.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Comparison of financial values across different time periods to calculate percentage increase or absolute difference, where the model provides a numeric answer without showing the calculation steps or methodology.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes in financial metrics (such as percentage increase or absolute difference) between two time periods, the model performs the subtraction of the earlier value from the later value and, if required, calculates the percentage increase based on the earlier value. KNOWLEDGE INJECTION: Always verify that the calculation logic is sound and the answer is presented in the required format (e.g., including percentage increase if applicable).</Action>

    </Rule>
<Rule id="2532" phase="generation" confidence="1" source="log_2532" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving financial metrics such as debt, where the context provides initial and final values over a specified period.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula ((final_value - initial_value) / initial_value) * 100, and verify that the calculation correctly reflects the proportional change, avoiding simplistic or incorrect arithmetic operations that might lead to inaccurate results.</Action>

    </Rule>
<Rule id="2533" phase="generation" confidence="1" source="log_2533" type="Arithmetic Hallucination">

        <Trigger>Percentage increase calculations involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increases, ensure that the result is properly formatted as a percentage by appending the '%' symbol to the calculated value, and verify that the calculation correctly accounts for the difference between the two time periods in question.</Action>

    </Rule>
<Rule id="2534" phase="generation" confidence="1" source="log_2534" type="Arithmetic_Hallucination">

        <Trigger>When calculating the change in fair value of debt or any financial instrument over time, and the context provides initial and final values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of change in value is performed as a percentage or proportional change (final value - initial value) / initial value, rather than a simple subtraction, to maintain consistency in financial analysis and reporting.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total aggregate debt maturities due after a specific year, and the model provides an answer without showing explicit calculations or intermediate steps.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model explicitly calculates the total debt due after the specified year by summing the relevant debt maturities, then divides by the total aggregate debt, and finally multiplies by 100 to obtain the correct percentage.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis_log" type="Program Logic Failure">

        <Trigger>When the model responds with a percentage without considering the total debt and the debt due after the specified year, indicating a potential failure in logical reasoning or incorrect application of formulas.</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model applies the correct formula for percentage calculation, which involves dividing the part of the total (debt due after the specified year) by the whole (total aggregate debt) and then multiplying by 100, and ensure that this process is accurately represented in the model's logic.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis_log" type="Incorrect Context Retrieval">

        <Trigger>When the model's response suggests that it has not correctly retrieved or applied the context provided, such as misunderstanding the debt figures or the year in question.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately retrieves and applies the context by clearly defining the total aggregate debt and the specific year in question, and then applies this context to calculate the percentage of debt maturities due after that year.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of portion of total long-term borrowings due in a specific time frame</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula is applied to calculate the portion, which involves dividing the amount due in the specified time frame by the total long-term borrowings and then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Inclusion of all relevant debt components in the calculation of total long-term borrowings</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that all debt components with maturity dates within the specified time frame are considered, and their respective carrying values are accurately summed to determine the total amount due in that time frame.</Action>

    </Rule>
<Rule id="R003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Identification of the correct time frame for the calculation (e.g., next 24 months)</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the time frame specified in the question (in this case, the next 24 months) is correctly applied to filter the relevant debt components for the calculation, ensuring that only debts maturing within this period are considered.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in financial values between two periods, especially when dealing with reductions or increases in monetary amounts over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating changes in financial metrics such as loans or debts between two periods, ensure to subtract the earlier value from the later value correctly, considering the direction of change (increase or decrease) and applying the correct mathematical operation (subtraction for decreases, addition for increases) to derive the accurate change amount.</Action>

    </Rule>
<Rule id="2539" phase="generation" confidence="1" source="log_2539" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage values based on given numbers, especially when determining proportions of a total quantity.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations involving percentages are performed by dividing the part by the whole and then multiplying by 100, without introducing extraneous factors or omitting necessary components of the calculation.</Action>

    </Rule>
<Rule id="2540" phase="generation" confidence="1" source="log_2540" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total future minimum commitments under existing non-cancelable purchase obligations for a specific year, and the model's response differs significantly from the correct answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves summing all relevant future commitments and then dividing the commitments for the specified year by the total future commitments, multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the correct total of future commitments includes all years and any "thereafter" category to avoid under or overestimation.</Action>

    </Rule>
<Rule id="2541" phase="generation" confidence="1" source="log_2541" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving previous and current year financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by subtracting the previous year's value from the current year's value, then dividing by the previous year's value, and finally multiplying by 100 to obtain the correct percentage change, rounding to the appropriate significant figure as required by the context</Action>

    </Rule>
<Rule id="2541" phase="generation" confidence="1" source="log_2541" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple years or numerical values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage changes by using the formula: ((Ending Value - Starting Value) / Starting Value) * 100, and verify that all intermediate steps are correctly performed to avoid rounding errors</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_R1" type="Arithmetic_Hallucination">

        <Trigger>Performance-based restricted stock units vested during multiple years are mentioned, and the task is to find the total fair value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values for each year are correctly summed to obtain the total fair value, without introducing external or unrelated numbers into the calculation.</Action>

    </Rule>
<Rule id="2543" phase="generation" confidence="1" source="log_2543" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation involving a specific subgroup's revenue as a fraction of total revenue, where the model produces an answer that significantly deviates from a reasonable expected range (e.g., orders of magnitude off)</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages involving subgroup revenues as a fraction of total revenues, the model accurately divides the subgroup revenue by the total revenue and then multiplies by 100 to obtain the correct percentage, avoiding arithmetic hallucination by double-checking the order of operations and the precision of intermediate calculations</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="Arithmetic_Hallucination">

        <Trigger>Percentual increase calculations involving numerical values from different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate percentage change calculations by using the formula ((New Value - Old Value) / Old Value) * 100, and verify that the values are correctly extracted from their respective time periods</Action>

    </Rule>
<Rule id="1" phase="generation" confidence="1" source="log_1" type="Arithmetic_Hallucination">

        <Trigger>Calculating total return or cumulative percentage change over multiple periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final result of a percentage change calculation, especially for cumulative returns over multiple periods, is correctly formatted and reported as a numerical value without percentage sign unless explicitly required by the context, to avoid confusion between absolute and relative changes</Action>

    </Rule>
<Rule id="2" phase="generation" confidence="1" source="log_2" type="Program_Logic_Failure">

        <Trigger>Comparison of cumulative total returns across different financial instruments or indices over a specified timeframe</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation methodology for cumulative total returns is consistently applied across all comparable entities, and that the final values are correctly computed based on the initial and final prices of the respective stocks or indices, taking into account any potential dividends or splits that may have occurred during the period in question</Action>

    </Rule>
<Rule id="R001" phase="post-processing" confidence="1" source="percentage_change_analysis" type="RoundingError">
        <Trigger>Calculation of percentage change</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure calculated percentage changes are rounded according to the implied context or question requirements.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Market performance range calculation for multiple indexes in a given year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of market performance range for multiple indexes involves determining the maximum and minimum values among the indexes for the specified year, and then computing the difference between these two values to obtain the correct range.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total commercial commitments, ensure that the correct total amount is used as the denominator and that all relevant components of the total are accurately summed.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation of percentages involves dividing the specific component's amount by the total amount, ensuring that the total amount includes all relevant commercial commitments and that the division is performed correctly to obtain the percentage.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Detection of miscalculation or incorrect application of arithmetic operations when determining proportions or percentages of financial commitments.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model applies the correct formula for calculating percentages, which involves dividing the part by the whole and then multiplying by 100, and that this process is consistently applied across all financial calculations to maintain accuracy and consistency.</Action>

    </Rule>
<Rule id="2550" phase="generation" confidence="1" source="log_2550" type="Arithmetic_Hallucination">

        <Trigger>Percentage decrease calculations involving foreign currency translation impact</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes due to foreign currency impact, the formula considers the correct sign for the currency translation effect to accurately reflect increases or decreases in value, and verify that the calculation is applied to the correct base value.</Action>

    </Rule>
<Rule id="2551" phase="generation" confidence="1" source="log_2551" type="Arithmetic Hallucination">

        <Trigger>Calculation of average monthly expenditure over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that total expenditure is divided by the total number of months to calculate the monthly average, rather than performing incorrect arithmetic operations that do not account for the duration of the expenditure period</Action>

    </Rule>
<Rule id="2551" phase="generation" confidence="1" source="log_2551" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total values, especially when comparing specific periods to overall totals</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total values, the model accurately divides the specific period's value by the total value and then multiplies by 100 to convert the result into a percentage, avoiding rounding errors and ensuring the use of precise decimal arithmetic</Action>

    </Rule>
<Rule id="2552" phase="generation" confidence="1" source="log_2552" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving historical financial data, particularly when comparing year-over-year changes in financial metrics such as total investments GAAP.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that all values are accurately retrieved from the context and correctly plugged into the formula to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="2553" phase="generation" confidence="1" source="log_2553" type="Arithmetic Hallucination">

        <Trigger>When calculating the portion of total long-term borrowings due in a specific time frame, the model only considers a single debt instrument instead of the overall debt structure.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the portion of total long-term borrowings due within a specified period involves summing the relevant debt instruments and then dividing by the total long-term borrowings, applying the correct percentage calculation formula.</Action>

    </Rule>
<Rule id="2554" phase="generation" confidence="1" source="log_2554" type="ArithmeticHallucinationError">

        <Trigger>When calculating the ratio of contributed interests and promissory notes in financial transactions, especially in the context of acquisitions or exchanges of entity interests.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the ratio is calculated by dividing the value of the contributed interests by the value of the promissory notes, considering all relevant components of the transaction to avoid simplification errors.</Action>

    </Rule>
<Rule id="2555" phase="generation" confidence="1" source="log_2555" type="Arithmetic_Hallucination">

        <Trigger>Encountering multiple locations with their respective approximate square feet and lease expiration dates in a context where total square footage is requested</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all mentioned locations' square feet are accurately summed, considering both owned and leased properties, to calculate the total square footage without omission or duplication</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>When calculating the percentage of total minimum lease payments for operating leases, ensure accurate arithmetic operations are performed, especially when adding or dividing numbers to obtain the correct proportion.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant lease payments are correctly summed before calculating percentages to avoid miscalculations. KNOWLEDGE INJECTION: Ensure the model understands that the percentage calculation involves dividing the total minimum lease payments of operating leases by the sum of total minimum lease payments of both operating and capital leases.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_analysis" type="ArithmeticHallucination">
        <Trigger>When a question asks for a specific component of a financial transaction (e.g., cash payment) within a broader financial context (e.g., purchase price including contingent payments).</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure the model distinguishes between different components of the transaction (e.g., cash payment vs. contingent payments) and only sums the relevant components as explicitly requested by the question.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage of a specific income type within total income</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the specific income type by the total income and then multiplying by 100, without rounding prematurely, to obtain the accurate percentage representation.</Action>

    </Rule>
<Rule id="2560" phase="generation" confidence="1" source="log_2560" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage growth between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change is calculated as ((New Value - Old Value) / Old Value) * 100, rather than simply subtracting the old value from the new value, to obtain the correct growth rate</Action>

    </Rule>
<Rule id="2561" phase="generation" confidence="1" source="log_2561" type="Arithmetic_Hallucination">

        <Trigger>Calculating averages from a set of numbers provided in a context where specific values for different years are given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating averages from a series of annual values, ensure that all provided numbers are summed and then divided by the total count of years to avoid arithmetic hallucination. KNOWLEDGE INJECTION: Verify that the calculation methodology matches the arithmetic mean formula, which is the sum of all values divided by the number of values.</Action>

    </Rule>
<Rule id="2561" phase="generation" confidence="1" source="log_2561" type="Arithmetic Hallucination">

        <Trigger>Calculating the portion of total multi-asset related to target date/risk, where the model response involves a simple ratio of target date/risk to total multi-asset without considering the changes in both over time.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the proportion of a component within a total, ensure that the calculation accounts for the correct temporal relationship between the component and the total, considering any changes that may have occurred over the specified period, such as net inflows, market changes, and FX impacts, to accurately derive the percentage.</Action>

    </Rule>
<Rule id="2562" phase="generation" confidence="1" source="log_2562" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage difference between two financial metrics, such as earnings per share (EPS), where the model's response deviates from the correct calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage differences, the formula [(New Value - Old Value) / Old Value] * 100 is applied accurately, considering the correct values for both the new and old metrics, and verify that the calculation is performed in the correct order to avoid arithmetic hallucination.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="analysis_log" type="NumericalCalculationError">
        <Trigger>Calculations involving percentages of total amounts, especially in financial lease contexts.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all numerical calculations, particularly those involving percentages, are performed with precise decimal places until the final step, and then round according to the context's requirements to avoid arithmetic hallucination.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_finqa" type="ArithmeticHallucination">
        <Trigger>Calculating percentages of total values for lease payments</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise division and subsequent rounding to the appropriate significant figure when calculating percentages of total lease payments to avoid arithmetic inaccuracies.</Action>
    </Rule>
<Rule id="2565" phase="generation" confidence="1" source="log_2565" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of total commercial commitments for specific facilities, such as receivables securitization facilities, when provided with total amounts and specific facility amounts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and rounding when calculating percentages, specifically by dividing the specific facility amount by the total commercial commitments amount and then multiplying by 100, rounding to the nearest whole number or as contextually appropriate.</Action>

    </Rule>
<Rule id="2566" phase="generation" confidence="1" source="log_2566" type="arithmetic_hallucination">

        <Trigger>Percent change calculation involving a decrease in value</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percent change, ensure the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, considering the direction of change (increase or decrease) to avoid sign errors</Action>

    </Rule>
<Rule id="2567" phase="generation" confidence="1" source="log_2567" type="Arithmetic_Hallucination">

        <Trigger>When calculating the net change between two values, the model provides an answer without considering the direction of change (increase or decrease).</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always determine the direction of change (increase or decrease) when calculating net changes, and apply the correct mathematical operation (subtraction or addition) accordingly, considering the initial and final values.</Action>

    </Rule>
<Rule id="2568" phase="generation" confidence="1" source="log_2568" type="Arithmetic Hallucination">

        <Trigger>Calculating total percentage growth over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage growth for each year is calculated separately and then compounded to find the total percentage growth, rather than simply calculating the difference between the start and end values.</Action>

    </Rule>
<Rule id="2570" phase="generation" confidence="1" source="log_2570" type="ArithmeticError">

        <Trigger>Percentage calculations involving totals and subsets of a whole</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of a total, the numerator is accurately extracted from the context, and the denominator represents the entirety of the set in question. KNOWLEDGE INJECTION: Validate that the division is correctly performed, and the result is accurately represented as a percentage, considering the precision required for the answer.</Action>

    </Rule>
<Rule id="R1" phase="postprocessing" confidence="1" source="error_analysis" type="UnitOmissionError">

        <Trigger>Identification of a total value or sum in financial context where unit specification is crucial for accurate interpretation</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer includes appropriate unit designations (e.g., dollars, thousand, million) as implied by the context or explicitly stated in the problem to avoid ambiguity and misinterpretation</Action>

    </Rule>
<Rule id="2571" phase="generation" confidence="1" source="log_2571" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of future payments, especially in the context of lease agreements and financial projections.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by considering all decimal places and rounding only at the final step of calculation to avoid truncation errors, and KNOWLEDGE INJECTION: Verify that the formula for calculating percentages is correctly applied, taking into account the total and the portion to be paid.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis_log" type="IncompleteSummationError">
        <Trigger>Calculation of total quantities or summations across multiple locations or categories</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all mentioned quantities or values are included in the calculation to avoid incomplete summations, by thoroughly reviewing the context for any additional or omitted figures.</Action>
    </Rule>
<Rule id="2573" phase="generation" confidence="1" source="log_2573" type="Arithmetic Hallucination">

        <Trigger>Calculation of cumulative total return for multiple groups over a specified period, with an initial investment amount given.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant stock values are correctly retrieved and applied to calculate the cumulative total return for each group, using the formula: ((Final Value / Initial Value) * Initial Investment) for each period, and then comparing these calculated returns among the groups.</Action>

    </Rule>
<Rule id="2574" phase="generation" confidence="1" source="log_2574" type="Arithmetic Hallucination">
        <Trigger>Calculations involving assets acquired and liabilities adjustment</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all components of assets acquired are correctly summed, and adjustments for liabilities are accurately applied according to the financial context provided</Action>
    </Rule>
<Rule id="2575" phase="generation" confidence="1" source="log_2575" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving consecutive years or periods, especially when the difference between the two values is small and the model's response is a rounded percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to round the final result to the appropriate number of decimal places as dictated by the context or question requirements, and verify if the model's rounding conventions align with the expected precision of the answer.</Action>

    </Rule>
<Rule id="2576" phase="generation" confidence="1" source="log_2576" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculation between two consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage increase calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, where New Value and Old Value are the values for the two consecutive years being compared, to prevent arithmetic hallucination and provide accurate results.</Action>

    </Rule>
<Rule id="2578" phase="generation" confidence="1" source="log_2578" type="ArithmeticHallucination">
        <Trigger>Calculation of percentage change in financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that the correct and consistent data points are selected for the calculation, and verify that the arithmetic operations for calculating percentage changes are performed correctly, using the formula: ((New Value - Old Value) / Old Value) * 100</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticHallucination">

        <Trigger>Percentage change calculations involving time-series data, especially when comparing consecutive years or periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the formula: ((New Value - Old Value) / Old Value) * 100, to avoid arithmetic errors and provide accurate results.</Action>

    </Rule>
<Rule id="2580" phase="generation" confidence="1" source="log_2580" type="Arithmetic_Hallucination">

        <Trigger>Calculating return on investment (ROI) over multiple periods with varying values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the ROI calculation accurately reflects the percentage change from the initial to the final value, using the formula: ((final_value - initial_value) / initial_value) * 100, and round the result appropriately to match the expected output format</Action>

    </Rule>
<Rule id="2581" phase="generation" confidence="1" source="log_2581" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of total tax benefits from specific acquisitions, and the model response is a fixed value (e.g., 0%) without evident calculation steps.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant financial data points, including tax provisions and benefits from acquisitions, are correctly identified, extracted, and used in calculations. KNOWLEDGE INJECTION: Verify that the calculation methodology for determining the percentage of total tax benefits from a specific acquisition involves dividing the tax benefit from that acquisition by the total tax provision or benefit, and then multiplying by 100 to obtain the percentage.</Action>

    </Rule>
<Rule id="2581" phase="generation" confidence="1" source="log_2581" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage differences between two quantities, especially when comparing short and long positions in financial contexts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences, ensure to apply the formula correctly: ((abs(short - long) / long) * 100), and verify that the order of operations (PEMDAS/BODMAS) is followed to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="2582" phase="generation" confidence="1" source="log_2582" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving historical financial data, such as free cash flow, between two specific years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage change by using the formula ((New Value - Old Value) / Old Value) * 100, and verify the order of operations to prevent arithmetic errors</Action>

    </Rule>
<Rule id="2583" phase="generation" confidence="1" source="log_2583" type="Arithmetic Hallucination">

        <Trigger>When calculating percentages of contractual obligations for future payments, the model fails to properly utilize the given data for the specific year in question and the total contractual obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of specific contractual obligations due in a certain year, the model divides the obligation for that year by the total contractual obligations and then multiplies by 100 to obtain the correct percentage, taking care to accurately identify and isolate the relevant data points for both the specific year's obligation and the total obligations.</Action>

    </Rule>
<Rule id="2584" phase="generation" confidence="1" source="log_2584" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two time periods for inventory values</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that all values are correctly retrieved from the context before applying the formula, KNOWLEDGE INJECTION: Double-check that the correct values are used for the calculation, considering the specific inventory valuation method (e.g., LIFO or FIFO) mentioned in the question</Action>

    </Rule>
<Rule id="2585" phase="generation" confidence="1" source="log_2585" type="Arithmetic_Hallucination">

        <Trigger>When calculating the balance after a potential total tax liability, especially in the context of IRS examinations and agreements on tax returns.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all potential tax liabilities are correctly subtracted from the current balance, taking into account any agreed-upon treatments of issues and ensuring that the calculation reflects the actual financial impact of such liabilities on the company's balance.</Action>

    </Rule>
<Rule id="2586" phase="generation" confidence="1" source="log_2586" type="arithmetic_hallucination">

        <Trigger>Calculating percentage differences between financial metrics, such as earnings per share, across different scenarios (e.g., basic pro forma vs. diluted pro forma) or time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences, ensure that the formula ((new value - old value) / old value) * 100 is applied correctly, considering the correct old and new values for the respective financial metrics being compared.</Action>

    </Rule>
<Rule id="2588" phase="generation" confidence="1" source="log_2588" type="Arithmetic Hallucination">

        <Trigger>When calculating the ratio of securities given to securities received and encountering multiple transactions in different currencies.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all currencies are converted to a common base currency before calculating the total value of securities given and received, and then calculate the ratio based on these totals.</Action>

    </Rule>
<Rule id="2589" phase="generation" confidence="1" source="log_2589" type="Program Logic Failure">

        <Trigger>Upon identifying the need to sum multiple values to determine the total value of securities received.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize that the total value of securities received is the sum of all individual receipts, regardless of currency, after conversion to a common base currency, and ensure this sum is correctly calculated before determining the ratio.</Action>

    </Rule>
<Rule id="2590" phase="generation" confidence="1" source="log_2590" type="Incorrect Context Retrieval">

        <Trigger>When the problem involves forward currency contracts and multiple currency transactions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the context of forward currency contracts is correctly applied, considering the conversion rates and the specific currencies involved, to accurately calculate the securities given and received.</Action>

    </Rule>
<Rule id="2590" phase="generation" confidence="1" source="log_2590" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of total future minimum lease commitments and contingencies for operating leases due in a specific year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct total future minimum lease payments are used as the denominator when calculating percentages of lease commitments due in a specific year, and verify that the numerator accurately reflects the amount due in that year</Action>

    </Rule>
<Rule id="2590" phase="generation" confidence="1" source="log_2590" type="Arithmetic_Hallucination">

        <Trigger>Calculation of average percentage decrease over multiple years for lease expenses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage decrease is calculated using the formula ((initial_value - final_value) / initial_value) * 100, and apply this formula for each year-to-year comparison, then find the average of these percentages to obtain the overall average percentage decrease.</Action>

    </Rule>
<Rule id="2591" phase="generation" confidence="1" source="log_2591" type="Arithmetic Hallucination">

        <Trigger>When calculating the mathematical range of different classes of units redeemed, and the model's response is a subset of the par values instead of the actual units redeemed.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model distinguishes between units redeemed and par values redeemed, and calculates the range based on the correct values mentioned in the problem statement.</Action>

    </Rule>
<Rule id="2592" phase="generation" confidence="1" source="log_2592" type="Program Logic Failure">

        <Trigger>When the model fails to consider all classes of units redeemed and their respective quantities, leading to an incorrect calculation of the mathematical range.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model systematically reviews all provided data points related to units redeemed, regardless of their class or type, to calculate the correct mathematical range.</Action>

    </Rule>
<Rule id="2593" phase="generation" confidence="1" source="log_2593" type="Incorrect Context Retrieval">

        <Trigger>When the model mistakenly uses par values in millions as the basis for calculating the range of units redeemed, instead of using the actual units redeemed values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model correctly identifies and retrieves the relevant context (units redeemed vs. par value) for calculating the mathematical range, as specified in the problem statement.</Action>

    </Rule>
<Rule id="2591" phase="generation" confidence="1" source="log_2591" type="Arithmetic Hallucination">

        <Trigger>Calculation of percentual increase in financial metrics, such as provision for income taxes, involving multiple time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentual increase involves the correct subtraction of the initial value from the final value, followed by division by the absolute initial value, and then multiplication by 100 to obtain the percentage, avoiding any intermediate rounding that could introduce inaccuracies</Action>

    </Rule>
<Rule id="2592" phase="generation" confidence="1" source="log_2592" type="Program Logic Failure">

        <Trigger>Errors in financial data analysis that could result from incorrect application of formulas or misunderstanding of the question's requirements</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly interprets the question, identifying the specific financial metric in question (e.g., provision for income taxes) and the relevant time periods, and applies the appropriate formula for calculating percentual changes, considering potential changes in sign (positive to negative or vice versa) that could affect the calculation</Action>

    </Rule>
<Rule id="2592" phase="generation" confidence="1" source="log_2592" type="Arithmetic Hallucination">

        <Trigger>When calculating the percentage of a specific component of total commercial commitments, such as credit facilities, and the model provides a response with a decimal precision that does not match the expected format of the answer.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final answer is formatted to match the expected output type, which in this case is a percentage. KNOWLEDGE INJECTION: Recognize that when calculating percentages for financial summary questions, the answer should be presented in a format consistent with typical financial reporting conventions, which often express percentages as whole numbers or rounded to the nearest tenth, without unnecessary decimal places unless explicitly required by the context.</Action>

    </Rule>
<Rule id="2593" phase="generation" confidence="1" source="log_2593" type="ProgramLogicFailure">
        <Trigger>Questions requiring the calculation of differences between extreme values (e.g., highest, lowest) and aggregate values (e.g., average, median).</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always identify the specific operation (addition, subtraction, etc.) and the type of values (extreme, aggregate) involved in the question. KNOWLEDGE INJECTION: Ensure that calculations for averages are correctly performed before proceeding to find differences or other derived values.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ProgramLogicFailure">
        <Trigger>Calculation of financial data ranges or differences, particularly in time-series data such as stock prices.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that calculations for ranges or differences in financial time-series data are based on the correct interpretation of the task, considering whether the question asks for a simple difference between highest and lowest values, a percentage change, or another form of analysis, and apply the appropriate formula or logic to the relevant data points within the specified timeframe.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Change calculations involving monetary values, particularly when comparing year-over-year differences in financial contributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of changes in monetary values is performed in the correct units (e.g., millions, thousands) and that the final answer is formatted accordingly, avoiding truncation or misinterpretation of significant figures.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="percentage_change_calculation" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving rounding instructions</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations are performed with precise arithmetic operations, and any rounding instructions are explicitly followed as per the context provided, considering the potential need for rounding to the nearest whole number or specific decimal places based on the question's requirements.</Action>
    </Rule>
<Rule id="2598" phase="generation" confidence="1" source="log_2598" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, particularly when determining changes in net sales or similar metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate calculation of percentage changes by applying the formula correctly: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and round the result appropriately to avoid precision errors.</Action>

    </Rule>
<Rule id="2598" phase="generation" confidence="1" source="log_2598" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years of financial data</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two periods, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify the arithmetic operations to prevent rounding errors or incorrect calculations</Action>

    </Rule>
<Rule id="2600" phase="generation" confidence="1" source="log_2600" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving temporal comparisons of financial metrics, such as warranty reserves, across different time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated using the formula ((New Value - Old Value) / Old Value) * 100, applying the correct order of operations and verifying the accuracy of input values to prevent arithmetic errors</Action>

    </Rule>
<Rule id="2601" phase="generation" confidence="1" source="log_2601" type="ProgramLogicFailure">

        <Trigger>Calculating percentages of a subgroup within a larger total, especially in contexts involving treatment regimens or statistical analyses</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage calculation is performed by dividing the number of items in the specific subgroup by the total number of items in the relevant population, and then multiplying by 100 to convert the fraction to a percentage. KNOWLEDGE INJECTION: Always verify that the calculation accurately reflects the relationship between the subgroup and the total population being analyzed</Action>

    </Rule>
<Rule id="2601" phase="generation" confidence="1" source="log_2601" type="ArithmeticError">

        <Trigger>Calculation of percentage change between two time periods for financial metrics such as cash from operating activities</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, considering the order of operations and accurate subtraction and division to avoid arithmetic hallucination</Action>

    </Rule>
<Rule id="2602" phase="generation" confidence="1" source="log_2602" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of a total value, especially in contexts involving changes or comparisons over time (e.g., yearly data), and the model's response significantly differs from the expected range based on given numbers.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves correctly dividing the specific subset value by the total value and then multiplying by 100, without introducing rounding errors or omitting significant digits. KNOWLEDGE INJECTION: Verify that the model understands the context of "percentage of total" and applies the correct formula (part/whole)*100 to find the percentage, avoiding arithmetic hallucination by grounding calculations in provided numerical data.</Action>

    </Rule>
<Rule id="2603" phase="generation" confidence="1" source="log_2603" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage differences between two time series, especially in the context of comparing sector performance to the overall market.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by first determining the difference in values over the specified period, then dividing by the original value, and finally multiplying by 100 to convert the result into a percentage. Additionally, KNOWLEDGE INJECTION: Always verify that the calculated percentage difference accurately reflects the relative performance between the two series being compared.</Action>

    </Rule>
<Rule id="2604" phase="generation" confidence="1" source="log_2604" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving sequential years or periods, especially when calculating increases or decreases in financial metrics such as expenses.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage. KNOWLEDGE INJECTION: Verify that the formula for percentage change is correctly applied as ((Final Value - Initial Value) / Initial Value) * 100.</Action>

    </Rule>
<Rule id="2605" phase="generation" confidence="1" source="log_2605" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculations involving the ratio of a specific type of equipment to the total equipment, where the model provides a decimal response that needs rounding to a percentage.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages for equipment ratios, the final result is properly rounded to the nearest whole number or to a specific decimal place as required by the context, to provide an accurate and understandable answer.</Action>

    </Rule>
<Rule id="2606" phase="generation" confidence="1" source="log_2606" type="Arithmetic_Hallucination">

        <Trigger>Benefit payments and subsidy receipts are provided with different signs, potentially indicating opposite directions of cash flow, and the model calculates their ratio.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating ratios involving financial flows (e.g., benefit payments and subsidy receipts), ensure that the signs of the values are appropriately considered to reflect their directions (positive for inflows or negative for outflows) before performing the division to avoid incorrect results.</Action>

    </Rule>
<Rule id="2607" phase="generation" confidence="1" source="log_2607" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years of expense data</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed using the correct formula, considering the difference between the current and previous year's values, and dividing by the previous year's value, then multiplying by 100 to obtain the percentage change</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="analysis_log" type="FormattingError">
        <Trigger>Questions explicitly asking for percentages or ratios.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that answers to questions asking for percentages include the '%' symbol appended to the calculated value.</Action>
    </Rule>
<Rule id="2609" phase="generation" confidence="1" source="log_2609" type="Arithmetic_Hallucination">

        <Trigger>Percent calculation involving subtotal and total values within financial data, particularly when determining the proportion of a specific income type within a broader category.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the model accurately identifies and isolates the relevant subset value (e.g., rental income) and the total value (e.g., total other income) from the provided financial data. Then, verify that the calculation is performed as (subset value / total value) * 100, to obtain the correct percentage representation.</Action>

    </Rule>
<Rule id="2610" phase="generation" confidence="1" source="log_2610" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total capital spending from continuing operations for specific sectors or categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the divisor in percentage calculations is the total value from continuing operations for the specified year, and verify that the calculation accurately reflects the proportion of the specific sector's value to the total, considering potential rounding differences</Action>

    </Rule>
<Rule id="2611" phase="generation" confidence="1" source="log_2611" type="Arithmetic_Hallucination">

        <Trigger>Lease commitment percentage calculation trigger due to inconsistent or incorrect year-based lease payment distribution</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total future minimum lease commitments due in a specific year, the model correctly identifies and sums all relevant lease payments for that year and then divides by the total future minimum lease commitments across all years to obtain the accurate percentage</Action>

    </Rule>
<Rule id="2612" phase="generation" confidence="1" source="log_2612" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in financial metrics between two periods, where the model provides an answer without considering the direction of change (increase or decrease).</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the change in a financial metric between two periods, ensure to consider the direction of change (increase or decrease) by subtracting the earlier value from the later value and preserving the sign of the result, rather than simply providing the absolute difference.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving net income or revenue values across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified and ordered in the calculation</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total revenues for a specific commodity group, the model produces an incorrect numerical value due to potential rounding errors or miscalculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations are performed with precise arithmetic operations, and consider rounding only at the final stage of calculation to prevent intermediate rounding errors. Additionally, KNOWLEDGE INJECTION: Verify that the calculation logic follows the correct formula for percentage calculation, i.e., (part/whole) * 100, where 'part' refers to the revenues from the specific commodity group and 'whole' refers to the total revenues.</Action>

    </Rule>
<Rule id="2615" phase="generation" confidence="1" source="log_2615" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total operating revenues for a specific category, such as industrial revenues, and the model's response is a very low percentage that does not logically align with typical industry or category revenue contributions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation for the percentage of total operating revenues for any given category involves correctly dividing the category's revenue by the total operating revenues and then multiplying by 100 to convert the fraction to a percentage. KNOWLEDGE INJECTION: Verify that all relevant revenue figures are accurately identified and extracted from the context before performing calculations.</Action>

    </Rule>
<Rule id="2616" phase="generation" confidence="1" source="log_2616" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving previous and current year financial data, particularly when calculating changes in cash flow or other financial metrics.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate arithmetic operations by carefully applying the percentage change formula: ((Current Year Value - Previous Year Value) / Previous Year Value) * 100, and round the result to the appropriate number of significant figures as required by the context.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percent change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increase or decrease between two time periods, ensure to first compute the difference between the two values, then divide by the original value, and finally multiply by 100 to obtain the percentage change.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="Program_Logic_Failure">

        <Trigger>Comparison of financial metrics across different dates</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the calculation is based on the correct identification of the initial and final values for the given time frame, and ensure that all relevant components contributing to the total are accurately accounted for.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieval of specific financial data for a given question</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model accurately identifies and extracts the relevant financial data points from the provided context that directly relate to the question being asked, avoiding irrelevant information.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two consecutive time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed as ((Current Value - Previous Value) / Previous Value) * 100, and verify that the order of values is correct to avoid incorrect signs in the result</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Amortized cost difference calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant values, including signs and directions of change, are correctly considered and applied when calculating differences between financial metrics across time periods, taking into account potential changes in sign (positive or negative) that indicate increases or decreases.</Action>

    </Rule>
<Rule id="2620" phase="generation" confidence="1" source="log_2620" type="Arithmetic_Hallucination">

        <Trigger>Upon encountering discrepancies in provided financial data, the model fails to resolve the inconsistency before performing calculations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all financial data points are validated and consistent before proceeding with any arithmetic operations to calculate growth rates or other financial metrics. If discrepancies are found, prioritize data reconciliation or use a predefined method for handling inconsistent data, such as selecting the most recent or averaged value, before calculating financial indicators.</Action>

    </Rule>
<Rule id="2621" phase="generation" confidence="1" source="log_2621" type="Program_Logic_Failure">

        <Trigger>The model incorrectly applies the formula for calculating the growth rate or fails to provide the final numerical answer due to incomplete execution of the arithmetic operation.</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating growth rates, always ensure that the formula is correctly applied as ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is fully executed to provide a final numerical answer, avoiding any premature terminations or omissions of the final step in the calculation process.</Action>

    </Rule>
<Rule id="2621" phase="generation" confidence="1" source="log_2621" type="ArithmeticHallucination">

        <Trigger>When calculating the portion of total securities approved by stockholders that are outstanding, and the model provides a response without explicitly considering the total number of securities approved and the number of securities remaining available for future issuance.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model calculates the portion of outstanding securities by considering both the number of securities approved for issuance upon exercise of outstanding options, warrants, and rights, and the total number of securities remaining available for future issuance, and apply the correct arithmetic operations to derive the accurate percentage.</Action>

    </Rule>
<Rule id="2622" phase="generation" confidence="1" source="log_2622" type="Arithmetic_Hallucination">

        <Trigger>Financial calculations involving interest payments on senior unsecured notes</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculated interest payment is properly formatted as a monetary value, including the correct placement of decimal points and suffixes (e.g., million, billion), to avoid numerical discrepancies</Action>

    </Rule>
<Rule id="2623" phase="generation" confidence="1" source="log_2623" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving discrete year-over-year comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed with precise arithmetic operations, avoiding rounding errors by maintaining decimal precision throughout intermediate calculations until the final result is obtained, then round as necessary for the context of the question</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_analysis" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations in financial contexts</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all financial metric calculations, especially those involving percentages, are rounded according to conventional financial reporting standards or the context's specific requirements</Action>
    </Rule>
<Rule id="2625" phase="generation" confidence="1" source="log_2625" type="ArithmeticHallucination">

        <Trigger>Calculating net income margin for a specific segment or year, where the provided numbers include sales and segment income.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net income margin calculation is performed by dividing the segment income by the net sales for the specified segment and year, and then multiplying by 100 to get the percentage.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of total leased square feet across multiple locations with varying lease expiration dates</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that only active and unexpired leases are included in the calculation of total leased square feet, and verify that the summation logic accurately reflects the inclusion of all relevant leased spaces without duplication or omission.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multi-year financial data, particularly when determining year-over-year changes in unrecognized tax benefits.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the result is expressed as a percentage, not a decimal, to maintain consistency with financial reporting conventions.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentage decrease or increase in financial metrics, such as net sales, and the model provides an absolute numerical value as a response.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are translated into corresponding numerical values using the original and final values of the metric, not just the percentage change. KNOWLEDGE INJECTION: Understand the context to determine if the question asks for a percentage or an absolute change value, and calculate accordingly.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="financial_calculation_log" type="PrecisionError">
        <Trigger>Calculations involving financial ratios and percentages, particularly those requiring division and multiplication by 100.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations, especially those involving percentages and ratios, are performed with proper precision and rounding, considering the financial context and reporting standards.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving a decrease in value over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify that the calculation is executed with precise arithmetic operations to avoid rounding errors.</Action>

    </Rule>
<Rule id="2631" phase="generation" confidence="1" source="log_2631" type="ArithmeticHallucination">

        <Trigger>When calculating the percentage of a specific segment among all segments, especially in a geographic or categorical context where totals and sub-totals are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of percentages involves dividing the specific segment value by the total value for that category, and then multiplying by 100 to obtain the percentage, while also verifying that the calculated value is correctly formatted as a percentage.</Action>

    </Rule>
<Rule id="2632" phase="generation" confidence="1" source="log_2632" type="Arithmetic_Hallucination">

        <Trigger>When calculating performance ratios between different financial entities over a specific period, and the model is given a set of cumulative returns for both entities but fails to account for the correct time frame or uses the wrong base for comparison.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of performance ratios correctly aligns with the specified time frame by using the appropriate start and end values for both entities being compared, and verify that the base for comparison is consistent and accurate.</Action>

    </Rule>
<Rule id="2633" phase="generation" confidence="1" source="log_2633" type="Arithmetic_Hallucination">

        <Trigger>Senior unsecured notes issuance with specified interest rate and maturity date</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the payment received at maturity, ensure to apply the correct interest calculation formula, considering the principal amount, interest rate, and time period, to determine the total amount paid, including both principal and accrued interest.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticError">
        <Trigger>Calculating percentage change, especially when dealing with negative changes or decreases in financial values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula for percentage change correctly, considering the direction of change (increase or decrease) and ensuring the subtraction is performed in the correct order (New Value - Old Value), then dividing by the Old Value, and finally multiplying by 100 to get the percentage.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_R001" type="Arithmetic_Hallucination">

        <Trigger>When calculating deductible expenses from income taxes and encountering multiple years of depreciation expenses for property, plant, and equipment.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all depreciation expenses mentioned for each year are accurately summed without including non-deductible items such as goodwill and intangible assets, and verify the calculation by rechecking the addition of the individual yearly expenses to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of total expenses over multiple fiscal years for contribution plans</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all expenses related to contribution plans across different fiscal years are accurately summed, considering both the defined contribution plan and any other relevant plans, to calculate the total expense.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving multiple years or comparison points, where the model provides an answer that does not accurately reflect the calculated difference based on given percentages and base values.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increases to determine absolute changes (e.g., dollar amount changes) in financial metrics like net sales, ensure to convert percentages to decimal form and apply them to the base values correctly. KNOWLEDGE INJECTION: Verify that the calculation follows the formula: (New Value - Old Value) = (Percentage Increase * Old Value), and then calculate the absolute change by subtracting the old value from the new value to ensure accuracy in financial reasoning models.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>When calculating changes in financial metrics, such as cost of sales, over multiple periods and encountering mentions of increases or decreases due to various factors like inflation or supply chain costs.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant adjustments (increases or decreases) mentioned for each period are correctly accounted for and applied in the calculation to determine the overall change in the financial metric, considering the direction of change (increase or decrease) and the specific periods involved.</Action>

    </Rule>
<Rule id="2640" phase="generation" confidence="1" source="log_2640" type="Arithmetic_Hallucination">

        <Trigger>Calculating net change in income between two periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net change is calculated by subtracting the initial period's value from the final period's value, taking into account the direction of change (increase or decrease) to determine the correct sign of the result.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving year-end balances</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and verify that all values are accurately retrieved from the context before calculation.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate between two time periods, involving comparison of revenue figures.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the growth rate calculation is performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to obtain the percentage. KNOWLEDGE INJECTION: Verify that the correct formula for growth rate is applied consistently across all relevant calculations.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticError">
        <Trigger>Calculation of averages from multiple data points</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating averages, ensure to sum all relevant data points correctly and then divide by the total number of data points.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage increase calculations involving unrecognized tax benefits or similar financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage increase calculations are performed using the formula: ((New Value - Old Value) / Old Value) * 100, and verify that the old and new values are correctly identified and extracted from the context.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic Hallucination">

        <Trigger>Market value difference calculations between two periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating the difference in market values between two periods, ensure that the calculation is performed as (Market Value at Period 2) - (Market Value at Period 1) to obtain the correct change, considering the context of increase or decrease.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticError">

        <Trigger>Percent change calculations involving multiple years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percent change calculations are performed using the correct formula: ((New Value - Old Value) / Old Value) * 100, and apply this formula consistently across all periods or years being compared</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="error_analysis" type="ContextualError">

        <Trigger>Situations where the model is provided with revenues for multiple years and is asked to calculate the percent change between two specific years</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the model correctly identifies and uses the revenues of the specific years in question for the percent change calculation, without being influenced by changes in other years or irrelevant data</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="error_analysis" type="LogicalError">

        <Trigger>Scenarios where the model calculates percent changes between consecutive years but fails to apply these calculations correctly when determining the percent change over a longer period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the model understands the concept of compounding changes over multiple periods and applies the correct mathematical operations to calculate percent changes over longer periods, considering the effects of intermediate changes</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage returns for investments over a specific period, especially when determining the lowest return for an initial year.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage returns are calculated as (End Value - Start Value) / Start Value * 100, and verify that the time frame considered matches the question's requirements to avoid arithmetic errors or incorrect context application.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_002" type="Program_Logic_Failure">

        <Trigger>Comparing investment performances across different indices or companies over time, particularly when identifying the lowest return within a specified timeframe.</Trigger>

        <Action>KNOWLEDGE INJECTION: Recognize the necessity of isolating the specific time frame in question (e.g., the first year of investment) and applying the correct formula for percentage change to each relevant data point before comparison to prevent logic failures in calculation or data selection.</Action>

    </Rule>
<Rule id="003" phase="generation" confidence="1" source="log_003" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving and applying the correct set of data points for the specified period and investment type when calculating returns, especially in scenarios involving multiple companies or indices.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a data validation step to ensure that the start and end values used for calculations correspond to the exact time frame and investment entities specified in the question, thereby preventing the use of incorrect or irrelevant data.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="lease_payment_calculation" type="ArithmeticHallucination">
        <Trigger>Calculating percentages of future minimum lease payments due in a specific year out of total lease payments.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all relevant lease payments due in the specified year are correctly summed and then divided by the total future minimum lease payments to calculate the percentage, avoiding any rounding errors or incorrect inclusions/exclusions of payments.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ArithmeticError">

        <Trigger>Calculating cumulative returns and ratios for financial performance comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values used in calculating cumulative returns are correctly ordered chronologically, and that the ratio of returns is calculated as (EndValue_StartValue)/StartValue for each respective investment, then compare these ratios directly to determine the relative performance.</Action>

    </Rule>
<Rule id="2650" phase="generation" confidence="1" source="log_2650" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage growth rates between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage growth rate calculations are performed using the formula ((New Value - Old Value) / Old Value) * 100, and the result is rounded to the appropriate number of decimal places as required by the context, to prevent precision errors.</Action>

    </Rule>
<Rule id="2650" phase="generation" confidence="1" source="log_2650" type="Arithmetic_Hallucination">

        <Trigger>When calculating average values from multiple quarterly highs, ensure that all relevant data points are considered and correctly summed before averaging.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the calculation methodology includes summing all quarterly highs and then dividing by the total number of quarters to obtain the average, avoiding incorrect assumptions about the data range or inclusion of irrelevant data points.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_error_analysis" type="ArithmeticError">

        <Trigger>Percentage change calculations involving decreases in financial metrics, such as liquidity or revenue, where the model's response does not accurately reflect the proportional change.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes, ensure to apply the formula correctly: ((New Value - Old Value) / Old Value) * 100, and verify that the sign of the result accurately reflects whether the change is an increase or a decrease.</Action>

    </Rule>
<Rule id="2652" phase="generation" confidence="1" source="log_2652" type="arithmetic_precision_error">

        <Trigger>Percentage change calculations involving monetary values from consecutive years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed with precise decimal arithmetic to avoid rounding errors, by first calculating the difference in values, then dividing by the original value, and finally multiplying by 100</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="ProportionCalculationError">

        <Trigger>Questions asking for a company's proportional share of debt or similar financial metrics from joint ventures or partnerships, where the total and the company's share are provided.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating a company's proportional share of debt or similar metrics, ensure the response is formatted as a ratio of the company's share to the total, rather than providing the absolute value of the company's share. KNOWLEDGE INJECTION: Recognize that proportional share questions require a ratio or percentage answer, not an absolute value.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating change in expenses or income between two periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure subtraction is performed correctly by subtracting the earlier period's value from the later period's value, taking into account the sign of the values (e.g., expense increases are represented as negative numbers), and verify that the result's sign is correctly interpreted (a negative result indicates an increase in expense, while a positive result indicates a decrease).</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="error_analysis" type="PrecisionError">
        <Trigger>Calculation of percentage change in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all arithmetic operations for calculating percentage changes are performed with precise decimal places until the final answer is derived, and then round according to the required precision to avoid compounding minor errors into significant discrepancies.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating growth rates involving negative or small changes in financial metrics, such as operating income, where precision is crucial.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating growth rates, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify if rounding or truncation might affect the accuracy of the result, especially in cases of small or negative changes.</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>Presence of multiple values for the same financial metric (e.g., operating income) across different reporting standards or instances, which could lead to confusion in selecting the appropriate values for calculations.</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model selects and utilizes the correct and consistent set of financial data for calculations, based on the context provided, and that it can differentiate between various reporting standards or versions of the data.</Action>

    </Rule>
<Rule id="2657" phase="generation" confidence="1" source="log_2657" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages from given numerical data for specific categories within a total</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the formula (part/whole) * 100 is correctly applied, and verify that the 'part' and 'whole' values are accurately retrieved from the provided context and correctly divided before multiplying by 100 to obtain the percentage</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentage changes between two periods, the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, considering the correct values for New Value and Old Value, and that all arithmetic operations are performed accurately without rounding errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="financial_context_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of variation, difference, or change in financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always compute the absolute difference when calculating variations in financial metrics, unless explicitly stated otherwise.</Action>
    </Rule>
<Rule id="2661" phase="generation" confidence="1" source="log_2661" type="Arithmetic Hallucination">

        <Trigger>Percentage change calculations involving multiple periods, especially when dealing with financial metrics such as allowances for doubtful accounts receivable.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes over time, ensure to accurately apply the formula: ((End Value - Start Value) / Start Value) * 100, considering all relevant factors and adjustments, such as charges and deductions, to avoid miscalculations.</Action>

    </Rule>
<Rule id="2661" phase="generation" confidence="1" source="log_2661" type="Arithmetic Hallucination">

        <Trigger>When calculating the total number of shares acquired, given the total cost and cost per share.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the division operation to calculate the total number of shares is performed without introducing unnecessary decimal places or rounding errors, and verify that the result is accurately represented in the required format.</Action>

    </Rule>
<Rule id="2662" phase="generation" confidence="1" source="log_2662" type="Arithmetic Hallucination">

        <Trigger>Calculating differences between financial metrics, such as earnings per share, where one value is reported and the other is pro forma.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure subtraction is performed correctly, considering the potential for negative results when calculating differences between financial metrics, and verify that the correct order of subtraction is applied (reported - pro forma or pro forma - reported) to avoid sign errors.</Action>

    </Rule>
<Rule id="2663" phase="generation" confidence="1" source="log_2663" type="ArithmeticHallucination">

        <Trigger>Calculating percentages of total unrecognized compensation expense</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the final result of percentage calculations is properly formatted as a percentage, including the percentage symbol, to avoid confusion with numerical values.</Action>

    </Rule>
<Rule id="2664" phase="generation" confidence="1" source="log_2664" type="ProgramLogicFailure">

        <Trigger>Division operations to calculate proportions of total expenses</Trigger>

        <Action>KNOWLEDGE INJECTION: Validate the mathematical operations performed to calculate proportions, ensuring that the correct total value is used as the denominator and the result is accurately represented as a percentage.</Action>

    </Rule>
<Rule id="2664" phase="generation" confidence="1" source="log_2664" type="Arithmetic_Hallucination">

        <Trigger>Calculation of total value from vested shares and weighted average grant date fair value</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of total value takes into account the absolute number of vested shares, and correctly applies the weighted average grant date fair value per share, considering the correct multiplication operation even when the number of vested shares is negative, indicating a reduction, to avoid sign errors.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Calculations involving changes in financial metrics over time</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all subtraction operations for calculating changes in financial values are correctly ordered, with the earlier year's value subtracted from the later year's value, or vice versa, depending on the context of the question asking for an increase or decrease.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_001" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage involving large numbers or when determining the proportion of a component within a total, such as goodwill in the context of the total purchase price net of cash acquired.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations by breaking down complex calculations into simpler steps, verifying the correct order of operations (e.g., division before multiplication), and confirming that all relevant components are accurately accounted for in the calculation, especially when computing percentages or proportions.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculations involving multiple periods or entries for financial metrics such as cost of sales, where the model needs to aggregate values (increases and decreases) over different fiscal years to determine a total effect.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all relevant numerical values (both increases and decreases) mentioned across different periods or entries for a specific financial metric are correctly aggregated (summed or subtracted as appropriate) to calculate the total effect or net change, considering the context of each value (whether it's an increase or a decrease) to avoid incorrect net calculations.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage difference calculations between reported and pro forma financial metrics</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage differences between two financial metrics, ensure to apply the formula correctly: ((reported - pro forma) / reported) * 100, and verify the order of subtraction to avoid incorrect signs in the result.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of change in financial metrics, such as receivables net, between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of change is performed as a percentage change or difference by subtracting the earlier value from the later value and then optionally dividing by the earlier value if a percentage is required, to prevent incorrect simplifications or omissions of steps in arithmetic operations</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the percentage change calculation is performed correctly by subtracting the initial value from the final value, dividing by the initial value, and then multiplying by 100 to obtain the percentage change.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">
        <Trigger>Calculation of return rates for investments</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the correct formula for calculating return rates, which involves dividing the difference between the final and initial investment values by the initial investment value, and then multiplying by 100 to get the percentage.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis_log" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations between different financial periods</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 when calculating percentage changes, ensuring the correct order of operations and accurate data retrieval for both the new and old values.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage change between two financial values, especially when determining investment exposure over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage change calculations are performed by subtracting the initial value from the final value, then dividing by the initial value, and finally multiplying by 100 to get the percentage, avoiding any intermediate rounding that might affect the final result's precision</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="finqa_error_log" type="ProgramLogicFailure">
        <Trigger>Calculation of percentages within financial statements, particularly for non-operating income components.</Trigger>
        <Action>CRITICAL FORMATTING RULE: When calculating percentages of components within financial statements, ensure to identify and use the correct total value for the respective category (e.g., total non-operating income) to avoid incorrect assumptions about the composition of financial data.</Action>
    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of variation in operating expenses and other costs concerning activities between two different periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the calculation of the variation in operating expenses between two periods involves subtracting the operating expenses of the earlier period from the operating expenses of the later period, and verify that all relevant expenses are included in the calculation to avoid underestimation or overestimation of the variation</Action>

    </Rule>
<Rule id="002" phase="generation" confidence="1" source="log_analysis" type="Program_Logic_Failure">

        <Trigger>Incorrect calculation of operating expenses variation due to failure in considering the impact of sales changes on operating profit</Trigger>

        <Action>KNOWLEDGE INJECTION: When calculating the variation in operating expenses, consider the relationship between sales and operating profit, ensuring that the model accounts for changes in sales when estimating operating expenses to provide a more accurate calculation of the variation</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving year-over-year expense comparisons</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure precise calculation of percentage changes using the formula: ((New Value - Old Value) / Old Value) * 100, and round the result to the appropriate decimal place to maintain accuracy</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="ArithmeticHallucination">

        <Trigger>When calculating the ratio of cash payments to cash receipts for multiple years and asked for a specific year's ratio, ensure the correct year's data is used.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always select the data corresponding to the year in question when calculating the ratio of cash payments to cash receipts, rather than averaging ratios across different years.</Action>

    </Rule>
<Rule id="R002" phase="generation" confidence="1" source="error_analysis" type="ProgramLogicFailure">

        <Trigger>Upon identifying the need to calculate a ratio of cash payments to cash receipts for a specific context or year.</Trigger>

        <Action>KNOWLEDGE INJECTION: Confirm that the calculation directly addresses the question asked, focusing on the relevant year or context without introducing unnecessary averaging or calculations that do not pertain to the query.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentage of total capital expenditures for a specific segment and year, involving division of a specific project's expenditures by the total segment expenditures.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure accurate division and rounding in percentage calculations by verifying that all values are correctly retrieved from the context, and apply precise arithmetic operations to avoid rounding errors before final calculation.</Action>

    </Rule>
<Rule id="2680" phase="generation" confidence="1" source="log_2680" type="Arithmetic_Hallucination">

        <Trigger>Calculating the percentage of total minimum lease payments that are capital leases</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the total minimum lease payments of capital leases are divided by the sum of total minimum lease payments of both operating and capital leases, then multiplied by 100 to obtain the correct percentage</Action>

    </Rule>
<Rule id="2681" phase="generation" confidence="1" source="log_2681" type="Arithmetic_Hallucination">

        <Trigger>When calculating the portion of total future minimum lease payments due in the next 12 months, the model provides a numerical answer without considering the context of percentage calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the result is properly formatted as a percentage by multiplying by 100, and verify that the numerator represents the portion of the total being considered for the specified time frame.</Action>

    </Rule>
<Rule id="2681" phase="generation" confidence="1" source="log_2681" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving decimal precision</Trigger>

        <Action>CRITICAL FORMATTING RULE: Round calculated percentage changes to the nearest whole number or as per the context's precision requirements, ensuring consistency in the number of decimal places presented in the final answer.</Action>

    </Rule>
<Rule id="2682" phase="generation" confidence="1" source="log_2682" type="Arithmetic_Hallucination">

        <Trigger>Percentage decrease calculations involving maximum and minimum values, particularly in contexts of financial uncertainty and estimate ranges.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage decreases between two values, ensure to apply the formula correctly: ((Max Value - Min Value) / Max Value) * 100, and verify that all arithmetic operations are performed accurately to avoid precision errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic Hallucination">

        <Trigger>Calculation of change in liability over a period involves multiple components such as cash payments, cash received, and additional charges, and the model provides an incorrect sign or magnitude of the result.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all components (cash payments, cash received from sublease net of operating costs, additional charges) affecting the liability are correctly accounted for with their respective signs (positive for increases, negative for decreases) when calculating the change in liability over a given period.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="log_analysis" type="ArithmeticHallucination">

        <Trigger>Percentage increase calculations involving doubling of a quantity, especially in financial contexts such as futures contracts.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage increases to achieve a specific multiplication factor (e.g., doubling), ensure that the formula used is correct, typically involving the relationship: NewValue = OldValue * (1 + PercentageIncrease/100), and solve for PercentageIncrease. KNOWLEDGE INJECTION: Understand the mathematical principles behind percentage changes and apply them accurately to avoid arithmetic errors.</Action>

    </Rule>
<Rule id="2685" phase="generation" confidence="1" source="log_2685" type="Arithmetic_Hallucination">

        <Trigger>When calculating percentages of total values, especially in contexts involving year-over-year comparisons or categorial breakdowns of totals.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the correct formula for calculating percentages is applied, which involves dividing the part by the whole and then multiplying by 100, without introducing incorrect assumptions or calculations that could lead to inaccurate results.</Action>

    </Rule>
<Rule id="2687" phase="generation" confidence="1" source="log_2687" type="Arithmetic_Hallucination">

        <Trigger>Comparison of cumulative total return between two financial indices or stocks over a specified period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the return calculation for each index or stock is performed separately and accurately, considering the initial and final values within the specified time frame, before comparing the percentage differences between them</Action>

    </Rule>
<Rule id="2688" phase="generation" confidence="1" source="log_2688" type="Program_Logic_Failure">

        <Trigger>Inconsistent or missing steps in calculating percentage return differences between financial indices or stocks</Trigger>

        <Action>KNOWLEDGE INJECTION: Verify that the formula for percentage return ((final value - initial value) / initial value) * 100 is applied correctly for each index or stock, and then subtract the smaller return from the larger to find the percentage difference, ensuring that all values are correctly retrieved and calculated</Action>

    </Rule>
<Rule id="2689" phase="generation" confidence="1" source="log_2689" type="Context_Retrieval_Error">

        <Trigger>Failure to accurately retrieve or apply the given initial and final values of financial indices or stocks within the context of the question</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that the initial and final values for the specified period are correctly identified and used in calculations, ensuring that the context provided in the question is accurately applied to determine the return percentages for comparison</Action>

    </Rule>
<Rule id="2688" phase="generation" confidence="1" source="log_2688" type="Arithmetic Hallucination">

        <Trigger>Calculating percentages of total quantities from subsets of data, particularly when determining the proportion of a specific category within a larger set.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages, the numerator is the quantity of the specific category, and the denominator is the total quantity of all categories combined. Verify that all relevant quantities are accurately summed and that the calculation is performed as a ratio of the specific category's quantity to the total quantity, multiplied by 100 to convert to a percentage.</Action>

    </Rule>
<Rule id="2689" phase="generation" confidence="1" source="log_2689" type="Arithmetic_Hallucination">

        <Trigger>Net change calculation in financial assets over a period</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the net change in the balance of assets is calculated by subtracting the initial balance from the final balance, considering all relevant additions and subtractions within the specified time frame, and verify that the correct mathematical operation (subtraction) is applied to derive the net change.</Action>

    </Rule>
<Rule id="2690" phase="generation" confidence="1" source="log_2690" type="Arithmetic_Hallucination">

        <Trigger>Proportion calculation involving combined years or periods, where beginning and ending balances are provided for each year</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that beginning balances of all years in question are summed and ending balances of all years in question are summed separately before calculating the proportion to avoid incorrect aggregation or omission of relevant data</Action>

    </Rule>
<Rule id="2690" phase="generation" confidence="1" source="log_2690" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving multiple years and different product categories</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage changes are calculated as ((New Value - Old Value) / Old Value) * 100, and verify that the old and new values are correctly associated with their respective time periods and product categories</Action>

    </Rule>
<Rule id="2691" phase="generation" confidence="1" source="log_2691" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving a decline in financial metrics</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always consider the direction of change (increase or decrease) when calculating percentage changes, applying a negative sign for declines and ensuring the correct order of operations (difference, division, then multiplication by 100)</Action>
    </Rule>
<Rule id="2692" phase="generation" confidence="1" source="log_2692" type="Arithmetic Hallucination">

        <Trigger>Multiple expense values mentioned for different fiscal years related to the same category or plan.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all expense values mentioned for each fiscal year are summed separately for each plan or category before calculating the total expense, and then sum these plan or category totals to obtain the overall expense.</Action>

    </Rule>
<Rule id="2694" phase="generation" confidence="1" source="log_2694" type="Arithmetic_Hallucination_Error">

        <Trigger>Calculating percentage change in expenses between different groups over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes in expenses, ensure that the formula ((New Value - Old Value) / Old Value) * 100 is applied correctly for each group, and then compare the calculated percentage changes between groups to determine the difference in percentage change.</Action>

    </Rule>
<Rule id="2695" phase="generation" confidence="1" source="log_2695" type="Program_Logic_Failure">

        <Trigger>Comparing changes in expenses between different groups over time</Trigger>

        <Action>KNOWLEDGE INJECTION: Ensure that the model understands the concept of comparative analysis, specifically that calculating the percentage change for each group separately and then finding the difference between these percentages is necessary to answer questions about relative changes in expenses.</Action>

    </Rule>
<Rule id="2696" phase="generation" confidence="1" source="log_2696" type="Context_Retrieval_Failure">

        <Trigger>Identifying relevant expense data for different employee groups over time</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that the model correctly identifies and retrieves all relevant expense data for each group (e.g., US employees, non-US employees) across the specified time period, to accurately calculate percentage changes and comparisons.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="analysis_log" type="ArithmeticHallucination">
        <Trigger>Percentage calculations involving subsets of financial totals</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations are based on accurately identified and calculated totals and subsets, considering all relevant financial components and their interrelations.</Action>
    </Rule>
<Rule id="2696" phase="generation" confidence="1" source="log_2696" type="ArithmeticError">
        <Trigger>Percentage change calculations involving financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure precise arithmetic operations, especially in percentage change calculations, and apply appropriate rounding based on the context and required precision for financial data analysis.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of average revenue over multiple years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all values for each year are summed and then divided by the total number of years to calculate the average revenue, rather than relying on percentage changes or individual year's revenue.</Action>

    </Rule>
<Rule id="2698" phase="generation" confidence="1" source="log_2698" type="Arithmetic_Hallucination">

        <Trigger>Calculation of growth rate or percentage change between two time periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all calculations of growth rates or percentage changes are performed using precise arithmetic operations, and the results are rounded only at the final step to the appropriate number of significant figures to avoid intermediate rounding errors.</Action>

    </Rule>
<Rule id="001" phase="generation" confidence="1" source="finqa_error_log" type="Arithmetic_Hallucination">

        <Trigger>Ratio calculations involving finite-lived intangible assets across different years</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the ratio of financial metrics across different periods is calculated by dividing the earlier year's value by the later year's value, or vice versa, depending on the context, to avoid inversion of the ratio, and verify the units and signs of the numbers involved.</Action>

    </Rule>
<Rule id="2700" phase="generation" confidence="1" source="log_2700" type="NumericalComputationError">
        <Trigger>Percentage change calculations in financial data</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all percentage change calculations are carried out to at least two decimal places before rounding to the nearest whole number or as per specific financial reporting guidelines</Action>
    </Rule>
<Rule id="2701" phase="generation" confidence="1" source="log_2701" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations in financial data, especially in cash flow analyses.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Always apply the formula ((New Value - Old Value) / Old Value) * 100 for percentage change calculations to ensure accuracy in financial analyses.</Action>
    </Rule>
<Rule id="2701" phase="generation" confidence="1" source="log_2701" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentages of total commercial commitments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total commercial commitments, the correct total value is used and all relevant components, such as credit facilities, are accurately accounted for in the calculation to prevent arithmetic errors.</Action>

    </Rule>
<Rule id="2702" phase="generation" confidence="1" source="log_2702" type="Program_Logic_Failure">

        <Trigger>Dividing components of commercial commitments by total commercial commitments</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the calculation logic correctly reflects the relationship between parts of commercial commitments and the total, ensuring that the percentages are calculated as the ratio of the component to the total, multiplied by 100, to obtain the correct percentage representation.</Action>

    </Rule>
<Rule id="2703" phase="generation" confidence="1" source="log_2703" type="Incorrect_Context_Retrieval">

        <Trigger>Retrieving relevant data for calculating percentages of commercial commitments</Trigger>

        <Action>CRITICAL FORMATTING RULE: Confirm that all necessary data points, including the total amount of commercial commitments and the amount of the specific component (e.g., credit facilities), are correctly identified and retrieved from the context before performing calculations to avoid using incorrect or incomplete information.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_market_performance" type="FormattingError">

        <Trigger>When calculating percentage increase and the model's response lacks a percentage sign or when the question explicitly asks for a percentage value.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always append a percentage sign (%) to the calculated value when the question asks for a percentage increase or decrease, to ensure the response matches the expected format of the query.</Action>

    </Rule>
<Rule id="R001" phase="calculation" confidence="1" source="percentage_change_error" type="ArithmeticHallucination">
        <Trigger>Percentage change calculations involving decimal values.</Trigger>
        <Action>CRITICAL FORMATTING RULE: Ensure all intermediate calculations, especially those involving division and subsequent multiplication (like percentage change calculations), are carried out with full precision until the final step, at which point rounding may be applied as necessary for the context.</Action>
    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving contractual obligations and commitments, specifically when determining the proportion of operating leases to total material obligations.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total contractual obligations, the sum of all specified contractual payments (including operating leases) is accurately determined and used as the denominator, and that the numerator accurately reflects the specific type of obligation (in this case, operating leases) being considered. KNOWLEDGE INJECTION: Double-check arithmetic operations, especially when rounding percentages, to prevent minor discrepancies that could lead to incorrect final percentages.</Action>

    </Rule>
<Rule id="2705" phase="generation" confidence="1" source="log_2705" type="ArithmeticHallucination">

        <Trigger>Percentage calculations involving fractions of a whole, especially when comparing parts of a total to the total itself, such as calculating the percentage of a subset of tracks (e.g., switching and classification yard lines) out of the total miles of track.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Always ensure that percentages are calculated by dividing the part by the whole and then multiplying by 100, rather than relying on intuitive estimates or simplified ratios that might overlook the actual proportions.</Action>

    </Rule>
<Rule id="2706" phase="generation" confidence="1" source="log_2706" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages from given loan amounts and total loan values in financial transactions.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages, ensure to divide the specific share of the loan by the total loan amount and then multiply by 100 to obtain the accurate percentage, avoiding rounding errors and precise decimal calculations.</Action>

    </Rule>
<Rule id="2708" phase="generation" confidence="1" source="log_2708" type="Arithmetic_Hallucination">

        <Trigger>Change calculation between two time periods for a specific financial metric, such as accrued wages and vacation, where the model provides an incorrect difference despite having the correct values for both periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating changes between two time periods for any financial metric, the model subtracts the earlier period's value from the later period's value correctly, taking into account the sign of the result to accurately represent an increase or decrease.</Action>

    </Rule>
<Rule id="2709" phase="generation" confidence="1" source="log_2709" type="Program_Logic_Failure">

        <Trigger>Scenarios where the model is required to calculate the difference between two financial values from different time periods but fails to apply the correct arithmetic operation due to logical errors in its programming or understanding of the question context.</Trigger>

        <Action>KNOWLEDGE INJECTION: Always verify that the arithmetic operations applied to calculate financial changes between periods are logically consistent and correctly implemented, ensuring that the model understands the context and applies the right mathematical operations to derive the accurate difference.</Action>

    </Rule>
<Rule id="2710" phase="generation" confidence="1" source="log_2710" type="Incorrect_Context_Retrieval">

        <Trigger>Questions requiring the model to retrieve and compare financial data from specific time periods, where the error arises from misinterpreting or incorrectly accessing the provided context or data points relevant to the calculation.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Implement a robust context retrieval mechanism that accurately identifies and extracts relevant financial data points for the specified time periods, ensuring that the model accesses and utilizes the correct information when performing calculations involving changes over time.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="percentage_decrease_error" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage decrease between two time periods for financial metrics such as average common shares outstanding</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that percentage decrease calculations are performed using the formula ((Initial Value - Final Value) / Initial Value) * 100, where Initial Value is the value from the earlier time period and Final Value is the value from the later time period, to avoid arithmetic hallucination errors</Action>

    </Rule>
<Rule id="2710" phase="generation" confidence="1" source="log_2710" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving time-series financial data, particularly when calculating year-over-year differences in expenses or revenues.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two time periods, ensure to apply the formula correctly as ((New Value - Old Value) / Old Value) * 100, and verify that the new and old values are correctly identified and sequenced according to the chronological order of the data provided.</Action>

    </Rule>
<Rule id="2710" phase="generation" confidence="1" source="log_2710" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculations involving consecutive years or periods</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes between two consecutive periods, ensure that the formula [(New Value - Old Value) / Old Value] * 100 is applied correctly, paying special attention to the precise values used for New Value and Old Value to avoid rounding errors or incorrect signage.</Action>

    </Rule>
<Rule id="2711" phase="generation" confidence="1" source="log_2711" type="Arithmetic_Hallucination">

        <Trigger>Percentage calculation of shares purchased within a specific period, where the model's response significantly deviates from the correct answer due to an arithmetic error.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentages of shares purchased within a specific timeframe, ensure to divide the number of shares purchased in that period by the total number of shares purchased and then multiply by 100, using the correct and up-to-date total numbers.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="log_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculation of percentages involving total contractual obligations and maturities of long-term debt</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that when calculating percentages of total contractual obligations for future payments, the correct formula is applied: (maturities of long-term debt for the specified year / total contractual obligations) * 100, and verify that the result is rounded correctly to maintain precision.</Action>

    </Rule>
<Rule id="2713" phase="generation" confidence="1" source="log_2713" type="Arithmetic_Hallucination">

        <Trigger>Percentage change calculation involving multi-component changes in financial balances, particularly with regard to deferred tax assets or liabilities, where the initial and final values are provided through changes in valuation allowances or other components.</Trigger>

        <Action>CRITICAL FORMATTING RULE: When calculating percentage changes in financial balances (such as deferred tax assets), ensure that all components of the change are correctly identified and summed to determine the total change from the initial to the final period, then apply the percentage change formula correctly to these totals, not to intermediate or partial changes.</Action>

    </Rule>
<Rule id="R1" phase="generation" confidence="1" source="log_error_analysis" type="Arithmetic_Hallucination">

        <Trigger>When calculating the ratio of two sets of obligations, ensure that all values are considered and summed correctly before performing division.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Verify that all relevant obligations are aggregated and that the correct totals are used in the numerator and denominator before calculating the ratio to prevent arithmetic hallucination.</Action>

    </Rule>
<Rule id="R2" phase="generation" confidence="1" source="log_error_analysis" type="Program_Logic_Failure">

        <Trigger>Upon encountering multiple periods or categories of obligations, ensure that the model correctly applies the calculation across all specified periods or categories.</Trigger>

        <Action>KNOWLEDGE INJECTION: Apply a systematic approach to calculating ratios involving multiple periods or categories by summing all relevant values and then performing the division to prevent program logic failure.</Action>

    </Rule>
<Rule id="R3" phase="generation" confidence="1" source="log_error_analysis" type="Incorrect_Context_Retrieval">

        <Trigger>When the problem context involves comparing or combining different types of financial obligations over various periods, ensure that the model accurately identifies and processes all relevant data.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure thorough context retrieval by identifying all relevant financial obligations and periods mentioned in the problem statement, and then apply the appropriate arithmetic operations to calculate the required ratio.</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic_Hallucination">

        <Trigger>Calculating percentage increase or decrease in financial metrics, such as inventory levels, across different time periods.</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that the formula for percentage change is correctly applied, using the formula: ((New Value - Old Value) / Old Value) * 100, and that all relevant values are accurately retrieved from the context, including any adjustments or conversions between different accounting methods (e.g., LIFO to FIFO).</Action>

    </Rule>
<Rule id="R001" phase="generation" confidence="1" source="error_analysis" type="Arithmetic Precision Error">

        <Trigger>Percentage calculations involving multiple regional totals and specific system counts</Trigger>

        <Action>CRITICAL FORMATTING RULE: Ensure that all percentage calculations are performed with precise division and rounding at the final step to avoid truncation errors, especially when dealing with regional distribution and system counts.</Action>

    </Rule>
</Rulebook>